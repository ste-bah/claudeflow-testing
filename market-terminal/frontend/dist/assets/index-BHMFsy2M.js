function cv(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function hv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ed={exports:{}},zl={},Cd={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=Symbol.for("react.element"),fv=Symbol.for("react.portal"),dv=Symbol.for("react.fragment"),pv=Symbol.for("react.strict_mode"),mv=Symbol.for("react.profiler"),gv=Symbol.for("react.provider"),vv=Symbol.for("react.context"),yv=Symbol.for("react.forward_ref"),xv=Symbol.for("react.suspense"),wv=Symbol.for("react.memo"),Sv=Symbol.for("react.lazy"),Dc=Symbol.iterator;function bv(t){return t===null||typeof t!="object"?null:(t=Dc&&t[Dc]||t["@@iterator"],typeof t=="function"?t:null)}var kd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,zd={};function $i(t,e,n){this.props=t,this.context=e,this.refs=zd,this.updater=n||kd}$i.prototype.isReactComponent={};$i.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Md(){}Md.prototype=$i.prototype;function xu(t,e,n){this.props=t,this.context=e,this.refs=zd,this.updater=n||kd}var wu=xu.prototype=new Md;wu.constructor=xu;Nd(wu,$i.prototype);wu.isPureReactComponent=!0;var Oc=Array.isArray,Rd=Object.prototype.hasOwnProperty,Su={current:null},Pd={key:!0,ref:!0,__self:!0,__source:!0};function jd(t,e,n){var i,s={},r=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(r=""+e.key),e)Rd.call(e,i)&&!Pd.hasOwnProperty(i)&&(s[i]=e[i]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var a=Array(o),u=0;u<o;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)s[i]===void 0&&(s[i]=o[i]);return{$$typeof:Hs,type:t,key:r,ref:l,props:s,_owner:Su.current}}function _v(t,e){return{$$typeof:Hs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hs}function Ev(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ac=/\/+/g;function oo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ev(""+t.key):e.toString(36)}function $r(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Hs:case fv:l=!0}}if(l)return l=t,s=s(l),t=i===""?"."+oo(l,0):i,Oc(s)?(n="",t!=null&&(n=t.replace(Ac,"$&/")+"/"),$r(s,e,n,"",function(u){return u})):s!=null&&(bu(s)&&(s=_v(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Ac,"$&/")+"/")+t)),e.push(s)),1;if(l=0,i=i===""?".":i+":",Oc(t))for(var o=0;o<t.length;o++){r=t[o];var a=i+oo(r,o);l+=$r(r,e,n,a,s)}else if(a=bv(t),typeof a=="function")for(t=a.call(t),o=0;!(r=t.next()).done;)r=r.value,a=i+oo(r,o++),l+=$r(r,e,n,a,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function sr(t,e,n){if(t==null)return t;var i=[],s=0;return $r(t,i,"","",function(r){return e.call(n,r,s++)}),i}function Cv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ae={current:null},Dr={transition:null},kv={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Dr,ReactCurrentOwner:Su};function Td(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:sr,forEach:function(t,e,n){sr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sr(t,function(){e++}),e},toArray:function(t){return sr(t,function(e){return e})||[]},only:function(t){if(!bu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=$i;X.Fragment=dv;X.Profiler=mv;X.PureComponent=xu;X.StrictMode=pv;X.Suspense=xv;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kv;X.act=Td;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Nd({},t.props),s=t.key,r=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,l=Su.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(a in e)Rd.call(e,a)&&!Pd.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&o!==void 0?o[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){o=Array(a);for(var u=0;u<a;u++)o[u]=arguments[u+2];i.children=o}return{$$typeof:Hs,type:t.type,key:s,ref:r,props:i,_owner:l}};X.createContext=function(t){return t={$$typeof:vv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gv,_context:t},t.Consumer=t};X.createElement=jd;X.createFactory=function(t){var e=jd.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:yv,render:t}};X.isValidElement=bu;X.lazy=function(t){return{$$typeof:Sv,_payload:{_status:-1,_result:t},_init:Cv}};X.memo=function(t,e){return{$$typeof:wv,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=Dr.transition;Dr.transition={};try{t()}finally{Dr.transition=e}};X.unstable_act=Td;X.useCallback=function(t,e){return Ae.current.useCallback(t,e)};X.useContext=function(t){return Ae.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return Ae.current.useDeferredValue(t)};X.useEffect=function(t,e){return Ae.current.useEffect(t,e)};X.useId=function(){return Ae.current.useId()};X.useImperativeHandle=function(t,e,n){return Ae.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return Ae.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return Ae.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return Ae.current.useMemo(t,e)};X.useReducer=function(t,e,n){return Ae.current.useReducer(t,e,n)};X.useRef=function(t){return Ae.current.useRef(t)};X.useState=function(t){return Ae.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return Ae.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return Ae.current.useTransition()};X.version="18.3.1";Cd.exports=X;var S=Cd.exports;const Ut=hv(S),Nv=cv({__proto__:null,default:Ut},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv=S,Mv=Symbol.for("react.element"),Rv=Symbol.for("react.fragment"),Pv=Object.prototype.hasOwnProperty,jv=zv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tv={key:!0,ref:!0,__self:!0,__source:!0};function Ld(t,e,n){var i,s={},r=null,l=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)Pv.call(e,i)&&!Tv.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:Mv,type:t,key:r,ref:l,props:s,_owner:jv.current}}zl.Fragment=Rv;zl.jsx=Ld;zl.jsxs=Ld;Ed.exports=zl;var d=Ed.exports,$d={exports:{}},nt={},Dd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,O){var I=R.length;R.push(O);e:for(;0<I;){var W=I-1>>>1,J=R[W];if(0<s(J,O))R[W]=O,R[I]=J,I=W;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var O=R[0],I=R.pop();if(I!==O){R[0]=I;e:for(var W=0,J=R.length,j=J>>>1;W<j;){var D=2*(W+1)-1,B=R[D],A=D+1,$=R[A];if(0>s(B,I))A<J&&0>s($,B)?(R[W]=$,R[A]=I,W=A):(R[W]=B,R[D]=I,W=D);else if(A<J&&0>s($,I))R[W]=$,R[A]=I,W=A;else break e}}return O}function s(R,O){var I=R.sortIndex-O.sortIndex;return I!==0?I:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var a=[],u=[],h=1,c=null,f=3,g=!1,p=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var O=n(u);O!==null;){if(O.callback===null)i(u);else if(O.startTime<=R)i(u),O.sortIndex=O.expirationTime,e(a,O);else break;O=n(u)}}function b(R){if(m=!1,x(R),!p)if(n(a)!==null)p=!0,q(_);else{var O=n(u);O!==null&&Le(b,O.startTime-R)}}function _(R,O){p=!1,m&&(m=!1,v(E),E=-1),g=!0;var I=f;try{for(x(O),c=n(a);c!==null&&(!(c.expirationTime>O)||R&&!F());){var W=c.callback;if(typeof W=="function"){c.callback=null,f=c.priorityLevel;var J=W(c.expirationTime<=O);O=t.unstable_now(),typeof J=="function"?c.callback=J:c===n(a)&&i(a),x(O)}else i(a);c=n(a)}if(c!==null)var j=!0;else{var D=n(u);D!==null&&Le(b,D.startTime-O),j=!1}return j}finally{c=null,f=I,g=!1}}var N=!1,C=null,E=-1,L=5,P=-1;function F(){return!(t.unstable_now()-P<L)}function K(){if(C!==null){var R=t.unstable_now();P=R;var O=!0;try{O=C(!0,R)}finally{O?re():(N=!1,C=null)}}else N=!1}var re;if(typeof y=="function")re=function(){y(K)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ee=Q.port2;Q.port1.onmessage=K,re=function(){ee.postMessage(null)}}else re=function(){w(K,0)};function q(R){C=R,N||(N=!0,re())}function Le(R,O){E=w(function(){R(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,q(_))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var I=f;f=O;try{return R()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var I=f;f=R;try{return O()}finally{f=I}},t.unstable_scheduleCallback=function(R,O,I){var W=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?W+I:W):I=W,R){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=I+J,R={id:h++,callback:O,priorityLevel:R,startTime:I,expirationTime:J,sortIndex:-1},I>W?(R.sortIndex=I,e(u,R),n(a)===null&&R===n(u)&&(m?(v(E),E=-1):m=!0,Le(b,I-W))):(R.sortIndex=J,e(a,R),p||g||(p=!0,q(_))),R},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(R){var O=f;return function(){var I=f;f=O;try{return R.apply(this,arguments)}finally{f=I}}}})(Od);Dd.exports=Od;var Lv=Dd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=S,tt=Lv;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ad=new Set,ws={};function Gn(t,e){Ei(t,e),Ei(t+"Capture",e)}function Ei(t,e){for(ws[t]=e,t=0;t<e.length;t++)Ad.add(e[t])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=Object.prototype.hasOwnProperty,Dv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ic={},Fc={};function Ov(t){return da.call(Fc,t)?!0:da.call(Ic,t)?!1:Dv.test(t)?Fc[t]=!0:(Ic[t]=!0,!1)}function Av(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Iv(t,e,n,i){if(e===null||typeof e>"u"||Av(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ie(t,e,n,i,s,r,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=l}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ze[t]=new Ie(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ze[e]=new Ie(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ze[t]=new Ie(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ze[t]=new Ie(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ze[t]=new Ie(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ze[t]=new Ie(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ze[t]=new Ie(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ze[t]=new Ie(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ze[t]=new Ie(t,5,!1,t.toLowerCase(),null,!1,!1)});var _u=/[\-:]([a-z])/g;function Eu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_u,Eu);ze[e]=new Ie(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_u,Eu);ze[e]=new Ie(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_u,Eu);ze[e]=new Ie(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ze[t]=new Ie(t,1,!1,t.toLowerCase(),null,!1,!1)});ze.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ze[t]=new Ie(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cu(t,e,n,i){var s=ze.hasOwnProperty(e)?ze[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Iv(e,n,s,i)&&(n=null),i||s===null?Ov(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Gt=$v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rr=Symbol.for("react.element"),ti=Symbol.for("react.portal"),ni=Symbol.for("react.fragment"),ku=Symbol.for("react.strict_mode"),pa=Symbol.for("react.profiler"),Id=Symbol.for("react.provider"),Fd=Symbol.for("react.context"),Nu=Symbol.for("react.forward_ref"),ma=Symbol.for("react.suspense"),ga=Symbol.for("react.suspense_list"),zu=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Vd=Symbol.for("react.offscreen"),Vc=Symbol.iterator;function Bi(t){return t===null||typeof t!="object"?null:(t=Vc&&t[Vc]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,ao;function Zi(t){if(ao===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ao=e&&e[1]||""}return`
`+ao+t}var uo=!1;function co(t,e){if(!t||uo)return"";uo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),l=s.length-1,o=r.length-1;1<=l&&0<=o&&s[l]!==r[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==r[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==r[o]){var a=`
`+s[l].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=l&&0<=o);break}}}finally{uo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zi(t):""}function Fv(t){switch(t.tag){case 5:return Zi(t.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 2:case 15:return t=co(t.type,!1),t;case 11:return t=co(t.type.render,!1),t;case 1:return t=co(t.type,!0),t;default:return""}}function va(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ni:return"Fragment";case ti:return"Portal";case pa:return"Profiler";case ku:return"StrictMode";case ma:return"Suspense";case ga:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fd:return(t.displayName||"Context")+".Consumer";case Id:return(t._context.displayName||"Context")+".Provider";case Nu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zu:return e=t.displayName||null,e!==null?e:va(t.type)||"Memo";case Zt:e=t._payload,t=t._init;try{return va(t(e))}catch{}}return null}function Vv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return va(e);case 8:return e===ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Bv(t){var e=Bd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){i=""+l,r.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lr(t){t._valueTracker||(t._valueTracker=Bv(t))}function Wd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Bd(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Yr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ya(t,e){var n=e.checked;return ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bc(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=gn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ud(t,e){e=e.checked,e!=null&&Cu(t,"checked",e,!1)}function xa(t,e){Ud(t,e);var n=gn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wa(t,e.type,n):e.hasOwnProperty("defaultValue")&&wa(t,e.type,gn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wa(t,e,n){(e!=="number"||Yr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var es=Array.isArray;function gi(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+gn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Sa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Uc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(es(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gn(n)}}function Hd(t,e){var n=gn(e.value),i=gn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Hc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ba(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var or,Xd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(or=or||document.createElement("div"),or.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=or.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ss(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wv=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(t){Wv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),os[e]=os[t]})});function qd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||os.hasOwnProperty(t)&&os[t]?(""+e).trim():e+"px"}function Gd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=qd(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var Uv=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _a(t,e){if(e){if(Uv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Ea(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ca=null;function Mu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ka=null,vi=null,yi=null;function Kc(t){if(t=qs(t)){if(typeof ka!="function")throw Error(M(280));var e=t.stateNode;e&&(e=Tl(e),ka(t.stateNode,t.type,e))}}function Qd(t){vi?yi?yi.push(t):yi=[t]:vi=t}function Jd(){if(vi){var t=vi,e=yi;if(yi=vi=null,Kc(t),e)for(t=0;t<e.length;t++)Kc(e[t])}}function Yd(t,e){return t(e)}function Zd(){}var ho=!1;function ep(t,e,n){if(ho)return t(e,n);ho=!0;try{return Yd(t,e,n)}finally{ho=!1,(vi!==null||yi!==null)&&(Zd(),Jd())}}function bs(t,e){var n=t.stateNode;if(n===null)return null;var i=Tl(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var Na=!1;if(Ht)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){Na=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{Na=!1}function Hv(t,e,n,i,s,r,l,o,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var as=!1,Zr=null,el=!1,za=null,Kv={onError:function(t){as=!0,Zr=t}};function Xv(t,e,n,i,s,r,l,o,a){as=!1,Zr=null,Hv.apply(Kv,arguments)}function qv(t,e,n,i,s,r,l,o,a){if(Xv.apply(this,arguments),as){if(as){var u=Zr;as=!1,Zr=null}else throw Error(M(198));el||(el=!0,za=u)}}function Qn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xc(t){if(Qn(t)!==t)throw Error(M(188))}function Gv(t){var e=t.alternate;if(!e){if(e=Qn(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Xc(s),t;if(r===i)return Xc(s),e;r=r.sibling}throw Error(M(188))}if(n.return!==i.return)n=s,i=r;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,i=r;break}if(o===i){l=!0,i=s,n=r;break}o=o.sibling}if(!l){for(o=r.child;o;){if(o===n){l=!0,n=r,i=s;break}if(o===i){l=!0,i=r,n=s;break}o=o.sibling}if(!l)throw Error(M(189))}}if(n.alternate!==i)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function np(t){return t=Gv(t),t!==null?ip(t):null}function ip(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ip(t);if(e!==null)return e;t=t.sibling}return null}var sp=tt.unstable_scheduleCallback,qc=tt.unstable_cancelCallback,Qv=tt.unstable_shouldYield,Jv=tt.unstable_requestPaint,ge=tt.unstable_now,Yv=tt.unstable_getCurrentPriorityLevel,Ru=tt.unstable_ImmediatePriority,rp=tt.unstable_UserBlockingPriority,tl=tt.unstable_NormalPriority,Zv=tt.unstable_LowPriority,lp=tt.unstable_IdlePriority,Ml=null,Tt=null;function e0(t){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Ml,t,void 0,(t.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:i0,t0=Math.log,n0=Math.LN2;function i0(t){return t>>>=0,t===0?32:31-(t0(t)/n0|0)|0}var ar=64,ur=4194304;function ts(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nl(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?i=ts(o):(r&=l,r!==0&&(i=ts(r)))}else l=n&~s,l!==0?i=ts(l):r!==0&&(i=ts(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-vt(e),s=1<<n,i|=t[n],e&=~s;return i}function s0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var l=31-vt(r),o=1<<l,a=s[l];a===-1?(!(o&n)||o&i)&&(s[l]=s0(o,e)):a<=e&&(t.expiredLanes|=o),r&=~o}}function Ma(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function op(){var t=ar;return ar<<=1,!(ar&4194240)&&(ar=64),t}function fo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ks(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vt(e),t[e]=n}function l0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-vt(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function Pu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-vt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var Y=0;function ap(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var up,ju,cp,hp,fp,Ra=!1,cr=[],an=null,un=null,cn=null,_s=new Map,Es=new Map,nn=[],o0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gc(t,e){switch(t){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":_s.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(e.pointerId)}}function Ui(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=qs(e),e!==null&&ju(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function a0(t,e,n,i,s){switch(e){case"focusin":return an=Ui(an,t,e,n,i,s),!0;case"dragenter":return un=Ui(un,t,e,n,i,s),!0;case"mouseover":return cn=Ui(cn,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return _s.set(r,Ui(_s.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Es.set(r,Ui(Es.get(r)||null,t,e,n,i,s)),!0}return!1}function dp(t){var e=Mn(t.target);if(e!==null){var n=Qn(e);if(n!==null){if(e=n.tag,e===13){if(e=tp(n),e!==null){t.blockedOn=e,fp(t.priority,function(){cp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Or(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ca=i,n.target.dispatchEvent(i),Ca=null}else return e=qs(n),e!==null&&ju(e),t.blockedOn=n,!1;e.shift()}return!0}function Qc(t,e,n){Or(t)&&n.delete(e)}function u0(){Ra=!1,an!==null&&Or(an)&&(an=null),un!==null&&Or(un)&&(un=null),cn!==null&&Or(cn)&&(cn=null),_s.forEach(Qc),Es.forEach(Qc)}function Hi(t,e){t.blockedOn===e&&(t.blockedOn=null,Ra||(Ra=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,u0)))}function Cs(t){function e(s){return Hi(s,t)}if(0<cr.length){Hi(cr[0],t);for(var n=1;n<cr.length;n++){var i=cr[n];i.blockedOn===t&&(i.blockedOn=null)}}for(an!==null&&Hi(an,t),un!==null&&Hi(un,t),cn!==null&&Hi(cn,t),_s.forEach(e),Es.forEach(e),n=0;n<nn.length;n++)i=nn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<nn.length&&(n=nn[0],n.blockedOn===null);)dp(n),n.blockedOn===null&&nn.shift()}var xi=Gt.ReactCurrentBatchConfig,il=!0;function c0(t,e,n,i){var s=Y,r=xi.transition;xi.transition=null;try{Y=1,Tu(t,e,n,i)}finally{Y=s,xi.transition=r}}function h0(t,e,n,i){var s=Y,r=xi.transition;xi.transition=null;try{Y=4,Tu(t,e,n,i)}finally{Y=s,xi.transition=r}}function Tu(t,e,n,i){if(il){var s=Pa(t,e,n,i);if(s===null)_o(t,e,i,sl,n),Gc(t,i);else if(a0(s,t,e,n,i))i.stopPropagation();else if(Gc(t,i),e&4&&-1<o0.indexOf(t)){for(;s!==null;){var r=qs(s);if(r!==null&&up(r),r=Pa(t,e,n,i),r===null&&_o(t,e,i,sl,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else _o(t,e,i,null,n)}}var sl=null;function Pa(t,e,n,i){if(sl=null,t=Mu(i),t=Mn(t),t!==null)if(e=Qn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sl=t,null}function pp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yv()){case Ru:return 1;case rp:return 4;case tl:case Zv:return 16;case lp:return 536870912;default:return 16}default:return 16}}var ln=null,Lu=null,Ar=null;function mp(){if(Ar)return Ar;var t,e=Lu,n=e.length,i,s="value"in ln?ln.value:ln.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===s[r-i];i++);return Ar=s.slice(t,1<i?1-i:void 0)}function Ir(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hr(){return!0}function Jc(){return!1}function it(t){function e(n,i,s,r,l){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?hr:Jc,this.isPropagationStopped=Jc,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),e}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=it(Di),Xs=ce({},Di,{view:0,detail:0}),f0=it(Xs),po,mo,Ki,Rl=ce({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ki&&(Ki&&t.type==="mousemove"?(po=t.screenX-Ki.screenX,mo=t.screenY-Ki.screenY):mo=po=0,Ki=t),po)},movementY:function(t){return"movementY"in t?t.movementY:mo}}),Yc=it(Rl),d0=ce({},Rl,{dataTransfer:0}),p0=it(d0),m0=ce({},Xs,{relatedTarget:0}),go=it(m0),g0=ce({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=it(g0),y0=ce({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),x0=it(y0),w0=ce({},Di,{data:0}),Zc=it(w0),S0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_0[t])?!!e[t]:!1}function Du(){return E0}var C0=ce({},Xs,{key:function(t){if(t.key){var e=S0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(t){return t.type==="keypress"?Ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k0=it(C0),N0=ce({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=it(N0),z0=ce({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),M0=it(z0),R0=ce({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),P0=it(R0),j0=ce({},Rl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T0=it(j0),L0=[9,13,27,32],Ou=Ht&&"CompositionEvent"in window,us=null;Ht&&"documentMode"in document&&(us=document.documentMode);var $0=Ht&&"TextEvent"in window&&!us,gp=Ht&&(!Ou||us&&8<us&&11>=us),th=" ",nh=!1;function vp(t,e){switch(t){case"keyup":return L0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ii=!1;function D0(t,e){switch(t){case"compositionend":return yp(e);case"keypress":return e.which!==32?null:(nh=!0,th);case"textInput":return t=e.data,t===th&&nh?null:t;default:return null}}function O0(t,e){if(ii)return t==="compositionend"||!Ou&&vp(t,e)?(t=mp(),Ar=Lu=ln=null,ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gp&&e.locale!=="ko"?null:e.data;default:return null}}var A0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ih(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!A0[t.type]:e==="textarea"}function xp(t,e,n,i){Qd(i),e=rl(e,"onChange"),0<e.length&&(n=new $u("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var cs=null,ks=null;function I0(t){Rp(t,0)}function Pl(t){var e=li(t);if(Wd(e))return t}function F0(t,e){if(t==="change")return e}var wp=!1;if(Ht){var vo;if(Ht){var yo="oninput"in document;if(!yo){var sh=document.createElement("div");sh.setAttribute("oninput","return;"),yo=typeof sh.oninput=="function"}vo=yo}else vo=!1;wp=vo&&(!document.documentMode||9<document.documentMode)}function rh(){cs&&(cs.detachEvent("onpropertychange",Sp),ks=cs=null)}function Sp(t){if(t.propertyName==="value"&&Pl(ks)){var e=[];xp(e,ks,t,Mu(t)),ep(I0,e)}}function V0(t,e,n){t==="focusin"?(rh(),cs=e,ks=n,cs.attachEvent("onpropertychange",Sp)):t==="focusout"&&rh()}function B0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pl(ks)}function W0(t,e){if(t==="click")return Pl(e)}function U0(t,e){if(t==="input"||t==="change")return Pl(e)}function H0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wt=typeof Object.is=="function"?Object.is:H0;function Ns(t,e){if(wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!da.call(e,s)||!wt(t[s],e[s]))return!1}return!0}function lh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oh(t,e){var n=lh(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lh(n)}}function bp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _p(){for(var t=window,e=Yr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yr(t.document)}return e}function Au(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K0(t){var e=_p(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bp(n.ownerDocument.documentElement,n)){if(i!==null&&Au(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=oh(n,r);var l=oh(n,i);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var X0=Ht&&"documentMode"in document&&11>=document.documentMode,si=null,ja=null,hs=null,Ta=!1;function ah(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ta||si==null||si!==Yr(i)||(i=si,"selectionStart"in i&&Au(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),hs&&Ns(hs,i)||(hs=i,i=rl(ja,"onSelect"),0<i.length&&(e=new $u("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=si)))}function fr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ri={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionend:fr("Transition","TransitionEnd")},xo={},Ep={};Ht&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function jl(t){if(xo[t])return xo[t];if(!ri[t])return t;var e=ri[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ep)return xo[t]=e[n];return t}var Cp=jl("animationend"),kp=jl("animationiteration"),Np=jl("animationstart"),zp=jl("transitionend"),Mp=new Map,uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(t,e){Mp.set(t,e),Gn(e,[t])}for(var wo=0;wo<uh.length;wo++){var So=uh[wo],q0=So.toLowerCase(),G0=So[0].toUpperCase()+So.slice(1);xn(q0,"on"+G0)}xn(Cp,"onAnimationEnd");xn(kp,"onAnimationIteration");xn(Np,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(zp,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function ch(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,qv(i,e,void 0,t),t.currentTarget=null}function Rp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var l=i.length-1;0<=l;l--){var o=i[l],a=o.instance,u=o.currentTarget;if(o=o.listener,a!==r&&s.isPropagationStopped())break e;ch(s,o,u),r=a}else for(l=0;l<i.length;l++){if(o=i[l],a=o.instance,u=o.currentTarget,o=o.listener,a!==r&&s.isPropagationStopped())break e;ch(s,o,u),r=a}}}if(el)throw t=za,el=!1,za=null,t}function ne(t,e){var n=e[Aa];n===void 0&&(n=e[Aa]=new Set);var i=t+"__bubble";n.has(i)||(Pp(e,t,2,!1),n.add(i))}function bo(t,e,n){var i=0;e&&(i|=4),Pp(n,t,i,e)}var dr="_reactListening"+Math.random().toString(36).slice(2);function zs(t){if(!t[dr]){t[dr]=!0,Ad.forEach(function(n){n!=="selectionchange"&&(Q0.has(n)||bo(n,!1,t),bo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dr]||(e[dr]=!0,bo("selectionchange",!1,e))}}function Pp(t,e,n,i){switch(pp(e)){case 1:var s=c0;break;case 4:s=h0;break;default:s=Tu}n=s.bind(null,e,n,t),s=void 0,!Na||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function _o(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var o=i.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=i.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Mn(o),l===null)return;if(a=l.tag,a===5||a===6){i=r=l;continue e}o=o.parentNode}}i=i.return}ep(function(){var u=r,h=Mu(n),c=[];e:{var f=Mp.get(t);if(f!==void 0){var g=$u,p=t;switch(t){case"keypress":if(Ir(n)===0)break e;case"keydown":case"keyup":g=k0;break;case"focusin":p="focus",g=go;break;case"focusout":p="blur",g=go;break;case"beforeblur":case"afterblur":g=go;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=p0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=M0;break;case Cp:case kp:case Np:g=v0;break;case zp:g=P0;break;case"scroll":g=f0;break;case"wheel":g=T0;break;case"copy":case"cut":case"paste":g=x0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=eh}var m=(e&4)!==0,w=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=bs(y,v),b!=null&&m.push(Ms(y,b,x)))),w)break;y=y.return}0<m.length&&(f=new g(f,p,null,n,h),c.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Ca&&(p=n.relatedTarget||n.fromElement)&&(Mn(p)||p[Kt]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=u,p=p?Mn(p):null,p!==null&&(w=Qn(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=u),g!==p)){if(m=Yc,b="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=eh,b="onPointerLeave",v="onPointerEnter",y="pointer"),w=g==null?f:li(g),x=p==null?f:li(p),f=new m(b,y+"leave",g,n,h),f.target=w,f.relatedTarget=x,b=null,Mn(h)===u&&(m=new m(v,y+"enter",p,n,h),m.target=x,m.relatedTarget=w,b=m),w=b,g&&p)t:{for(m=g,v=p,y=0,x=m;x;x=Jn(x))y++;for(x=0,b=v;b;b=Jn(b))x++;for(;0<y-x;)m=Jn(m),y--;for(;0<x-y;)v=Jn(v),x--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Jn(m),v=Jn(v)}m=null}else m=null;g!==null&&hh(c,f,g,m,!1),p!==null&&w!==null&&hh(c,w,p,m,!0)}}e:{if(f=u?li(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var _=F0;else if(ih(f))if(wp)_=U0;else{_=B0;var N=V0}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=W0);if(_&&(_=_(t,u))){xp(c,_,n,h);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&wa(f,"number",f.value)}switch(N=u?li(u):window,t){case"focusin":(ih(N)||N.contentEditable==="true")&&(si=N,ja=u,hs=null);break;case"focusout":hs=ja=si=null;break;case"mousedown":Ta=!0;break;case"contextmenu":case"mouseup":case"dragend":Ta=!1,ah(c,n,h);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":ah(c,n,h)}var C;if(Ou)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ii?vp(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(gp&&n.locale!=="ko"&&(ii||E!=="onCompositionStart"?E==="onCompositionEnd"&&ii&&(C=mp()):(ln=h,Lu="value"in ln?ln.value:ln.textContent,ii=!0)),N=rl(u,E),0<N.length&&(E=new Zc(E,t,null,n,h),c.push({event:E,listeners:N}),C?E.data=C:(C=yp(n),C!==null&&(E.data=C)))),(C=$0?D0(t,n):O0(t,n))&&(u=rl(u,"onBeforeInput"),0<u.length&&(h=new Zc("onBeforeInput","beforeinput",null,n,h),c.push({event:h,listeners:u}),h.data=C))}Rp(c,e)})}function Ms(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rl(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=bs(t,n),r!=null&&i.unshift(Ms(t,r,s)),r=bs(t,e),r!=null&&i.push(Ms(t,r,s))),t=t.return}return i}function Jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hh(t,e,n,i,s){for(var r=e._reactName,l=[];n!==null&&n!==i;){var o=n,a=o.alternate,u=o.stateNode;if(a!==null&&a===i)break;o.tag===5&&u!==null&&(o=u,s?(a=bs(n,r),a!=null&&l.unshift(Ms(n,a,o))):s||(a=bs(n,r),a!=null&&l.push(Ms(n,a,o)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var J0=/\r\n?/g,Y0=/\u0000|\uFFFD/g;function fh(t){return(typeof t=="string"?t:""+t).replace(J0,`
`).replace(Y0,"")}function pr(t,e,n){if(e=fh(e),fh(t)!==e&&n)throw Error(M(425))}function ll(){}var La=null,$a=null;function Da(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oa=typeof setTimeout=="function"?setTimeout:void 0,Z0=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,ey=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(t){return dh.resolve(null).then(t).catch(ty)}:Oa;function ty(t){setTimeout(function(){throw t})}function Eo(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),Cs(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Cs(e)}function hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ph(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Oi,Rs="__reactProps$"+Oi,Kt="__reactContainer$"+Oi,Aa="__reactEvents$"+Oi,ny="__reactListeners$"+Oi,iy="__reactHandles$"+Oi;function Mn(t){var e=t[Pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kt]||n[Pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ph(t);t!==null;){if(n=t[Pt])return n;t=ph(t)}return e}t=n,n=t.parentNode}return null}function qs(t){return t=t[Pt]||t[Kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function Tl(t){return t[Rs]||null}var Ia=[],oi=-1;function wn(t){return{current:t}}function se(t){0>oi||(t.current=Ia[oi],Ia[oi]=null,oi--)}function te(t,e){oi++,Ia[oi]=t.current,t.current=e}var vn={},Te=wn(vn),Ue=wn(!1),An=vn;function Ci(t,e){var n=t.type.contextTypes;if(!n)return vn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function He(t){return t=t.childContextTypes,t!=null}function ol(){se(Ue),se(Te)}function mh(t,e,n){if(Te.current!==vn)throw Error(M(168));te(Te,e),te(Ue,n)}function jp(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(M(108,Vv(t)||"Unknown",s));return ce({},n,i)}function al(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vn,An=Te.current,te(Te,t),te(Ue,Ue.current),!0}function gh(t,e,n){var i=t.stateNode;if(!i)throw Error(M(169));n?(t=jp(t,e,An),i.__reactInternalMemoizedMergedChildContext=t,se(Ue),se(Te),te(Te,t)):se(Ue),te(Ue,n)}var Ot=null,Ll=!1,Co=!1;function Tp(t){Ot===null?Ot=[t]:Ot.push(t)}function sy(t){Ll=!0,Tp(t)}function Sn(){if(!Co&&Ot!==null){Co=!0;var t=0,e=Y;try{var n=Ot;for(Y=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ot=null,Ll=!1}catch(s){throw Ot!==null&&(Ot=Ot.slice(t+1)),sp(Ru,Sn),s}finally{Y=e,Co=!1}}return null}var ai=[],ui=0,ul=null,cl=0,lt=[],ot=0,In=null,It=1,Ft="";function kn(t,e){ai[ui++]=cl,ai[ui++]=ul,ul=t,cl=e}function Lp(t,e,n){lt[ot++]=It,lt[ot++]=Ft,lt[ot++]=In,In=t;var i=It;t=Ft;var s=32-vt(i)-1;i&=~(1<<s),n+=1;var r=32-vt(e)+s;if(30<r){var l=s-s%5;r=(i&(1<<l)-1).toString(32),i>>=l,s-=l,It=1<<32-vt(e)+s|n<<s|i,Ft=r+t}else It=1<<r|n<<s|i,Ft=t}function Iu(t){t.return!==null&&(kn(t,1),Lp(t,1,0))}function Fu(t){for(;t===ul;)ul=ai[--ui],ai[ui]=null,cl=ai[--ui],ai[ui]=null;for(;t===In;)In=lt[--ot],lt[ot]=null,Ft=lt[--ot],lt[ot]=null,It=lt[--ot],lt[ot]=null}var et=null,Ze=null,le=!1,gt=null;function $p(t,e){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,et=t,Ze=hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,et=t,Ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=In!==null?{id:It,overflow:Ft}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,et=t,Ze=null,!0):!1;default:return!1}}function Fa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Va(t){if(le){var e=Ze;if(e){var n=e;if(!vh(t,e)){if(Fa(t))throw Error(M(418));e=hn(n.nextSibling);var i=et;e&&vh(t,e)?$p(i,n):(t.flags=t.flags&-4097|2,le=!1,et=t)}}else{if(Fa(t))throw Error(M(418));t.flags=t.flags&-4097|2,le=!1,et=t}}}function yh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;et=t}function mr(t){if(t!==et)return!1;if(!le)return yh(t),le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Da(t.type,t.memoizedProps)),e&&(e=Ze)){if(Fa(t))throw Dp(),Error(M(418));for(;e;)$p(t,e),e=hn(e.nextSibling)}if(yh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ze=hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ze=null}}else Ze=et?hn(t.stateNode.nextSibling):null;return!0}function Dp(){for(var t=Ze;t;)t=hn(t.nextSibling)}function ki(){Ze=et=null,le=!1}function Vu(t){gt===null?gt=[t]:gt.push(t)}var ry=Gt.ReactCurrentBatchConfig;function Xi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var i=n.stateNode}if(!i)throw Error(M(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(l){var o=s.refs;l===null?delete o[r]:o[r]=l},e._stringRef=r,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function gr(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xh(t){var e=t._init;return e(t._payload)}function Op(t){function e(v,y){if(t){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=mn(v,y),v.index=0,v.sibling=null,v}function r(v,y,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function l(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,y,x,b){return y===null||y.tag!==6?(y=jo(x,v.mode,b),y.return=v,y):(y=s(y,x),y.return=v,y)}function a(v,y,x,b){var _=x.type;return _===ni?h(v,y,x.props.children,b,x.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Zt&&xh(_)===y.type)?(b=s(y,x.props),b.ref=Xi(v,y,x),b.return=v,b):(b=Kr(x.type,x.key,x.props,null,v.mode,b),b.ref=Xi(v,y,x),b.return=v,b)}function u(v,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=To(x,v.mode,b),y.return=v,y):(y=s(y,x.children||[]),y.return=v,y)}function h(v,y,x,b,_){return y===null||y.tag!==7?(y=Ln(x,v.mode,b,_),y.return=v,y):(y=s(y,x),y.return=v,y)}function c(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jo(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rr:return x=Kr(y.type,y.key,y.props,null,v.mode,x),x.ref=Xi(v,null,y),x.return=v,x;case ti:return y=To(y,v.mode,x),y.return=v,y;case Zt:var b=y._init;return c(v,b(y._payload),x)}if(es(y)||Bi(y))return y=Ln(y,v.mode,x,null),y.return=v,y;gr(v,y)}return null}function f(v,y,x,b){var _=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(v,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rr:return x.key===_?a(v,y,x,b):null;case ti:return x.key===_?u(v,y,x,b):null;case Zt:return _=x._init,f(v,y,_(x._payload),b)}if(es(x)||Bi(x))return _!==null?null:h(v,y,x,b,null);gr(v,x)}return null}function g(v,y,x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,o(y,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case rr:return v=v.get(b.key===null?x:b.key)||null,a(y,v,b,_);case ti:return v=v.get(b.key===null?x:b.key)||null,u(y,v,b,_);case Zt:var N=b._init;return g(v,y,x,N(b._payload),_)}if(es(b)||Bi(b))return v=v.get(x)||null,h(y,v,b,_,null);gr(y,b)}return null}function p(v,y,x,b){for(var _=null,N=null,C=y,E=y=0,L=null;C!==null&&E<x.length;E++){C.index>E?(L=C,C=null):L=C.sibling;var P=f(v,C,x[E],b);if(P===null){C===null&&(C=L);break}t&&C&&P.alternate===null&&e(v,C),y=r(P,y,E),N===null?_=P:N.sibling=P,N=P,C=L}if(E===x.length)return n(v,C),le&&kn(v,E),_;if(C===null){for(;E<x.length;E++)C=c(v,x[E],b),C!==null&&(y=r(C,y,E),N===null?_=C:N.sibling=C,N=C);return le&&kn(v,E),_}for(C=i(v,C);E<x.length;E++)L=g(C,v,E,x[E],b),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?E:L.key),y=r(L,y,E),N===null?_=L:N.sibling=L,N=L);return t&&C.forEach(function(F){return e(v,F)}),le&&kn(v,E),_}function m(v,y,x,b){var _=Bi(x);if(typeof _!="function")throw Error(M(150));if(x=_.call(x),x==null)throw Error(M(151));for(var N=_=null,C=y,E=y=0,L=null,P=x.next();C!==null&&!P.done;E++,P=x.next()){C.index>E?(L=C,C=null):L=C.sibling;var F=f(v,C,P.value,b);if(F===null){C===null&&(C=L);break}t&&C&&F.alternate===null&&e(v,C),y=r(F,y,E),N===null?_=F:N.sibling=F,N=F,C=L}if(P.done)return n(v,C),le&&kn(v,E),_;if(C===null){for(;!P.done;E++,P=x.next())P=c(v,P.value,b),P!==null&&(y=r(P,y,E),N===null?_=P:N.sibling=P,N=P);return le&&kn(v,E),_}for(C=i(v,C);!P.done;E++,P=x.next())P=g(C,v,E,P.value,b),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?E:P.key),y=r(P,y,E),N===null?_=P:N.sibling=P,N=P);return t&&C.forEach(function(K){return e(v,K)}),le&&kn(v,E),_}function w(v,y,x,b){if(typeof x=="object"&&x!==null&&x.type===ni&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case rr:e:{for(var _=x.key,N=y;N!==null;){if(N.key===_){if(_=x.type,_===ni){if(N.tag===7){n(v,N.sibling),y=s(N,x.props.children),y.return=v,v=y;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Zt&&xh(_)===N.type){n(v,N.sibling),y=s(N,x.props),y.ref=Xi(v,N,x),y.return=v,v=y;break e}n(v,N);break}else e(v,N);N=N.sibling}x.type===ni?(y=Ln(x.props.children,v.mode,b,x.key),y.return=v,v=y):(b=Kr(x.type,x.key,x.props,null,v.mode,b),b.ref=Xi(v,y,x),b.return=v,v=b)}return l(v);case ti:e:{for(N=x.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=s(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=To(x,v.mode,b),y.return=v,v=y}return l(v);case Zt:return N=x._init,w(v,y,N(x._payload),b)}if(es(x))return p(v,y,x,b);if(Bi(x))return m(v,y,x,b);gr(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,x),y.return=v,v=y):(n(v,y),y=jo(x,v.mode,b),y.return=v,v=y),l(v)):n(v,y)}return w}var Ni=Op(!0),Ap=Op(!1),hl=wn(null),fl=null,ci=null,Bu=null;function Wu(){Bu=ci=fl=null}function Uu(t){var e=hl.current;se(hl),t._currentValue=e}function Ba(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function wi(t,e){fl=t,Bu=ci=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(We=!0),t.firstContext=null)}function ct(t){var e=t._currentValue;if(Bu!==t)if(t={context:t,memoizedValue:e,next:null},ci===null){if(fl===null)throw Error(M(308));ci=t,fl.dependencies={lanes:0,firstContext:t}}else ci=ci.next=t;return e}var Rn=null;function Hu(t){Rn===null?Rn=[t]:Rn.push(t)}function Ip(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Hu(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xt(t,i)}function Xt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var en=!1;function Ku(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,G&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Xt(t,n)}return s=i.interleaved,s===null?(e.next=e,Hu(i)):(e.next=s.next,s.next=e),i.interleaved=e,Xt(t,n)}function Fr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Pu(t,n)}}function wh(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=l:r=r.next=l,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dl(t,e,n,i){var s=t.updateQueue;en=!1;var r=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var a=o,u=a.next;a.next=null,l===null?r=u:l.next=u,l=a;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=a))}if(r!==null){var c=s.baseState;l=0,h=u=a=null,o=r;do{var f=o.lane,g=o.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,m=o;switch(f=e,g=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){c=p.call(g,c,f);break e}c=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(g,c,f):p,f==null)break e;c=ce({},c,f);break e;case 2:en=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=g,a=c):h=h.next=g,l|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Vn|=l,t.lanes=l,t.memoizedState=c}}function Sh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(M(191,s));s.call(i)}}}var Gs={},Lt=wn(Gs),Ps=wn(Gs),js=wn(Gs);function Pn(t){if(t===Gs)throw Error(M(174));return t}function Xu(t,e){switch(te(js,e),te(Ps,t),te(Lt,Gs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ba(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ba(e,t)}se(Lt),te(Lt,e)}function zi(){se(Lt),se(Ps),se(js)}function Vp(t){Pn(js.current);var e=Pn(Lt.current),n=ba(e,t.type);e!==n&&(te(Ps,t),te(Lt,n))}function qu(t){Ps.current===t&&(se(Lt),se(Ps))}var oe=wn(0);function pl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ko=[];function Gu(){for(var t=0;t<ko.length;t++)ko[t]._workInProgressVersionPrimary=null;ko.length=0}var Vr=Gt.ReactCurrentDispatcher,No=Gt.ReactCurrentBatchConfig,Fn=0,ue=null,we=null,be=null,ml=!1,fs=!1,Ts=0,ly=0;function Me(){throw Error(M(321))}function Qu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wt(t[n],e[n]))return!1;return!0}function Ju(t,e,n,i,s,r){if(Fn=r,ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vr.current=t===null||t.memoizedState===null?cy:hy,t=n(i,s),fs){r=0;do{if(fs=!1,Ts=0,25<=r)throw Error(M(301));r+=1,be=we=null,e.updateQueue=null,Vr.current=fy,t=n(i,s)}while(fs)}if(Vr.current=gl,e=we!==null&&we.next!==null,Fn=0,be=we=ue=null,ml=!1,e)throw Error(M(300));return t}function Yu(){var t=Ts!==0;return Ts=0,t}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ue.memoizedState=be=t:be=be.next=t,be}function ht(){if(we===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=be===null?ue.memoizedState:be.next;if(e!==null)be=e,we=t;else{if(t===null)throw Error(M(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},be===null?ue.memoizedState=be=t:be=be.next=t}return be}function Ls(t,e){return typeof e=="function"?e(t):e}function zo(t){var e=ht(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var i=we,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var l=s.next;s.next=r.next,r.next=l}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var o=l=null,a=null,u=r;do{var h=u.lane;if((Fn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(o=a=c,l=i):a=a.next=c,ue.lanes|=h,Vn|=h}u=u.next}while(u!==null&&u!==r);a===null?l=i:a.next=o,wt(i,e.memoizedState)||(We=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=a,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,ue.lanes|=r,Vn|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mo(t){var e=ht(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do r=t(r,l.action),l=l.next;while(l!==s);wt(r,e.memoizedState)||(We=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function Bp(){}function Wp(t,e){var n=ue,i=ht(),s=e(),r=!wt(i.memoizedState,s);if(r&&(i.memoizedState=s,We=!0),i=i.queue,Zu(Kp.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,$s(9,Hp.bind(null,n,i,s,e),void 0,null),_e===null)throw Error(M(349));Fn&30||Up(n,e,s)}return s}function Up(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Hp(t,e,n,i){e.value=n,e.getSnapshot=i,Xp(e)&&qp(t)}function Kp(t,e,n){return n(function(){Xp(e)&&qp(t)})}function Xp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wt(t,n)}catch{return!0}}function qp(t){var e=Xt(t,1);e!==null&&yt(e,t,1,-1)}function bh(t){var e=Rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:t},e.queue=t,t=t.dispatch=uy.bind(null,ue,t),[e.memoizedState,t]}function $s(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Gp(){return ht().memoizedState}function Br(t,e,n,i){var s=Rt();ue.flags|=t,s.memoizedState=$s(1|e,n,void 0,i===void 0?null:i)}function $l(t,e,n,i){var s=ht();i=i===void 0?null:i;var r=void 0;if(we!==null){var l=we.memoizedState;if(r=l.destroy,i!==null&&Qu(i,l.deps)){s.memoizedState=$s(e,n,r,i);return}}ue.flags|=t,s.memoizedState=$s(1|e,n,r,i)}function _h(t,e){return Br(8390656,8,t,e)}function Zu(t,e){return $l(2048,8,t,e)}function Qp(t,e){return $l(4,2,t,e)}function Jp(t,e){return $l(4,4,t,e)}function Yp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zp(t,e,n){return n=n!=null?n.concat([t]):null,$l(4,4,Yp.bind(null,e,t),n)}function ec(){}function em(t,e){var n=ht();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Qu(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function tm(t,e){var n=ht();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Qu(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function nm(t,e,n){return Fn&21?(wt(n,e)||(n=op(),ue.lanes|=n,Vn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,We=!0),t.memoizedState=n)}function oy(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var i=No.transition;No.transition={};try{t(!1),e()}finally{Y=n,No.transition=i}}function im(){return ht().memoizedState}function ay(t,e,n){var i=pn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},sm(t))rm(e,n);else if(n=Ip(t,e,n,i),n!==null){var s=De();yt(n,t,i,s),lm(n,e,i)}}function uy(t,e,n){var i=pn(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(sm(t))rm(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var l=e.lastRenderedState,o=r(l,n);if(s.hasEagerState=!0,s.eagerState=o,wt(o,l)){var a=e.interleaved;a===null?(s.next=s,Hu(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Ip(t,e,s,i),n!==null&&(s=De(),yt(n,t,i,s),lm(n,e,i))}}function sm(t){var e=t.alternate;return t===ue||e!==null&&e===ue}function rm(t,e){fs=ml=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lm(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Pu(t,n)}}var gl={readContext:ct,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},cy={readContext:ct,useCallback:function(t,e){return Rt().memoizedState=[t,e===void 0?null:e],t},useContext:ct,useEffect:_h,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Br(4194308,4,Yp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Br(4194308,4,t,e)},useInsertionEffect:function(t,e){return Br(4,2,t,e)},useMemo:function(t,e){var n=Rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Rt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=ay.bind(null,ue,t),[i.memoizedState,t]},useRef:function(t){var e=Rt();return t={current:t},e.memoizedState=t},useState:bh,useDebugValue:ec,useDeferredValue:function(t){return Rt().memoizedState=t},useTransition:function(){var t=bh(!1),e=t[0];return t=oy.bind(null,t[1]),Rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ue,s=Rt();if(le){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),_e===null)throw Error(M(349));Fn&30||Up(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,_h(Kp.bind(null,i,r,t),[t]),i.flags|=2048,$s(9,Hp.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=Rt(),e=_e.identifierPrefix;if(le){var n=Ft,i=It;n=(i&~(1<<32-vt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ts++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ly++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hy={readContext:ct,useCallback:em,useContext:ct,useEffect:Zu,useImperativeHandle:Zp,useInsertionEffect:Qp,useLayoutEffect:Jp,useMemo:tm,useReducer:zo,useRef:Gp,useState:function(){return zo(Ls)},useDebugValue:ec,useDeferredValue:function(t){var e=ht();return nm(e,we.memoizedState,t)},useTransition:function(){var t=zo(Ls)[0],e=ht().memoizedState;return[t,e]},useMutableSource:Bp,useSyncExternalStore:Wp,useId:im,unstable_isNewReconciler:!1},fy={readContext:ct,useCallback:em,useContext:ct,useEffect:Zu,useImperativeHandle:Zp,useInsertionEffect:Qp,useLayoutEffect:Jp,useMemo:tm,useReducer:Mo,useRef:Gp,useState:function(){return Mo(Ls)},useDebugValue:ec,useDeferredValue:function(t){var e=ht();return we===null?e.memoizedState=t:nm(e,we.memoizedState,t)},useTransition:function(){var t=Mo(Ls)[0],e=ht().memoizedState;return[t,e]},useMutableSource:Bp,useSyncExternalStore:Wp,useId:im,unstable_isNewReconciler:!1};function pt(t,e){if(t&&t.defaultProps){e=ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wa(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dl={isMounted:function(t){return(t=t._reactInternals)?Qn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=De(),s=pn(t),r=Wt(i,s);r.payload=e,n!=null&&(r.callback=n),e=fn(t,r,s),e!==null&&(yt(e,t,s,i),Fr(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=De(),s=pn(t),r=Wt(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=fn(t,r,s),e!==null&&(yt(e,t,s,i),Fr(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=De(),i=pn(t),s=Wt(n,i);s.tag=2,e!=null&&(s.callback=e),e=fn(t,s,i),e!==null&&(yt(e,t,i,n),Fr(e,t,i))}};function Eh(t,e,n,i,s,r,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,l):e.prototype&&e.prototype.isPureReactComponent?!Ns(n,i)||!Ns(s,r):!0}function om(t,e,n){var i=!1,s=vn,r=e.contextType;return typeof r=="object"&&r!==null?r=ct(r):(s=He(e)?An:Te.current,i=e.contextTypes,r=(i=i!=null)?Ci(t,s):vn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dl,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Ch(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Dl.enqueueReplaceState(e,e.state,null)}function Ua(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ku(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=ct(r):(r=He(e)?An:Te.current,s.context=Ci(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Wa(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Dl.enqueueReplaceState(s,s.state,null),dl(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Mi(t,e){try{var n="",i=e;do n+=Fv(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function Ro(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ha(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dy=typeof WeakMap=="function"?WeakMap:Map;function am(t,e,n){n=Wt(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){yl||(yl=!0,tu=i),Ha(t,e)},n}function um(t,e,n){n=Wt(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Ha(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Ha(t,e),typeof i!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function kh(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new dy;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=Ny.bind(null,t,e,n),e.then(t,t))}function Nh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zh(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wt(-1,1),e.tag=2,fn(n,e,1))),n.lanes|=1),t)}var py=Gt.ReactCurrentOwner,We=!1;function $e(t,e,n,i){e.child=t===null?Ap(e,null,n,i):Ni(e,t.child,n,i)}function Mh(t,e,n,i,s){n=n.render;var r=e.ref;return wi(e,s),i=Ju(t,e,n,i,r,s),n=Yu(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qt(t,e,s)):(le&&n&&Iu(e),e.flags|=1,$e(t,e,i,s),e.child)}function Rh(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!ac(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,cm(t,e,r,i,s)):(t=Kr(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var l=r.memoizedProps;if(n=n.compare,n=n!==null?n:Ns,n(l,i)&&t.ref===e.ref)return qt(t,e,s)}return e.flags|=1,t=mn(r,i),t.ref=e.ref,t.return=e,e.child=t}function cm(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(Ns(r,i)&&t.ref===e.ref)if(We=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(We=!0);else return e.lanes=t.lanes,qt(t,e,s)}return Ka(t,e,n,i,s)}function hm(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(fi,Je),Je|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(fi,Je),Je|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,te(fi,Je),Je|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,te(fi,Je),Je|=i;return $e(t,e,s,n),e.child}function fm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ka(t,e,n,i,s){var r=He(n)?An:Te.current;return r=Ci(e,r),wi(e,s),n=Ju(t,e,n,i,r,s),i=Yu(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qt(t,e,s)):(le&&i&&Iu(e),e.flags|=1,$e(t,e,n,s),e.child)}function Ph(t,e,n,i,s){if(He(n)){var r=!0;al(e)}else r=!1;if(wi(e,s),e.stateNode===null)Wr(t,e),om(e,n,i),Ua(e,n,i,s),i=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=He(n)?An:Te.current,u=Ci(e,u));var h=n.getDerivedStateFromProps,c=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==i||a!==u)&&Ch(e,l,i,u),en=!1;var f=e.memoizedState;l.state=f,dl(e,i,l,s),a=e.memoizedState,o!==i||f!==a||Ue.current||en?(typeof h=="function"&&(Wa(e,n,h,i),a=e.memoizedState),(o=en||Eh(e,n,o,i,f,a,u))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),l.props=i,l.state=a,l.context=u,i=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,Fp(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:pt(e.type,o),l.props=u,c=e.pendingProps,f=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=ct(a):(a=He(n)?An:Te.current,a=Ci(e,a));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==c||f!==a)&&Ch(e,l,i,a),en=!1,f=e.memoizedState,l.state=f,dl(e,i,l,s);var p=e.memoizedState;o!==c||f!==p||Ue.current||en?(typeof g=="function"&&(Wa(e,n,g,i),p=e.memoizedState),(u=en||Eh(e,n,u,i,f,p,a)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,p,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,p,a)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),l.props=i,l.state=p,l.context=a,i=u):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Xa(t,e,n,i,r,s)}function Xa(t,e,n,i,s,r){fm(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return s&&gh(e,n,!1),qt(t,e,r);i=e.stateNode,py.current=e;var o=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Ni(e,t.child,null,r),e.child=Ni(e,null,o,r)):$e(t,e,o,r),e.memoizedState=i.state,s&&gh(e,n,!0),e.child}function dm(t){var e=t.stateNode;e.pendingContext?mh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mh(t,e.context,!1),Xu(t,e.containerInfo)}function jh(t,e,n,i,s){return ki(),Vu(s),e.flags|=256,$e(t,e,n,i),e.child}var qa={dehydrated:null,treeContext:null,retryLane:0};function Ga(t){return{baseLanes:t,cachePool:null,transitions:null}}function pm(t,e,n){var i=e.pendingProps,s=oe.current,r=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),te(oe,s&1),t===null)return Va(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,r?(i=e.mode,r=e.child,l={mode:"hidden",children:l},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=l):r=Il(l,i,0,null),t=Ln(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Ga(n),e.memoizedState=qa,t):tc(e,l));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return my(t,e,l,i,o,s,n);if(r){r=i.fallback,l=e.mode,s=t.child,o=s.sibling;var a={mode:"hidden",children:i.children};return!(l&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=mn(s,a),i.subtreeFlags=s.subtreeFlags&14680064),o!==null?r=mn(o,r):(r=Ln(r,l,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,l=t.child.memoizedState,l=l===null?Ga(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},r.memoizedState=l,r.childLanes=t.childLanes&~n,e.memoizedState=qa,i}return r=t.child,t=r.sibling,i=mn(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function tc(t,e){return e=Il({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vr(t,e,n,i){return i!==null&&Vu(i),Ni(e,t.child,null,n),t=tc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function my(t,e,n,i,s,r,l){if(n)return e.flags&256?(e.flags&=-257,i=Ro(Error(M(422))),vr(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Il({mode:"visible",children:i.children},s,0,null),r=Ln(r,s,l,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Ni(e,t.child,null,l),e.child.memoizedState=Ga(l),e.memoizedState=qa,r);if(!(e.mode&1))return vr(t,e,l,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var o=i.dgst;return i=o,r=Error(M(419)),i=Ro(r,i,void 0),vr(t,e,l,i)}if(o=(l&t.childLanes)!==0,We||o){if(i=_e,i!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|l)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Xt(t,s),yt(i,t,s,-1))}return oc(),i=Ro(Error(M(421))),vr(t,e,l,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zy.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,Ze=hn(s.nextSibling),et=e,le=!0,gt=null,t!==null&&(lt[ot++]=It,lt[ot++]=Ft,lt[ot++]=In,It=t.id,Ft=t.overflow,In=e),e=tc(e,i.children),e.flags|=4096,e)}function Th(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ba(t.return,e,n)}function Po(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function mm(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if($e(t,e,i.children,n),i=oe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Th(t,n,e);else if(t.tag===19)Th(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(te(oe,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&pl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Po(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&pl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Po(e,!0,n,null,r);break;case"together":Po(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wr(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=mn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gy(t,e,n){switch(e.tag){case 3:dm(e),ki();break;case 5:Vp(e);break;case 1:He(e.type)&&al(e);break;case 4:Xu(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;te(hl,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(te(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?pm(t,e,n):(te(oe,oe.current&1),t=qt(t,e,n),t!==null?t.sibling:null);te(oe,oe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return mm(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(oe,oe.current),i)break;return null;case 22:case 23:return e.lanes=0,hm(t,e,n)}return qt(t,e,n)}var gm,Qa,vm,ym;gm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qa=function(){};vm=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Pn(Lt.current);var r=null;switch(n){case"input":s=ya(t,s),i=ya(t,i),r=[];break;case"select":s=ce({},s,{value:void 0}),i=ce({},i,{value:void 0}),r=[];break;case"textarea":s=Sa(t,s),i=Sa(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=ll)}_a(n,i);var l;n=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ws.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var a=i[u];if(o=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&a!==o&&(a!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&o[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(r||(r=[]),r.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(r=r||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ws.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ne("scroll",t),r||o===a||(r=[])):(r=r||[]).push(u,a))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};ym=function(t,e,n,i){n!==i&&(e.flags|=4)};function qi(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function vy(t,e,n){var i=e.pendingProps;switch(Fu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(e),null;case 1:return He(e.type)&&ol(),Re(e),null;case 3:return i=e.stateNode,zi(),se(Ue),se(Te),Gu(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(mr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gt!==null&&(su(gt),gt=null))),Qa(t,e),Re(e),null;case 5:qu(e);var s=Pn(js.current);if(n=e.type,t!==null&&e.stateNode!=null)vm(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(M(166));return Re(e),null}if(t=Pn(Lt.current),mr(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[Pt]=e,i[Rs]=r,t=(e.mode&1)!==0,n){case"dialog":ne("cancel",i),ne("close",i);break;case"iframe":case"object":case"embed":ne("load",i);break;case"video":case"audio":for(s=0;s<ns.length;s++)ne(ns[s],i);break;case"source":ne("error",i);break;case"img":case"image":case"link":ne("error",i),ne("load",i);break;case"details":ne("toggle",i);break;case"input":Bc(i,r),ne("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ne("invalid",i);break;case"textarea":Uc(i,r),ne("invalid",i)}_a(n,r),s=null;for(var l in r)if(r.hasOwnProperty(l)){var o=r[l];l==="children"?typeof o=="string"?i.textContent!==o&&(r.suppressHydrationWarning!==!0&&pr(i.textContent,o,t),s=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(r.suppressHydrationWarning!==!0&&pr(i.textContent,o,t),s=["children",""+o]):ws.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ne("scroll",i)}switch(n){case"input":lr(i),Wc(i,r,!0);break;case"textarea":lr(i),Hc(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=ll)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[Pt]=e,t[Rs]=i,gm(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ea(n,i),n){case"dialog":ne("cancel",t),ne("close",t),s=i;break;case"iframe":case"object":case"embed":ne("load",t),s=i;break;case"video":case"audio":for(s=0;s<ns.length;s++)ne(ns[s],t);s=i;break;case"source":ne("error",t),s=i;break;case"img":case"image":case"link":ne("error",t),ne("load",t),s=i;break;case"details":ne("toggle",t),s=i;break;case"input":Bc(t,i),s=ya(t,i),ne("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=ce({},i,{value:void 0}),ne("invalid",t);break;case"textarea":Uc(t,i),s=Sa(t,i),ne("invalid",t);break;default:s=i}_a(n,s),o=s;for(r in o)if(o.hasOwnProperty(r)){var a=o[r];r==="style"?Gd(t,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Xd(t,a)):r==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ss(t,a):typeof a=="number"&&Ss(t,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(ws.hasOwnProperty(r)?a!=null&&r==="onScroll"&&ne("scroll",t):a!=null&&Cu(t,r,a,l))}switch(n){case"input":lr(t),Wc(t,i,!1);break;case"textarea":lr(t),Hc(t);break;case"option":i.value!=null&&t.setAttribute("value",""+gn(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?gi(t,!!i.multiple,r,!1):i.defaultValue!=null&&gi(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ll)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Re(e),null;case 6:if(t&&e.stateNode!=null)ym(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(M(166));if(n=Pn(js.current),Pn(Lt.current),mr(e)){if(i=e.stateNode,n=e.memoizedProps,i[Pt]=e,(r=i.nodeValue!==n)&&(t=et,t!==null))switch(t.tag){case 3:pr(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pr(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Pt]=e,e.stateNode=i}return Re(e),null;case 13:if(se(oe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(le&&Ze!==null&&e.mode&1&&!(e.flags&128))Dp(),ki(),e.flags|=98560,r=!1;else if(r=mr(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(M(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(M(317));r[Pt]=e}else ki(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),r=!1}else gt!==null&&(su(gt),gt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?Se===0&&(Se=3):oc())),e.updateQueue!==null&&(e.flags|=4),Re(e),null);case 4:return zi(),Qa(t,e),t===null&&zs(e.stateNode.containerInfo),Re(e),null;case 10:return Uu(e.type._context),Re(e),null;case 17:return He(e.type)&&ol(),Re(e),null;case 19:if(se(oe),r=e.memoizedState,r===null)return Re(e),null;if(i=(e.flags&128)!==0,l=r.rendering,l===null)if(i)qi(r,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=pl(t),l!==null){for(e.flags|=128,qi(r,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,l=r.alternate,l===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,t=l.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return te(oe,oe.current&1|2),e.child}t=t.sibling}r.tail!==null&&ge()>Ri&&(e.flags|=128,i=!0,qi(r,!1),e.lanes=4194304)}else{if(!i)if(t=pl(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!le)return Re(e),null}else 2*ge()-r.renderingStartTime>Ri&&n!==1073741824&&(e.flags|=128,i=!0,qi(r,!1),e.lanes=4194304);r.isBackwards?(l.sibling=e.child,e.child=l):(n=r.last,n!==null?n.sibling=l:e.child=l,r.last=l)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ge(),e.sibling=null,n=oe.current,te(oe,i?n&1|2:n&1),e):(Re(e),null);case 22:case 23:return lc(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Je&1073741824&&(Re(e),e.subtreeFlags&6&&(e.flags|=8192)):Re(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function yy(t,e){switch(Fu(e),e.tag){case 1:return He(e.type)&&ol(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zi(),se(Ue),se(Te),Gu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qu(e),null;case 13:if(se(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(oe),null;case 4:return zi(),null;case 10:return Uu(e.type._context),null;case 22:case 23:return lc(),null;case 24:return null;default:return null}}var yr=!1,Pe=!1,xy=typeof WeakSet=="function"?WeakSet:Set,T=null;function hi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){pe(t,e,i)}else n.current=null}function Ja(t,e,n){try{n()}catch(i){pe(t,e,i)}}var Lh=!1;function wy(t,e){if(La=il,t=_p(),Au(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var l=0,o=-1,a=-1,u=0,h=0,c=t,f=null;t:for(;;){for(var g;c!==n||s!==0&&c.nodeType!==3||(o=l+s),c!==r||i!==0&&c.nodeType!==3||(a=l+i),c.nodeType===3&&(l+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===t)break t;if(f===n&&++u===s&&(o=l),f===r&&++h===i&&(a=l),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}n=o===-1||a===-1?null:{start:o,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for($a={focusedElem:t,selectionRange:n},il=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,w=p.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:pt(e.type,m),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(b){pe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return p=Lh,Lh=!1,p}function ds(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&Ja(e,n,r)}s=s.next}while(s!==i)}}function Ol(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Ya(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xm(t){var e=t.alternate;e!==null&&(t.alternate=null,xm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pt],delete e[Rs],delete e[Aa],delete e[ny],delete e[iy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wm(t){return t.tag===5||t.tag===3||t.tag===4}function $h(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Za(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ll));else if(i!==4&&(t=t.child,t!==null))for(Za(t,e,n),t=t.sibling;t!==null;)Za(t,e,n),t=t.sibling}function eu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(eu(t,e,n),t=t.sibling;t!==null;)eu(t,e,n),t=t.sibling}var Ee=null,mt=!1;function Qt(t,e,n){for(n=n.child;n!==null;)Sm(t,e,n),n=n.sibling}function Sm(t,e,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 5:Pe||hi(n,e);case 6:var i=Ee,s=mt;Ee=null,Qt(t,e,n),Ee=i,mt=s,Ee!==null&&(mt?(t=Ee,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(mt?(t=Ee,n=n.stateNode,t.nodeType===8?Eo(t.parentNode,n):t.nodeType===1&&Eo(t,n),Cs(t)):Eo(Ee,n.stateNode));break;case 4:i=Ee,s=mt,Ee=n.stateNode.containerInfo,mt=!0,Qt(t,e,n),Ee=i,mt=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,l=r.destroy;r=r.tag,l!==void 0&&(r&2||r&4)&&Ja(n,e,l),s=s.next}while(s!==i)}Qt(t,e,n);break;case 1:if(!Pe&&(hi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){pe(n,e,o)}Qt(t,e,n);break;case 21:Qt(t,e,n);break;case 22:n.mode&1?(Pe=(i=Pe)||n.memoizedState!==null,Qt(t,e,n),Pe=i):Qt(t,e,n);break;default:Qt(t,e,n)}}function Dh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xy),e.forEach(function(i){var s=My.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function dt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ee=o.stateNode,mt=!1;break e;case 3:Ee=o.stateNode.containerInfo,mt=!0;break e;case 4:Ee=o.stateNode.containerInfo,mt=!0;break e}o=o.return}if(Ee===null)throw Error(M(160));Sm(r,l,s),Ee=null,mt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){pe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bm(e,t),e=e.sibling}function bm(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dt(e,t),Nt(t),i&4){try{ds(3,t,t.return),Ol(3,t)}catch(m){pe(t,t.return,m)}try{ds(5,t,t.return)}catch(m){pe(t,t.return,m)}}break;case 1:dt(e,t),Nt(t),i&512&&n!==null&&hi(n,n.return);break;case 5:if(dt(e,t),Nt(t),i&512&&n!==null&&hi(n,n.return),t.flags&32){var s=t.stateNode;try{Ss(s,"")}catch(m){pe(t,t.return,m)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,l=n!==null?n.memoizedProps:r,o=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{o==="input"&&r.type==="radio"&&r.name!=null&&Ud(s,r),Ea(o,l);var u=Ea(o,r);for(l=0;l<a.length;l+=2){var h=a[l],c=a[l+1];h==="style"?Gd(s,c):h==="dangerouslySetInnerHTML"?Xd(s,c):h==="children"?Ss(s,c):Cu(s,h,c,u)}switch(o){case"input":xa(s,r);break;case"textarea":Hd(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?gi(s,!!r.multiple,g,!1):f!==!!r.multiple&&(r.defaultValue!=null?gi(s,!!r.multiple,r.defaultValue,!0):gi(s,!!r.multiple,r.multiple?[]:"",!1))}s[Rs]=r}catch(m){pe(t,t.return,m)}}break;case 6:if(dt(e,t),Nt(t),i&4){if(t.stateNode===null)throw Error(M(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(m){pe(t,t.return,m)}}break;case 3:if(dt(e,t),Nt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Cs(e.containerInfo)}catch(m){pe(t,t.return,m)}break;case 4:dt(e,t),Nt(t);break;case 13:dt(e,t),Nt(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(sc=ge())),i&4&&Dh(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Pe=(u=Pe)||h,dt(e,t),Pe=u):dt(e,t),Nt(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(T=t,h=t.child;h!==null;){for(c=T=h;T!==null;){switch(f=T,g=f.child,f.tag){case 0:case 11:case 14:case 15:ds(4,f,f.return);break;case 1:hi(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){pe(i,n,m)}}break;case 5:hi(f,f.return);break;case 22:if(f.memoizedState!==null){Ah(c);continue}}g!==null?(g.return=f,T=g):Ah(c)}h=h.sibling}e:for(h=null,c=t;;){if(c.tag===5){if(h===null){h=c;try{s=c.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(o=c.stateNode,a=c.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=qd("display",l))}catch(m){pe(t,t.return,m)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(m){pe(t,t.return,m)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:dt(e,t),Nt(t),i&4&&Dh(t);break;case 21:break;default:dt(e,t),Nt(t)}}function Nt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wm(n)){var i=n;break e}n=n.return}throw Error(M(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Ss(s,""),i.flags&=-33);var r=$h(t);eu(t,r,s);break;case 3:case 4:var l=i.stateNode.containerInfo,o=$h(t);Za(t,o,l);break;default:throw Error(M(161))}}catch(a){pe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sy(t,e,n){T=t,_m(t)}function _m(t,e,n){for(var i=(t.mode&1)!==0;T!==null;){var s=T,r=s.child;if(s.tag===22&&i){var l=s.memoizedState!==null||yr;if(!l){var o=s.alternate,a=o!==null&&o.memoizedState!==null||Pe;o=yr;var u=Pe;if(yr=l,(Pe=a)&&!u)for(T=s;T!==null;)l=T,a=l.child,l.tag===22&&l.memoizedState!==null?Ih(s):a!==null?(a.return=l,T=a):Ih(s);for(;r!==null;)T=r,_m(r),r=r.sibling;T=s,yr=o,Pe=u}Oh(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,T=r):Oh(t)}}function Oh(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pe||Ol(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Pe)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:pt(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Sh(e,r,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sh(e,l,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&Cs(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Pe||e.flags&512&&Ya(e)}catch(f){pe(e,e.return,f)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function Ah(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function Ih(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ol(4,e)}catch(a){pe(e,n,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(a){pe(e,s,a)}}var r=e.return;try{Ya(e)}catch(a){pe(e,r,a)}break;case 5:var l=e.return;try{Ya(e)}catch(a){pe(e,l,a)}}}catch(a){pe(e,e.return,a)}if(e===t){T=null;break}var o=e.sibling;if(o!==null){o.return=e.return,T=o;break}T=e.return}}var by=Math.ceil,vl=Gt.ReactCurrentDispatcher,nc=Gt.ReactCurrentOwner,ut=Gt.ReactCurrentBatchConfig,G=0,_e=null,xe=null,Ne=0,Je=0,fi=wn(0),Se=0,Ds=null,Vn=0,Al=0,ic=0,ps=null,Be=null,sc=0,Ri=1/0,Dt=null,yl=!1,tu=null,dn=null,xr=!1,on=null,xl=0,ms=0,nu=null,Ur=-1,Hr=0;function De(){return G&6?ge():Ur!==-1?Ur:Ur=ge()}function pn(t){return t.mode&1?G&2&&Ne!==0?Ne&-Ne:ry.transition!==null?(Hr===0&&(Hr=op()),Hr):(t=Y,t!==0||(t=window.event,t=t===void 0?16:pp(t.type)),t):1}function yt(t,e,n,i){if(50<ms)throw ms=0,nu=null,Error(M(185));Ks(t,n,i),(!(G&2)||t!==_e)&&(t===_e&&(!(G&2)&&(Al|=n),Se===4&&sn(t,Ne)),Ke(t,i),n===1&&G===0&&!(e.mode&1)&&(Ri=ge()+500,Ll&&Sn()))}function Ke(t,e){var n=t.callbackNode;r0(t,e);var i=nl(t,t===_e?Ne:0);if(i===0)n!==null&&qc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&qc(n),e===1)t.tag===0?sy(Fh.bind(null,t)):Tp(Fh.bind(null,t)),ey(function(){!(G&6)&&Sn()}),n=null;else{switch(ap(i)){case 1:n=Ru;break;case 4:n=rp;break;case 16:n=tl;break;case 536870912:n=lp;break;default:n=tl}n=Pm(n,Em.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Em(t,e){if(Ur=-1,Hr=0,G&6)throw Error(M(327));var n=t.callbackNode;if(Si()&&t.callbackNode!==n)return null;var i=nl(t,t===_e?Ne:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=wl(t,i);else{e=i;var s=G;G|=2;var r=km();(_e!==t||Ne!==e)&&(Dt=null,Ri=ge()+500,Tn(t,e));do try{Cy();break}catch(o){Cm(t,o)}while(!0);Wu(),vl.current=r,G=s,xe!==null?e=0:(_e=null,Ne=0,e=Se)}if(e!==0){if(e===2&&(s=Ma(t),s!==0&&(i=s,e=iu(t,s))),e===1)throw n=Ds,Tn(t,0),sn(t,i),Ke(t,ge()),n;if(e===6)sn(t,i);else{if(s=t.current.alternate,!(i&30)&&!_y(s)&&(e=wl(t,i),e===2&&(r=Ma(t),r!==0&&(i=r,e=iu(t,r))),e===1))throw n=Ds,Tn(t,0),sn(t,i),Ke(t,ge()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(M(345));case 2:Nn(t,Be,Dt);break;case 3:if(sn(t,i),(i&130023424)===i&&(e=sc+500-ge(),10<e)){if(nl(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){De(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Oa(Nn.bind(null,t,Be,Dt),e);break}Nn(t,Be,Dt);break;case 4:if(sn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var l=31-vt(i);r=1<<l,l=e[l],l>s&&(s=l),i&=~r}if(i=s,i=ge()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*by(i/1960))-i,10<i){t.timeoutHandle=Oa(Nn.bind(null,t,Be,Dt),i);break}Nn(t,Be,Dt);break;case 5:Nn(t,Be,Dt);break;default:throw Error(M(329))}}}return Ke(t,ge()),t.callbackNode===n?Em.bind(null,t):null}function iu(t,e){var n=ps;return t.current.memoizedState.isDehydrated&&(Tn(t,e).flags|=256),t=wl(t,e),t!==2&&(e=Be,Be=n,e!==null&&su(e)),t}function su(t){Be===null?Be=t:Be.push.apply(Be,t)}function _y(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!wt(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sn(t,e){for(e&=~ic,e&=~Al,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vt(e),i=1<<n;t[n]=-1,e&=~i}}function Fh(t){if(G&6)throw Error(M(327));Si();var e=nl(t,0);if(!(e&1))return Ke(t,ge()),null;var n=wl(t,e);if(t.tag!==0&&n===2){var i=Ma(t);i!==0&&(e=i,n=iu(t,i))}if(n===1)throw n=Ds,Tn(t,0),sn(t,e),Ke(t,ge()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Nn(t,Be,Dt),Ke(t,ge()),null}function rc(t,e){var n=G;G|=1;try{return t(e)}finally{G=n,G===0&&(Ri=ge()+500,Ll&&Sn())}}function Bn(t){on!==null&&on.tag===0&&!(G&6)&&Si();var e=G;G|=1;var n=ut.transition,i=Y;try{if(ut.transition=null,Y=1,t)return t()}finally{Y=i,ut.transition=n,G=e,!(G&6)&&Sn()}}function lc(){Je=fi.current,se(fi)}function Tn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Z0(n)),xe!==null)for(n=xe.return;n!==null;){var i=n;switch(Fu(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ol();break;case 3:zi(),se(Ue),se(Te),Gu();break;case 5:qu(i);break;case 4:zi();break;case 13:se(oe);break;case 19:se(oe);break;case 10:Uu(i.type._context);break;case 22:case 23:lc()}n=n.return}if(_e=t,xe=t=mn(t.current,null),Ne=Je=e,Se=0,Ds=null,ic=Al=Vn=0,Be=ps=null,Rn!==null){for(e=0;e<Rn.length;e++)if(n=Rn[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var l=r.next;r.next=s,i.next=l}n.pending=i}Rn=null}return t}function Cm(t,e){do{var n=xe;try{if(Wu(),Vr.current=gl,ml){for(var i=ue.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ml=!1}if(Fn=0,be=we=ue=null,fs=!1,Ts=0,nc.current=null,n===null||n.return===null){Se=1,Ds=e,xe=null;break}e:{var r=t,l=n.return,o=n,a=e;if(e=Ne,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=o,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Nh(l);if(g!==null){g.flags&=-257,zh(g,l,o,r,e),g.mode&1&&kh(r,u,e),e=g,a=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(a),e.updateQueue=m}else p.add(a);break e}else{if(!(e&1)){kh(r,u,e),oc();break e}a=Error(M(426))}}else if(le&&o.mode&1){var w=Nh(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),zh(w,l,o,r,e),Vu(Mi(a,o));break e}}r=a=Mi(a,o),Se!==4&&(Se=2),ps===null?ps=[r]:ps.push(r),r=l;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var v=am(r,a,e);wh(r,v);break e;case 1:o=a;var y=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(dn===null||!dn.has(x)))){r.flags|=65536,e&=-e,r.lanes|=e;var b=um(r,o,e);wh(r,b);break e}}r=r.return}while(r!==null)}zm(n)}catch(_){e=_,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function km(){var t=vl.current;return vl.current=gl,t===null?gl:t}function oc(){(Se===0||Se===3||Se===2)&&(Se=4),_e===null||!(Vn&268435455)&&!(Al&268435455)||sn(_e,Ne)}function wl(t,e){var n=G;G|=2;var i=km();(_e!==t||Ne!==e)&&(Dt=null,Tn(t,e));do try{Ey();break}catch(s){Cm(t,s)}while(!0);if(Wu(),G=n,vl.current=i,xe!==null)throw Error(M(261));return _e=null,Ne=0,Se}function Ey(){for(;xe!==null;)Nm(xe)}function Cy(){for(;xe!==null&&!Qv();)Nm(xe)}function Nm(t){var e=Rm(t.alternate,t,Je);t.memoizedProps=t.pendingProps,e===null?zm(t):xe=e,nc.current=null}function zm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yy(n,e),n!==null){n.flags&=32767,xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,xe=null;return}}else if(n=vy(n,e,Je),n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);Se===0&&(Se=5)}function Nn(t,e,n){var i=Y,s=ut.transition;try{ut.transition=null,Y=1,ky(t,e,n,i)}finally{ut.transition=s,Y=i}return null}function ky(t,e,n,i){do Si();while(on!==null);if(G&6)throw Error(M(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(l0(t,r),t===_e&&(xe=_e=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xr||(xr=!0,Pm(tl,function(){return Si(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=ut.transition,ut.transition=null;var l=Y;Y=1;var o=G;G|=4,nc.current=null,wy(t,n),bm(n,t),K0($a),il=!!La,$a=La=null,t.current=n,Sy(n),Jv(),G=o,Y=l,ut.transition=r}else t.current=n;if(xr&&(xr=!1,on=t,xl=s),r=t.pendingLanes,r===0&&(dn=null),e0(n.stateNode),Ke(t,ge()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(yl)throw yl=!1,t=tu,tu=null,t;return xl&1&&t.tag!==0&&Si(),r=t.pendingLanes,r&1?t===nu?ms++:(ms=0,nu=t):ms=0,Sn(),null}function Si(){if(on!==null){var t=ap(xl),e=ut.transition,n=Y;try{if(ut.transition=null,Y=16>t?16:t,on===null)var i=!1;else{if(t=on,on=null,xl=0,G&6)throw Error(M(331));var s=G;for(G|=4,T=t.current;T!==null;){var r=T,l=r.child;if(T.flags&16){var o=r.deletions;if(o!==null){for(var a=0;a<o.length;a++){var u=o[a];for(T=u;T!==null;){var h=T;switch(h.tag){case 0:case 11:case 15:ds(8,h,r)}var c=h.child;if(c!==null)c.return=h,T=c;else for(;T!==null;){h=T;var f=h.sibling,g=h.return;if(xm(h),h===u){T=null;break}if(f!==null){f.return=g,T=f;break}T=g}}}var p=r.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}T=r}}if(r.subtreeFlags&2064&&l!==null)l.return=r,T=l;else e:for(;T!==null;){if(r=T,r.flags&2048)switch(r.tag){case 0:case 11:case 15:ds(9,r,r.return)}var v=r.sibling;if(v!==null){v.return=r.return,T=v;break e}T=r.return}}var y=t.current;for(T=y;T!==null;){l=T;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,T=x;else e:for(l=y;T!==null;){if(o=T,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ol(9,o)}}catch(_){pe(o,o.return,_)}if(o===l){T=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,T=b;break e}T=o.return}}if(G=s,Sn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Ml,t)}catch{}i=!0}return i}finally{Y=n,ut.transition=e}}return!1}function Vh(t,e,n){e=Mi(n,e),e=am(t,e,1),t=fn(t,e,1),e=De(),t!==null&&(Ks(t,1,e),Ke(t,e))}function pe(t,e,n){if(t.tag===3)Vh(t,t,n);else for(;e!==null;){if(e.tag===3){Vh(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(dn===null||!dn.has(i))){t=Mi(n,t),t=um(e,t,1),e=fn(e,t,1),t=De(),e!==null&&(Ks(e,1,t),Ke(e,t));break}}e=e.return}}function Ny(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=De(),t.pingedLanes|=t.suspendedLanes&n,_e===t&&(Ne&n)===n&&(Se===4||Se===3&&(Ne&130023424)===Ne&&500>ge()-sc?Tn(t,0):ic|=n),Ke(t,e)}function Mm(t,e){e===0&&(t.mode&1?(e=ur,ur<<=1,!(ur&130023424)&&(ur=4194304)):e=1);var n=De();t=Xt(t,e),t!==null&&(Ks(t,e,n),Ke(t,n))}function zy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Mm(t,n)}function My(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(M(314))}i!==null&&i.delete(e),Mm(t,n)}var Rm;Rm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ue.current)We=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return We=!1,gy(t,e,n);We=!!(t.flags&131072)}else We=!1,le&&e.flags&1048576&&Lp(e,cl,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Wr(t,e),t=e.pendingProps;var s=Ci(e,Te.current);wi(e,n),s=Ju(null,e,i,t,s,n);var r=Yu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,He(i)?(r=!0,al(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ku(e),s.updater=Dl,e.stateNode=s,s._reactInternals=e,Ua(e,i,t,n),e=Xa(null,e,i,!0,r,n)):(e.tag=0,le&&r&&Iu(e),$e(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Wr(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Py(i),t=pt(i,t),s){case 0:e=Ka(null,e,i,t,n);break e;case 1:e=Ph(null,e,i,t,n);break e;case 11:e=Mh(null,e,i,t,n);break e;case 14:e=Rh(null,e,i,pt(i.type,t),n);break e}throw Error(M(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:pt(i,s),Ka(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:pt(i,s),Ph(t,e,i,s,n);case 3:e:{if(dm(e),t===null)throw Error(M(387));i=e.pendingProps,r=e.memoizedState,s=r.element,Fp(t,e),dl(e,i,null,n);var l=e.memoizedState;if(i=l.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Mi(Error(M(423)),e),e=jh(t,e,i,n,s);break e}else if(i!==s){s=Mi(Error(M(424)),e),e=jh(t,e,i,n,s);break e}else for(Ze=hn(e.stateNode.containerInfo.firstChild),et=e,le=!0,gt=null,n=Ap(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ki(),i===s){e=qt(t,e,n);break e}$e(t,e,i,n)}e=e.child}return e;case 5:return Vp(e),t===null&&Va(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,l=s.children,Da(i,s)?l=null:r!==null&&Da(i,r)&&(e.flags|=32),fm(t,e),$e(t,e,l,n),e.child;case 6:return t===null&&Va(e),null;case 13:return pm(t,e,n);case 4:return Xu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ni(e,null,i,n):$e(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:pt(i,s),Mh(t,e,i,s,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,l=s.value,te(hl,i._currentValue),i._currentValue=l,r!==null)if(wt(r.value,l)){if(r.children===s.children&&!Ue.current){e=qt(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){l=r.child;for(var a=o.firstContext;a!==null;){if(a.context===i){if(r.tag===1){a=Wt(-1,n&-n),a.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),Ba(r.return,n,e),o.lanes|=n;break}a=a.next}}else if(r.tag===10)l=r.type===e.type?null:r.child;else if(r.tag===18){if(l=r.return,l===null)throw Error(M(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Ba(l,n,e),l=r.sibling}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}$e(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,wi(e,n),s=ct(s),i=i(s),e.flags|=1,$e(t,e,i,n),e.child;case 14:return i=e.type,s=pt(i,e.pendingProps),s=pt(i.type,s),Rh(t,e,i,s,n);case 15:return cm(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:pt(i,s),Wr(t,e),e.tag=1,He(i)?(t=!0,al(e)):t=!1,wi(e,n),om(e,i,s),Ua(e,i,s,n),Xa(null,e,i,!0,t,n);case 19:return mm(t,e,n);case 22:return hm(t,e,n)}throw Error(M(156,e.tag))};function Pm(t,e){return sp(t,e)}function Ry(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(t,e,n,i){return new Ry(t,e,n,i)}function ac(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Py(t){if(typeof t=="function")return ac(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nu)return 11;if(t===zu)return 14}return 2}function mn(t,e){var n=t.alternate;return n===null?(n=at(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kr(t,e,n,i,s,r){var l=2;if(i=t,typeof t=="function")ac(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case ni:return Ln(n.children,s,r,e);case ku:l=8,s|=8;break;case pa:return t=at(12,n,e,s|2),t.elementType=pa,t.lanes=r,t;case ma:return t=at(13,n,e,s),t.elementType=ma,t.lanes=r,t;case ga:return t=at(19,n,e,s),t.elementType=ga,t.lanes=r,t;case Vd:return Il(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Id:l=10;break e;case Fd:l=9;break e;case Nu:l=11;break e;case zu:l=14;break e;case Zt:l=16,i=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=at(l,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Ln(t,e,n,i){return t=at(7,t,i,e),t.lanes=n,t}function Il(t,e,n,i){return t=at(22,t,i,e),t.elementType=Vd,t.lanes=n,t.stateNode={isHidden:!1},t}function jo(t,e,n){return t=at(6,t,null,e),t.lanes=n,t}function To(t,e,n){return e=at(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jy(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fo(0),this.expirationTimes=fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function uc(t,e,n,i,s,r,l,o,a){return t=new jy(t,e,n,o,a),e===1?(e=1,r===!0&&(e|=8)):e=0,r=at(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ku(r),t}function Ty(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ti,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function jm(t){if(!t)return vn;t=t._reactInternals;e:{if(Qn(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(He(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(He(n))return jp(t,n,e)}return e}function Tm(t,e,n,i,s,r,l,o,a){return t=uc(n,i,!0,t,s,r,l,o,a),t.context=jm(null),n=t.current,i=De(),s=pn(n),r=Wt(i,s),r.callback=e??null,fn(n,r,s),t.current.lanes=s,Ks(t,s,i),Ke(t,i),t}function Fl(t,e,n,i){var s=e.current,r=De(),l=pn(s);return n=jm(n),e.context===null?e.context=n:e.pendingContext=n,e=Wt(r,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=fn(s,e,l),t!==null&&(yt(t,s,l,r),Fr(t,s,l)),l}function Sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cc(t,e){Bh(t,e),(t=t.alternate)&&Bh(t,e)}function Ly(){return null}var Lm=typeof reportError=="function"?reportError:function(t){console.error(t)};function hc(t){this._internalRoot=t}Vl.prototype.render=hc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));Fl(t,e,null,null)};Vl.prototype.unmount=hc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bn(function(){Fl(null,t,null,null)}),e[Kt]=null}};function Vl(t){this._internalRoot=t}Vl.prototype.unstable_scheduleHydration=function(t){if(t){var e=hp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<nn.length&&e!==0&&e<nn[n].priority;n++);nn.splice(n,0,t),n===0&&dp(t)}};function fc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wh(){}function $y(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=Sl(l);r.call(u)}}var l=Tm(e,i,t,0,null,!1,!1,"",Wh);return t._reactRootContainer=l,t[Kt]=l.current,zs(t.nodeType===8?t.parentNode:t),Bn(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var o=i;i=function(){var u=Sl(a);o.call(u)}}var a=uc(t,0,!1,null,null,!1,!1,"",Wh);return t._reactRootContainer=a,t[Kt]=a.current,zs(t.nodeType===8?t.parentNode:t),Bn(function(){Fl(e,a,n,i)}),a}function Wl(t,e,n,i,s){var r=n._reactRootContainer;if(r){var l=r;if(typeof s=="function"){var o=s;s=function(){var a=Sl(l);o.call(a)}}Fl(e,l,t,s)}else l=$y(n,e,t,s,i);return Sl(l)}up=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ts(e.pendingLanes);n!==0&&(Pu(e,n|1),Ke(e,ge()),!(G&6)&&(Ri=ge()+500,Sn()))}break;case 13:Bn(function(){var i=Xt(t,1);if(i!==null){var s=De();yt(i,t,1,s)}}),cc(t,1)}};ju=function(t){if(t.tag===13){var e=Xt(t,134217728);if(e!==null){var n=De();yt(e,t,134217728,n)}cc(t,134217728)}};cp=function(t){if(t.tag===13){var e=pn(t),n=Xt(t,e);if(n!==null){var i=De();yt(n,t,e,i)}cc(t,e)}};hp=function(){return Y};fp=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};ka=function(t,e,n){switch(e){case"input":if(xa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Tl(i);if(!s)throw Error(M(90));Wd(i),xa(i,s)}}}break;case"textarea":Hd(t,n);break;case"select":e=n.value,e!=null&&gi(t,!!n.multiple,e,!1)}};Yd=rc;Zd=Bn;var Dy={usingClientEntryPoint:!1,Events:[qs,li,Tl,Qd,Jd,rc]},Gi={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Oy={bundleType:Gi.bundleType,version:Gi.version,rendererPackageName:Gi.rendererPackageName,rendererConfig:Gi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=np(t),t===null?null:t.stateNode},findFiberByHostInstance:Gi.findFiberByHostInstance||Ly,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wr.isDisabled&&wr.supportsFiber)try{Ml=wr.inject(Oy),Tt=wr}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dy;nt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fc(e))throw Error(M(200));return Ty(t,e,null,n)};nt.createRoot=function(t,e){if(!fc(t))throw Error(M(299));var n=!1,i="",s=Lm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=uc(t,1,!1,null,null,n,!1,i,s),t[Kt]=e.current,zs(t.nodeType===8?t.parentNode:t),new hc(e)};nt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=np(e),t=t===null?null:t.stateNode,t};nt.flushSync=function(t){return Bn(t)};nt.hydrate=function(t,e,n){if(!Bl(e))throw Error(M(200));return Wl(null,t,e,!0,n)};nt.hydrateRoot=function(t,e,n){if(!fc(t))throw Error(M(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",l=Lm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Tm(e,null,t,1,n??null,s,!1,r,l),t[Kt]=e.current,zs(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Vl(e)};nt.render=function(t,e,n){if(!Bl(e))throw Error(M(200));return Wl(null,t,e,!1,n)};nt.unmountComponentAtNode=function(t){if(!Bl(t))throw Error(M(40));return t._reactRootContainer?(Bn(function(){Wl(null,null,t,!1,function(){t._reactRootContainer=null,t[Kt]=null})}),!0):!1};nt.unstable_batchedUpdates=rc;nt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Bl(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return Wl(t,e,n,!1,i)};nt.version="18.3.1-next-f1338f8080-20240426";function $m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($m)}catch(t){console.error(t)}}$m(),$d.exports=nt;var Ay=$d.exports,Dm,Uh=Ay;Dm=Uh.createRoot,Uh.hydrateRoot;const Om=S.createContext(null);function Iy({children:t}){const[e,n]=S.useState("");return d.jsx(Om.Provider,{value:{activeTicker:e,setActiveTicker:n},children:t})}function Ul(){const t=S.useContext(Om);if(t===null)throw new Error("useTickerContext must be used within a TickerProvider");return t}const $t={PriceUpdates:"price_updates",AnalysisProgress:"analysis_progress",NewsAlerts:"news_alerts"},Qi={reconnectDelayMs:1e3,maxReconnectDelayMs:3e4,reconnectMultiplier:2,maxReconnectAttempts:10,pingIntervalMs:25e3},Fy=new Set(["connected","subscribed","unsubscribed","heartbeat","pong","ack","error","price_update","analysis_progress","analysis_complete","news_alert","god_agent_progress","god_agent_complete"]);function Vy(t){if(t===null||typeof t!="object")return!1;const e=t;return typeof e.type=="string"&&Fy.has(e.type)}function By(t){return t.type==="connected"&&typeof t.client_id=="string"&&typeof t.server_time=="string"}const Am=S.createContext(null);function Wy(){return`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/api/ws`}function Sr(t,e){t&&t.readyState===WebSocket.OPEN&&t.send(JSON.stringify(e))}function Uy({children:t}){const[e,n]=S.useState("disconnected"),[i,s]=S.useState(null),r=S.useRef(null),l=S.useRef(!1),o=S.useRef(new Map),a=S.useRef(new Map),u=S.useRef(0),h=S.useRef(null),c=S.useRef(null),f=S.useRef(!1),g=S.useRef(null),p=S.useCallback(E=>{a.current.forEach((L,P)=>{Sr(E,{action:"subscribe",channel:P})})},[]),m=S.useCallback(E=>{c.current!==null&&clearInterval(c.current),c.current=setInterval(()=>{Sr(E,{action:"ping"})},Qi.pingIntervalMs)},[]),w=S.useCallback(()=>{c.current!==null&&(clearInterval(c.current),c.current=null)},[]),v=S.useCallback(E=>{const L=o.current.get(E.type);L&&L.forEach(P=>{try{P(E)}catch(F){console.error('[WS] listener error for message type "%s":',E.type,F)}})},[]),y=S.useCallback(()=>{if(u.current>=Qi.maxReconnectAttempts){n("disconnected");return}n("reconnecting");const E=g.current,L=(E==null?void 0:E.initial_delay_ms)??Qi.reconnectDelayMs,P=(E==null?void 0:E.multiplier)??Qi.reconnectMultiplier,F=(E==null?void 0:E.max_delay_ms)??Qi.maxReconnectDelayMs,re=Math.min(L*Math.pow(P,u.current),F)*(.75+Math.random()*.5);u.current+=1,h.current=setTimeout(()=>{x()},re)},[]),x=S.useCallback(()=>{r.current&&(r.current.onopen=null,r.current.onmessage=null,r.current.onerror=null,r.current.onclose=null,(r.current.readyState===WebSocket.OPEN||r.current.readyState===WebSocket.CONNECTING)&&r.current.close(),r.current=null),n("connecting");const E=new WebSocket(Wy());r.current=E,E.onopen=()=>{n("connected"),u.current=0},E.onmessage=L=>{let P;try{P=JSON.parse(L.data)}catch{console.warn("[WS] failed to parse incoming message");return}if(!Vy(P))return;const F=P;By(F)&&(s(F.client_id),F.reconnect_hint&&(g.current={initial_delay_ms:F.reconnect_hint.initial_delay_ms,max_delay_ms:F.reconnect_hint.max_delay_ms,multiplier:F.reconnect_hint.multiplier}),p(E),m(E)),v(F)},E.onerror=()=>{console.warn("[WS] connection error (reconnection will follow)")},E.onclose=()=>{w(),f.current?n("disconnected"):y()}},[v,p,y,m,w]),b=S.useCallback(E=>{const L=a.current.get(E)??0;a.current.set(E,L+1),L===0&&Sr(r.current,{action:"subscribe",channel:E})},[]),_=S.useCallback(E=>{const L=a.current.get(E)??0;L<=1?(a.current.delete(E),Sr(r.current,{action:"unsubscribe",channel:E})):a.current.set(E,L-1)},[]),N=S.useCallback((E,L)=>{let P=o.current.get(E);P||(P=new Set,o.current.set(E,P));const F=L;return P.add(F),()=>{const K=o.current.get(E);K&&(K.delete(F),K.size===0&&o.current.delete(E))}},[]);S.useEffect(()=>{l.current||(l.current=!0,x())},[x]),S.useEffect(()=>()=>{f.current=!0,h.current!==null&&(clearTimeout(h.current),h.current=null),w(),r.current&&(r.current.onopen=null,r.current.onmessage=null,r.current.onerror=null,r.current.onclose=null,(r.current.readyState===WebSocket.OPEN||r.current.readyState===WebSocket.CONNECTING)&&r.current.close(),r.current=null)},[w]);const C=S.useMemo(()=>({status:e,clientId:i,subscribe:b,unsubscribe:_,onMessage:N}),[e,i,b,_,N]);return d.jsx(Am.Provider,{value:C,children:t})}function Ai(){const t=S.useContext(Am);if(t===null)throw new Error("useWebSocketContext must be used within a WebSocketProvider");return t}const Hl=S.createContext(null);Hl.displayName="PanelGroupContext";const me={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},dc=10,$n=S.useLayoutEffect,Hh=Nv.useId,Hy=typeof Hh=="function"?Hh:()=>null;let Ky=0;function pc(t=null){const e=Hy(),n=S.useRef(t||e||null);return n.current===null&&(n.current=""+Ky++),t??n.current}function Im({children:t,className:e="",collapsedSize:n,collapsible:i,defaultSize:s,forwardedRef:r,id:l,maxSize:o,minSize:a,onCollapse:u,onExpand:h,onResize:c,order:f,style:g,tagName:p="div",...m}){const w=S.useContext(Hl);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:v,expandPanel:y,getPanelSize:x,getPanelStyle:b,groupId:_,isPanelCollapsed:N,reevaluatePanelConstraints:C,registerPanel:E,resizePanel:L,unregisterPanel:P}=w,F=pc(l),K=S.useRef({callbacks:{onCollapse:u,onExpand:h,onResize:c},constraints:{collapsedSize:n,collapsible:i,defaultSize:s,maxSize:o,minSize:a},id:F,idIsFromProps:l!==void 0,order:f});S.useRef({didLogMissingDefaultSizeWarning:!1}),$n(()=>{const{callbacks:Q,constraints:ee}=K.current,q={...ee};K.current.id=F,K.current.idIsFromProps=l!==void 0,K.current.order=f,Q.onCollapse=u,Q.onExpand=h,Q.onResize=c,ee.collapsedSize=n,ee.collapsible=i,ee.defaultSize=s,ee.maxSize=o,ee.minSize=a,(q.collapsedSize!==ee.collapsedSize||q.collapsible!==ee.collapsible||q.maxSize!==ee.maxSize||q.minSize!==ee.minSize)&&C(K.current,q)}),$n(()=>{const Q=K.current;return E(Q),()=>{P(Q)}},[f,F,E,P]),S.useImperativeHandle(r,()=>({collapse:()=>{v(K.current)},expand:Q=>{y(K.current,Q)},getId(){return F},getSize(){return x(K.current)},isCollapsed(){return N(K.current)},isExpanded(){return!N(K.current)},resize:Q=>{L(K.current,Q)}}),[v,y,x,N,F,L]);const re=b(K.current,s);return S.createElement(p,{...m,children:t,className:e,id:F,style:{...re,...g},[me.groupId]:_,[me.panel]:"",[me.panelCollapsible]:i||void 0,[me.panelId]:F,[me.panelSize]:parseFloat(""+re.flexGrow).toFixed(1)})}const st=S.forwardRef((t,e)=>S.createElement(Im,{...t,forwardedRef:e}));Im.displayName="Panel";st.displayName="forwardRef(Panel)";let ru=null,Xr=-1,rn=null;function Xy(t,e){if(e){const n=(e&Um)!==0,i=(e&Hm)!==0,s=(e&Km)!==0,r=(e&Xm)!==0;if(n)return s?"se-resize":r?"ne-resize":"e-resize";if(i)return s?"sw-resize":r?"nw-resize":"w-resize";if(s)return"s-resize";if(r)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function qy(){rn!==null&&(document.head.removeChild(rn),ru=null,rn=null,Xr=-1)}function Lo(t,e){var n,i;const s=Xy(t,e);if(ru!==s){if(ru=s,rn===null&&(rn=document.createElement("style"),document.head.appendChild(rn)),Xr>=0){var r;(r=rn.sheet)===null||r===void 0||r.removeRule(Xr)}Xr=(n=(i=rn.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${s} !important;}`))!==null&&n!==void 0?n:-1}}function Fm(t){return t.type==="keydown"}function Vm(t){return t.type.startsWith("pointer")}function Bm(t){return t.type.startsWith("mouse")}function Kl(t){if(Vm(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(Bm(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function Gy(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Qy(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Jy(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:qh(t),b:qh(e)};let i;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),i=t;H(i,"Stacking order can only be calculated for elements with a common ancestor");const s={a:Xh(Kh(n.a)),b:Xh(Kh(n.b))};if(s.a===s.b){const r=i.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)};let o=r.length;for(;o--;){const a=r[o];if(a===l.a)return 1;if(a===l.b)return-1}}return Math.sign(s.a-s.b)}const Yy=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Zy(t){var e;const n=getComputedStyle((e=Wm(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function ex(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||Zy(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||Yy.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function Kh(t){let e=t.length;for(;e--;){const n=t[e];if(H(n,"Missing node"),ex(n))return n}return null}function Xh(t){return t&&Number(getComputedStyle(t).zIndex)||0}function qh(t){const e=[];for(;t;)e.push(t),t=Wm(t);return e}function Wm(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const Um=1,Hm=2,Km=4,Xm=8,tx=Gy()==="coarse";let xt=[],bi=!1,zn=new Map,Xl=new Map;const Os=new Set;function nx(t,e,n,i,s){var r;const{ownerDocument:l}=e,o={direction:n,element:e,hitAreaMargins:i,setResizeHandlerState:s},a=(r=zn.get(l))!==null&&r!==void 0?r:0;return zn.set(l,a+1),Os.add(o),bl(),function(){var h;Xl.delete(t),Os.delete(o);const c=(h=zn.get(l))!==null&&h!==void 0?h:1;if(zn.set(l,c-1),bl(),c===1&&zn.delete(l),xt.includes(o)){const f=xt.indexOf(o);f>=0&&xt.splice(f,1),gc(),s("up",!0,null)}}}function ix(t){const{target:e}=t,{x:n,y:i}=Kl(t);bi=!0,mc({target:e,x:n,y:i}),bl(),xt.length>0&&(_l("down",t),t.preventDefault(),qm(e)||t.stopImmediatePropagation())}function $o(t){const{x:e,y:n}=Kl(t);if(bi&&t.buttons===0&&(bi=!1,_l("up",t)),!bi){const{target:i}=t;mc({target:i,x:e,y:n})}_l("move",t),gc(),xt.length>0&&t.preventDefault()}function Do(t){const{target:e}=t,{x:n,y:i}=Kl(t);Xl.clear(),bi=!1,xt.length>0&&(t.preventDefault(),qm(e)||t.stopImmediatePropagation()),_l("up",t),mc({target:e,x:n,y:i}),gc(),bl()}function qm(t){let e=t;for(;e;){if(e.hasAttribute(me.resizeHandle))return!0;e=e.parentElement}return!1}function mc({target:t,x:e,y:n}){xt.splice(0);let i=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(i=t),Os.forEach(s=>{const{element:r,hitAreaMargins:l}=s,o=r.getBoundingClientRect(),{bottom:a,left:u,right:h,top:c}=o,f=tx?l.coarse:l.fine;if(e>=u-f&&e<=h+f&&n>=c-f&&n<=a+f){if(i!==null&&document.contains(i)&&r!==i&&!r.contains(i)&&!i.contains(r)&&Jy(i,r)>0){let p=i,m=!1;for(;p&&!p.contains(r);){if(Qy(p.getBoundingClientRect(),o)){m=!0;break}p=p.parentElement}if(m)return}xt.push(s)}})}function Oo(t,e){Xl.set(t,e)}function gc(){let t=!1,e=!1;xt.forEach(i=>{const{direction:s}=i;s==="horizontal"?t=!0:e=!0});let n=0;Xl.forEach(i=>{n|=i}),t&&e?Lo("intersection",n):t?Lo("horizontal",n):e?Lo("vertical",n):qy()}let Ao=new AbortController;function bl(){Ao.abort(),Ao=new AbortController;const t={capture:!0,signal:Ao.signal};Os.size&&(bi?(xt.length>0&&zn.forEach((e,n)=>{const{body:i}=n;e>0&&(i.addEventListener("contextmenu",Do,t),i.addEventListener("pointerleave",$o,t),i.addEventListener("pointermove",$o,t))}),window.addEventListener("pointerup",Do,t),window.addEventListener("pointercancel",Do,t)):zn.forEach((e,n)=>{const{body:i}=n;e>0&&(i.addEventListener("pointerdown",ix,t),i.addEventListener("pointermove",$o,t))}))}function _l(t,e){Os.forEach(n=>{const{setResizeHandlerState:i}=n,s=xt.includes(n);i(t,s,e)})}function sx(){const[t,e]=S.useState(0);return S.useCallback(()=>e(n=>n+1),[])}function H(t,e){if(!t)throw console.error(e),Error(e)}function Wn(t,e,n=dc){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function At(t,e,n=dc){return Wn(t,e,n)===0}function Ye(t,e,n){return Wn(t,e,n)===0}function rx(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){const s=t[i],r=e[i];if(!Ye(s,r,n))return!1}return!0}function di({panelConstraints:t,panelIndex:e,size:n}){const i=t[e];H(i!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:s=0,collapsible:r,maxSize:l=100,minSize:o=0}=i;if(Wn(n,o)<0)if(r){const a=(s+o)/2;Wn(n,a)<0?n=s:n=o}else n=o;return n=Math.min(l,n),n=parseFloat(n.toFixed(dc)),n}function is({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:i,prevLayout:s,trigger:r}){if(Ye(t,0))return e;const l=[...e],[o,a]=i;H(o!=null,"Invalid first pivot index"),H(a!=null,"Invalid second pivot index");let u=0;if(r==="keyboard"){{const c=t<0?a:o,f=n[c];H(f,`Panel constraints not found for index ${c}`);const{collapsedSize:g=0,collapsible:p,minSize:m=0}=f;if(p){const w=e[c];if(H(w!=null,`Previous layout not found for panel index ${c}`),Ye(w,g)){const v=m-w;Wn(v,Math.abs(t))>0&&(t=t<0?0-v:v)}}}{const c=t<0?o:a,f=n[c];H(f,`No panel constraints found for index ${c}`);const{collapsedSize:g=0,collapsible:p,minSize:m=0}=f;if(p){const w=e[c];if(H(w!=null,`Previous layout not found for panel index ${c}`),Ye(w,m)){const v=w-g;Wn(v,Math.abs(t))>0&&(t=t<0?0-v:v)}}}}{const c=t<0?1:-1;let f=t<0?a:o,g=0;for(;;){const m=e[f];H(m!=null,`Previous layout not found for panel index ${f}`);const v=di({panelConstraints:n,panelIndex:f,size:100})-m;if(g+=v,f+=c,f<0||f>=n.length)break}const p=Math.min(Math.abs(t),Math.abs(g));t=t<0?0-p:p}{let f=t<0?o:a;for(;f>=0&&f<n.length;){const g=Math.abs(t)-Math.abs(u),p=e[f];H(p!=null,`Previous layout not found for panel index ${f}`);const m=p-g,w=di({panelConstraints:n,panelIndex:f,size:m});if(!Ye(p,w)&&(u+=p-w,l[f]=w,u.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?f--:f++}}if(rx(s,l))return s;{const c=t<0?a:o,f=e[c];H(f!=null,`Previous layout not found for panel index ${c}`);const g=f+u,p=di({panelConstraints:n,panelIndex:c,size:g});if(l[c]=p,!Ye(p,g)){let m=g-p,v=t<0?a:o;for(;v>=0&&v<n.length;){const y=l[v];H(y!=null,`Previous layout not found for panel index ${v}`);const x=y+m,b=di({panelConstraints:n,panelIndex:v,size:x});if(Ye(y,b)||(m-=b-y,l[v]=b),Ye(m,0))break;t>0?v--:v++}}}const h=l.reduce((c,f)=>f+c,0);return Ye(h,100)?l:s}function lx({layout:t,panelsArray:e,pivotIndices:n}){let i=0,s=100,r=0,l=0;const o=n[0];H(o!=null,"No pivot index found"),e.forEach((c,f)=>{const{constraints:g}=c,{maxSize:p=100,minSize:m=0}=g;f===o?(i=m,s=p):(r+=m,l+=p)});const a=Math.min(s,100-r),u=Math.max(i,100-l),h=t[o];return{valueMax:a,valueMin:u,valueNow:h}}function As(t,e=document){return Array.from(e.querySelectorAll(`[${me.resizeHandleId}][data-panel-group-id="${t}"]`))}function Gm(t,e,n=document){const s=As(t,n).findIndex(r=>r.getAttribute(me.resizeHandleId)===e);return s??null}function Qm(t,e,n){const i=Gm(t,e,n);return i!=null?[i,i+1]:[-1,-1]}function Jm(t,e=document){var n;if(e instanceof HTMLElement&&(e==null||(n=e.dataset)===null||n===void 0?void 0:n.panelGroupId)==t)return e;const i=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return i||null}function ql(t,e=document){const n=e.querySelector(`[${me.resizeHandleId}="${t}"]`);return n||null}function ox(t,e,n,i=document){var s,r,l,o;const a=ql(e,i),u=As(t,i),h=a?u.indexOf(a):-1,c=(s=(r=n[h])===null||r===void 0?void 0:r.id)!==null&&s!==void 0?s:null,f=(l=(o=n[h+1])===null||o===void 0?void 0:o.id)!==null&&l!==void 0?l:null;return[c,f]}function ax({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:i,panelDataArray:s,panelGroupElement:r,setLayout:l}){S.useRef({didWarnAboutMissingResizeHandle:!1}),$n(()=>{if(!r)return;const o=As(n,r);for(let a=0;a<s.length-1;a++){const{valueMax:u,valueMin:h,valueNow:c}=lx({layout:i,panelsArray:s,pivotIndices:[a,a+1]}),f=o[a];if(f!=null){const g=s[a];H(g,`No panel data found for index "${a}"`),f.setAttribute("aria-controls",g.id),f.setAttribute("aria-valuemax",""+Math.round(u)),f.setAttribute("aria-valuemin",""+Math.round(h)),f.setAttribute("aria-valuenow",c!=null?""+Math.round(c):"")}}return()=>{o.forEach((a,u)=>{a.removeAttribute("aria-controls"),a.removeAttribute("aria-valuemax"),a.removeAttribute("aria-valuemin"),a.removeAttribute("aria-valuenow")})}},[n,i,s,r]),S.useEffect(()=>{if(!r)return;const o=e.current;H(o,"Eager values not found");const{panelDataArray:a}=o,u=Jm(n,r);H(u!=null,`No group found for id "${n}"`);const h=As(n,r);H(h,`No resize handles found for group id "${n}"`);const c=h.map(f=>{const g=f.getAttribute(me.resizeHandleId);H(g,"Resize handle element has no handle id attribute");const[p,m]=ox(n,g,a,r);if(p==null||m==null)return()=>{};const w=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();const y=a.findIndex(x=>x.id===p);if(y>=0){const x=a[y];H(x,`No panel data found for index ${y}`);const b=i[y],{collapsedSize:_=0,collapsible:N,minSize:C=0}=x.constraints;if(b!=null&&N){const E=is({delta:Ye(b,_)?C-_:_-b,initialLayout:i,panelConstraints:a.map(L=>L.constraints),pivotIndices:Qm(n,g,r),prevLayout:i,trigger:"keyboard"});i!==E&&l(E)}}break}}};return f.addEventListener("keydown",w),()=>{f.removeEventListener("keydown",w)}});return()=>{c.forEach(f=>f())}},[r,t,e,n,i,s,l])}function Gh(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ym(t,e){const n=t==="horizontal",{x:i,y:s}=Kl(e);return n?i:s}function ux(t,e,n,i,s){const r=n==="horizontal",l=ql(e,s);H(l,`No resize handle element found for id "${e}"`);const o=l.getAttribute(me.groupId);H(o,"Resize handle element has no group id attribute");let{initialCursorPosition:a}=i;const u=Ym(n,t),h=Jm(o,s);H(h,`No group element found for id "${o}"`);const c=h.getBoundingClientRect(),f=r?c.width:c.height;return(u-a)/f*100}function cx(t,e,n,i,s,r){if(Fm(t)){const l=n==="horizontal";let o=0;t.shiftKey?o=100:s!=null?o=s:o=10;let a=0;switch(t.key){case"ArrowDown":a=l?0:o;break;case"ArrowLeft":a=l?-o:0;break;case"ArrowRight":a=l?o:0;break;case"ArrowUp":a=l?0:-o;break;case"End":a=100;break;case"Home":a=-100;break}return a}else return i==null?0:ux(t,e,n,i,r)}function hx({panelDataArray:t}){const e=Array(t.length),n=t.map(r=>r.constraints);let i=0,s=100;for(let r=0;r<t.length;r++){const l=n[r];H(l,`Panel constraints not found for index ${r}`);const{defaultSize:o}=l;o!=null&&(i++,e[r]=o,s-=o)}for(let r=0;r<t.length;r++){const l=n[r];H(l,`Panel constraints not found for index ${r}`);const{defaultSize:o}=l;if(o!=null)continue;const a=t.length-i,u=s/a;i++,e[r]=u,s-=u}return e}function Yn(t,e,n){e.forEach((i,s)=>{const r=t[s];H(r,`Panel data not found for index ${s}`);const{callbacks:l,constraints:o,id:a}=r,{collapsedSize:u=0,collapsible:h}=o,c=n[a];if(c==null||i!==c){n[a]=i;const{onCollapse:f,onExpand:g,onResize:p}=l;p&&p(i,c),h&&(f||g)&&(g&&(c==null||At(c,u))&&!At(i,u)&&g(),f&&(c==null||!At(c,u))&&At(i,u)&&f())}})}function br(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function fx({defaultSize:t,dragState:e,layout:n,panelData:i,panelIndex:s,precision:r=3}){const l=n[s];let o;return l==null?o=t!=null?t.toPrecision(r):"1":i.length===1?o="1":o=l.toPrecision(r),{flexBasis:0,flexGrow:o,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function dx(t,e=10){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...s)},e)}}function Qh(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Zm(t){return`react-resizable-panels:${t}`}function eg(t){return t.map(e=>{const{constraints:n,id:i,idIsFromProps:s,order:r}=e;return s?i:r?`${r}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function tg(t,e){try{const n=Zm(t),i=e.getItem(n);if(i){const s=JSON.parse(i);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function px(t,e,n){var i,s;const r=(i=tg(t,n))!==null&&i!==void 0?i:{},l=eg(e);return(s=r[l])!==null&&s!==void 0?s:null}function mx(t,e,n,i,s){var r;const l=Zm(t),o=eg(e),a=(r=tg(t,s))!==null&&r!==void 0?r:{};a[o]={expandToSizes:Object.fromEntries(n.entries()),layout:i};try{s.setItem(l,JSON.stringify(a))}catch(u){console.error(u)}}function Jh({layout:t,panelConstraints:e}){const n=[...t],i=n.reduce((r,l)=>r+l,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(r=>`${r}%`).join(", ")}`);if(!Ye(i,100)&&n.length>0)for(let r=0;r<e.length;r++){const l=n[r];H(l!=null,`No layout data found for index ${r}`);const o=100/i*l;n[r]=o}let s=0;for(let r=0;r<e.length;r++){const l=n[r];H(l!=null,`No layout data found for index ${r}`);const o=di({panelConstraints:e,panelIndex:r,size:l});l!=o&&(s+=l-o,n[r]=o)}if(!Ye(s,0))for(let r=0;r<e.length;r++){const l=n[r];H(l!=null,`No layout data found for index ${r}`);const o=l+s,a=di({panelConstraints:e,panelIndex:r,size:o});if(l!==a&&(s-=a-l,n[r]=a,Ye(s,0)))break}return n}const gx=100,ss={getItem:t=>(Qh(ss),ss.getItem(t)),setItem:(t,e)=>{Qh(ss),ss.setItem(t,e)}},Yh={};function ng({autoSaveId:t=null,children:e,className:n="",direction:i,forwardedRef:s,id:r=null,onLayout:l=null,keyboardResizeBy:o=null,storage:a=ss,style:u,tagName:h="div",...c}){const f=pc(r),g=S.useRef(null),[p,m]=S.useState(null),[w,v]=S.useState([]),y=sx(),x=S.useRef({}),b=S.useRef(new Map),_=S.useRef(0),N=S.useRef({autoSaveId:t,direction:i,dragState:p,id:f,keyboardResizeBy:o,onLayout:l,storage:a}),C=S.useRef({layout:w,panelDataArray:[],panelDataArrayChanged:!1});S.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),S.useImperativeHandle(s,()=>({getId:()=>N.current.id,getLayout:()=>{const{layout:j}=C.current;return j},setLayout:j=>{const{onLayout:D}=N.current,{layout:B,panelDataArray:A}=C.current,$=Jh({layout:j,panelConstraints:A.map(U=>U.constraints)});Gh(B,$)||(v($),C.current.layout=$,D&&D($),Yn(A,$,x.current))}}),[]),$n(()=>{N.current.autoSaveId=t,N.current.direction=i,N.current.dragState=p,N.current.id=f,N.current.onLayout=l,N.current.storage=a}),ax({committedValuesRef:N,eagerValuesRef:C,groupId:f,layout:w,panelDataArray:C.current.panelDataArray,setLayout:v,panelGroupElement:g.current}),S.useEffect(()=>{const{panelDataArray:j}=C.current;if(t){if(w.length===0||w.length!==j.length)return;let D=Yh[t];D==null&&(D=dx(mx,gx),Yh[t]=D);const B=[...j],A=new Map(b.current);D(t,B,A,w,a)}},[t,w,a]),S.useEffect(()=>{});const E=S.useCallback(j=>{const{onLayout:D}=N.current,{layout:B,panelDataArray:A}=C.current;if(j.constraints.collapsible){const $=A.map(Ct=>Ct.constraints),{collapsedSize:U=0,panelSize:Z,pivotIndices:ye}=bn(A,j,B);if(H(Z!=null,`Panel size not found for panel "${j.id}"`),!At(Z,U)){b.current.set(j.id,Z);const kt=ei(A,j)===A.length-1?Z-U:U-Z,fe=is({delta:kt,initialLayout:B,panelConstraints:$,pivotIndices:ye,prevLayout:B,trigger:"imperative-api"});br(B,fe)||(v(fe),C.current.layout=fe,D&&D(fe),Yn(A,fe,x.current))}}},[]),L=S.useCallback((j,D)=>{const{onLayout:B}=N.current,{layout:A,panelDataArray:$}=C.current;if(j.constraints.collapsible){const U=$.map(ft=>ft.constraints),{collapsedSize:Z=0,panelSize:ye=0,minSize:Ct=0,pivotIndices:kt}=bn($,j,A),fe=D??Ct;if(At(ye,Z)){const ft=b.current.get(j.id),Fi=ft!=null&&ft>=fe?ft:fe,lo=ei($,j)===$.length-1?ye-Fi:Fi-ye,Fe=is({delta:lo,initialLayout:A,panelConstraints:U,pivotIndices:kt,prevLayout:A,trigger:"imperative-api"});br(A,Fe)||(v(Fe),C.current.layout=Fe,B&&B(Fe),Yn($,Fe,x.current))}}},[]),P=S.useCallback(j=>{const{layout:D,panelDataArray:B}=C.current,{panelSize:A}=bn(B,j,D);return H(A!=null,`Panel size not found for panel "${j.id}"`),A},[]),F=S.useCallback((j,D)=>{const{panelDataArray:B}=C.current,A=ei(B,j);return fx({defaultSize:D,dragState:p,layout:w,panelData:B,panelIndex:A})},[p,w]),K=S.useCallback(j=>{const{layout:D,panelDataArray:B}=C.current,{collapsedSize:A=0,collapsible:$,panelSize:U}=bn(B,j,D);return H(U!=null,`Panel size not found for panel "${j.id}"`),$===!0&&At(U,A)},[]),re=S.useCallback(j=>{const{layout:D,panelDataArray:B}=C.current,{collapsedSize:A=0,collapsible:$,panelSize:U}=bn(B,j,D);return H(U!=null,`Panel size not found for panel "${j.id}"`),!$||Wn(U,A)>0},[]),Q=S.useCallback(j=>{const{panelDataArray:D}=C.current;D.push(j),D.sort((B,A)=>{const $=B.order,U=A.order;return $==null&&U==null?0:$==null?-1:U==null?1:$-U}),C.current.panelDataArrayChanged=!0,y()},[y]);$n(()=>{if(C.current.panelDataArrayChanged){C.current.panelDataArrayChanged=!1;const{autoSaveId:j,onLayout:D,storage:B}=N.current,{layout:A,panelDataArray:$}=C.current;let U=null;if(j){const ye=px(j,$,B);ye&&(b.current=new Map(Object.entries(ye.expandToSizes)),U=ye.layout)}U==null&&(U=hx({panelDataArray:$}));const Z=Jh({layout:U,panelConstraints:$.map(ye=>ye.constraints)});Gh(A,Z)||(v(Z),C.current.layout=Z,D&&D(Z),Yn($,Z,x.current))}}),$n(()=>{const j=C.current;return()=>{j.layout=[]}},[]);const ee=S.useCallback(j=>{let D=!1;const B=g.current;return B&&window.getComputedStyle(B,null).getPropertyValue("direction")==="rtl"&&(D=!0),function($){$.preventDefault();const U=g.current;if(!U)return()=>null;const{direction:Z,dragState:ye,id:Ct,keyboardResizeBy:kt,onLayout:fe}=N.current,{layout:ft,panelDataArray:Fi}=C.current,{initialLayout:ir}=ye??{},lo=Qm(Ct,j,U);let Fe=cx($,j,Z,ye,kt,U);const Lc=Z==="horizontal";Lc&&D&&(Fe=-Fe);const av=Fi.map(uv=>uv.constraints),Vi=is({delta:Fe,initialLayout:ir??ft,panelConstraints:av,pivotIndices:lo,prevLayout:ft,trigger:Fm($)?"keyboard":"mouse-or-touch"}),$c=!br(ft,Vi);(Vm($)||Bm($))&&_.current!=Fe&&(_.current=Fe,!$c&&Fe!==0?Lc?Oo(j,Fe<0?Um:Hm):Oo(j,Fe<0?Km:Xm):Oo(j,0)),$c&&(v(Vi),C.current.layout=Vi,fe&&fe(Vi),Yn(Fi,Vi,x.current))}},[]),q=S.useCallback((j,D)=>{const{onLayout:B}=N.current,{layout:A,panelDataArray:$}=C.current,U=$.map(ft=>ft.constraints),{panelSize:Z,pivotIndices:ye}=bn($,j,A);H(Z!=null,`Panel size not found for panel "${j.id}"`);const kt=ei($,j)===$.length-1?Z-D:D-Z,fe=is({delta:kt,initialLayout:A,panelConstraints:U,pivotIndices:ye,prevLayout:A,trigger:"imperative-api"});br(A,fe)||(v(fe),C.current.layout=fe,B&&B(fe),Yn($,fe,x.current))},[]),Le=S.useCallback((j,D)=>{const{layout:B,panelDataArray:A}=C.current,{collapsedSize:$=0,collapsible:U}=D,{collapsedSize:Z=0,collapsible:ye,maxSize:Ct=100,minSize:kt=0}=j.constraints,{panelSize:fe}=bn(A,j,B);fe!=null&&(U&&ye&&At(fe,$)?At($,Z)||q(j,Z):fe<kt?q(j,kt):fe>Ct&&q(j,Ct))},[q]),R=S.useCallback((j,D)=>{const{direction:B}=N.current,{layout:A}=C.current;if(!g.current)return;const $=ql(j,g.current);H($,`Drag handle element not found for id "${j}"`);const U=Ym(B,D);m({dragHandleId:j,dragHandleRect:$.getBoundingClientRect(),initialCursorPosition:U,initialLayout:A})},[]),O=S.useCallback(()=>{m(null)},[]),I=S.useCallback(j=>{const{panelDataArray:D}=C.current,B=ei(D,j);B>=0&&(D.splice(B,1),delete x.current[j.id],C.current.panelDataArrayChanged=!0,y())},[y]),W=S.useMemo(()=>({collapsePanel:E,direction:i,dragState:p,expandPanel:L,getPanelSize:P,getPanelStyle:F,groupId:f,isPanelCollapsed:K,isPanelExpanded:re,reevaluatePanelConstraints:Le,registerPanel:Q,registerResizeHandle:ee,resizePanel:q,startDragging:R,stopDragging:O,unregisterPanel:I,panelGroupElement:g.current}),[E,p,i,L,P,F,f,K,re,Le,Q,ee,q,R,O,I]),J={display:"flex",flexDirection:i==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return S.createElement(Hl.Provider,{value:W},S.createElement(h,{...c,children:e,className:n,id:r,ref:g,style:{...J,...u},[me.group]:"",[me.groupDirection]:i,[me.groupId]:f}))}const rs=S.forwardRef((t,e)=>S.createElement(ng,{...t,forwardedRef:e}));ng.displayName="PanelGroup";rs.displayName="forwardRef(PanelGroup)";function ei(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function bn(t,e,n){const i=ei(t,e),r=i===t.length-1?[i-1,i]:[i,i+1],l=n[i];return{...e.constraints,panelSize:l,pivotIndices:r}}function vx({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:i}){S.useEffect(()=>{if(t||n==null||i==null)return;const s=ql(e,i);if(s==null)return;const r=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),n(l);break}case"F6":{l.preventDefault();const o=s.getAttribute(me.groupId);H(o,`No group element found for id "${o}"`);const a=As(o,i),u=Gm(o,e,i);H(u!==null,`No resize element found for id "${e}"`);const h=l.shiftKey?u>0?u-1:a.length-1:u+1<a.length?u+1:0;a[h].focus();break}}};return s.addEventListener("keydown",r),()=>{s.removeEventListener("keydown",r)}},[i,t,e,n])}function ig({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:i,id:s,onBlur:r,onClick:l,onDragging:o,onFocus:a,onPointerDown:u,onPointerUp:h,style:c={},tabIndex:f=0,tagName:g="div",...p}){var m,w;const v=S.useRef(null),y=S.useRef({onClick:l,onDragging:o,onPointerDown:u,onPointerUp:h});S.useEffect(()=>{y.current.onClick=l,y.current.onDragging=o,y.current.onPointerDown=u,y.current.onPointerUp=h});const x=S.useContext(Hl);if(x===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:b,groupId:_,registerResizeHandle:N,startDragging:C,stopDragging:E,panelGroupElement:L}=x,P=pc(s),[F,K]=S.useState("inactive"),[re,Q]=S.useState(!1),[ee,q]=S.useState(null),Le=S.useRef({state:F});$n(()=>{Le.current.state=F}),S.useEffect(()=>{if(n)q(null);else{const W=N(P);q(()=>W)}},[n,P,N]);const R=(m=i==null?void 0:i.coarse)!==null&&m!==void 0?m:15,O=(w=i==null?void 0:i.fine)!==null&&w!==void 0?w:5;S.useEffect(()=>{if(n||ee==null)return;const W=v.current;H(W,"Element ref not attached");let J=!1;return nx(P,W,b,{coarse:R,fine:O},(D,B,A)=>{if(!B){K("inactive");return}switch(D){case"down":{K("drag"),J=!1,H(A,'Expected event to be defined for "down" action'),C(P,A);const{onDragging:$,onPointerDown:U}=y.current;$==null||$(!0),U==null||U();break}case"move":{const{state:$}=Le.current;J=!0,$!=="drag"&&K("hover"),H(A,'Expected event to be defined for "move" action'),ee(A);break}case"up":{K("hover"),E();const{onClick:$,onDragging:U,onPointerUp:Z}=y.current;U==null||U(!1),Z==null||Z(),J||$==null||$();break}}})},[R,b,n,O,N,P,ee,C,E]),vx({disabled:n,handleId:P,resizeHandler:ee,panelGroupElement:L});const I={touchAction:"none",userSelect:"none"};return S.createElement(g,{...p,children:t,className:e,id:s,onBlur:()=>{Q(!1),r==null||r()},onFocus:()=>{Q(!0),a==null||a()},ref:v,role:"separator",style:{...I,...c},tabIndex:f,[me.groupDirection]:b,[me.groupId]:_,[me.resizeHandle]:"",[me.resizeHandleActive]:F==="drag"?"pointer":re?"keyboard":void 0,[me.resizeHandleEnabled]:!n,[me.resizeHandleId]:P,[me.resizeHandleState]:F})}ig.displayName="PanelResizeHandle";const _n=/^[A-Z]{1,5}$/,yx=50,xx=500,wx=[{label:"analyze {symbol}",description:"Run full analysis pipeline",value:"analyze ",type:"analyze"},{label:"news {symbol}",description:"View latest news",value:"news ",type:"news"},{label:"fundamentals {symbol}",description:"View fundamental data",value:"fundamentals ",type:"fundamentals"},{label:"insider {symbol}",description:"View insider activity",value:"insider ",type:"insider"},{label:"watch add {symbol}",description:"Add to watchlist",value:"watch add ",type:"watch_add"},{label:"watch remove {symbol}",description:"Remove from watchlist",value:"watch remove ",type:"watch_remove"},{label:"scan",description:"Scan all stocks",value:"scan",type:"scan"},{label:"scan bullish",description:"Scan for bullish signals",value:"scan bullish",type:"scan"},{label:"macro",description:"View macro calendar",value:"macro",type:"macro"}],Sx=new Set(["bullish","bearish","strong"]);function bx(t){return t.replace(/[<>&"']/g,"").trim().slice(0,xx)}function _x(t){const e=bx(t);if(e==="")return{type:"query",text:"",raw:e};const n=e.split(/\s+/),i=n[0].toLowerCase();if(i==="analyze"&&n.length>=2){const r=n[1].toUpperCase();if(_n.test(r))return{type:"analyze",symbol:r,raw:e}}if(i==="watch"&&n.length>=3){const r=n[1].toLowerCase(),l=n[2].toUpperCase();if(r==="add"&&_n.test(l))return{type:"watch_add",symbol:l,raw:e};if(r==="remove"&&_n.test(l))return{type:"watch_remove",symbol:l,raw:e}}if(i==="news"&&n.length>=2){const r=n[1].toUpperCase();if(_n.test(r))return{type:"news",symbol:r,raw:e}}if(i==="fundamentals"&&n.length>=2){const r=n[1].toUpperCase();if(_n.test(r))return{type:"fundamentals",symbol:r,raw:e}}if(i==="insider"&&n.length>=2){const r=n[1].toUpperCase();if(_n.test(r))return{type:"insider",symbol:r,raw:e}}if(i==="scan"){let r=null;return n.length>=2&&Sx.has(n[1].toLowerCase())&&(r=n[1].toLowerCase()),{type:"scan",preset:r,raw:e}}if(i==="macro")return{type:"macro",raw:e};const s=e.toUpperCase();return _n.test(s)?{type:"ticker",symbol:s,raw:e}:{type:"query",text:e,raw:e}}function Ex(t,e,n=8){if(t==="")return[];const i=t.toLowerCase();return wx.filter(s=>s.label.toLowerCase().startsWith(i)).map(s=>e?{label:s.label.replace("{symbol}",e),description:s.description,value:s.value.replace("{symbol}",e),type:s.type}:{label:s.label,description:s.description,value:s.value,type:s.type}).slice(0,n)}function Cx(t){switch(t){case"ticker":return"text-accent-blue";case"analyze":return"text-accent-green";case"watch_add":return"text-green-400";case"watch_remove":return"text-red-400";case"news":return"text-accent-amber";case"scan":return"text-purple-400";case"fundamentals":return"text-cyan-400";case"insider":return"text-orange-400";case"macro":return"text-yellow-400";case"query":return"text-text-secondary";default:return"text-text-secondary"}}function kx(t){return"symbol"in t}function Nx(t){return t.type==="scan"}function zx(t){return t.type==="macro"}function Mx(t){return t.type==="query"}function sg(t,e){return function(){return t.apply(e,arguments)}}const{toString:Rx}=Object.prototype,{getPrototypeOf:vc}=Object,{iterator:Gl,toStringTag:rg}=Symbol,Ql=(t=>e=>{const n=Rx.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_t=t=>(t=t.toLowerCase(),e=>Ql(e)===t),Jl=t=>e=>typeof e===t,{isArray:Ii}=Array,Pi=Jl("undefined");function Qs(t){return t!==null&&!Pi(t)&&t.constructor!==null&&!Pi(t.constructor)&&Xe(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lg=_t("ArrayBuffer");function Px(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lg(t.buffer),e}const jx=Jl("string"),Xe=Jl("function"),og=Jl("number"),Js=t=>t!==null&&typeof t=="object",Tx=t=>t===!0||t===!1,qr=t=>{if(Ql(t)!=="object")return!1;const e=vc(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(rg in t)&&!(Gl in t)},Lx=t=>{if(!Js(t)||Qs(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},$x=_t("Date"),Dx=_t("File"),Ox=_t("Blob"),Ax=_t("FileList"),Ix=t=>Js(t)&&Xe(t.pipe),Fx=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xe(t.append)&&((e=Ql(t))==="formdata"||e==="object"&&Xe(t.toString)&&t.toString()==="[object FormData]"))},Vx=_t("URLSearchParams"),[Bx,Wx,Ux,Hx]=["ReadableStream","Request","Response","Headers"].map(_t),Kx=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ys(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),Ii(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{if(Qs(t))return;const r=n?Object.getOwnPropertyNames(t):Object.keys(t),l=r.length;let o;for(i=0;i<l;i++)o=r[i],e.call(null,t[o],o,t)}}function ag(t,e){if(Qs(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const jn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ug=t=>!Pi(t)&&t!==jn;function lu(){const{caseless:t,skipUndefined:e}=ug(this)&&this||{},n={},i=(s,r)=>{const l=t&&ag(n,r)||r;qr(n[l])&&qr(s)?n[l]=lu(n[l],s):qr(s)?n[l]=lu({},s):Ii(s)?n[l]=s.slice():(!e||!Pi(s))&&(n[l]=s)};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Ys(arguments[s],i);return n}const Xx=(t,e,n,{allOwnKeys:i}={})=>(Ys(e,(s,r)=>{n&&Xe(s)?Object.defineProperty(t,r,{value:sg(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,r,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:i}),t),qx=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Gx=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Qx=(t,e,n,i)=>{let s,r,l;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)l=s[r],(!i||i(l,t,e))&&!o[l]&&(e[l]=t[l],o[l]=!0);t=n!==!1&&vc(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Jx=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},Yx=t=>{if(!t)return null;if(Ii(t))return t;let e=t.length;if(!og(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Zx=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&vc(Uint8Array)),ew=(t,e)=>{const i=(t&&t[Gl]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},tw=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},nw=_t("HTMLFormElement"),iw=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),Zh=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),sw=_t("RegExp"),cg=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Ys(n,(s,r)=>{let l;(l=e(s,r,t))!==!1&&(i[r]=l||s)}),Object.defineProperties(t,i)},rw=t=>{cg(t,(e,n)=>{if(Xe(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Xe(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},lw=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return Ii(t)?i(t):i(String(t).split(e)),n},ow=()=>{},aw=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function uw(t){return!!(t&&Xe(t.append)&&t[rg]==="FormData"&&t[Gl])}const cw=t=>{const e=new Array(10),n=(i,s)=>{if(Js(i)){if(e.indexOf(i)>=0)return;if(Qs(i))return i;if(!("toJSON"in i)){e[s]=i;const r=Ii(i)?[]:{};return Ys(i,(l,o)=>{const a=n(l,s+1);!Pi(a)&&(r[o]=a)}),e[s]=void 0,r}}return i};return n(t,0)},hw=_t("AsyncFunction"),fw=t=>t&&(Js(t)||Xe(t))&&Xe(t.then)&&Xe(t.catch),hg=((t,e)=>t?setImmediate:e?((n,i)=>(jn.addEventListener("message",({source:s,data:r})=>{s===jn&&r===n&&i.length&&i.shift()()},!1),s=>{i.push(s),jn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xe(jn.postMessage)),dw=typeof queueMicrotask<"u"?queueMicrotask.bind(jn):typeof process<"u"&&process.nextTick||hg,pw=t=>t!=null&&Xe(t[Gl]),k={isArray:Ii,isArrayBuffer:lg,isBuffer:Qs,isFormData:Fx,isArrayBufferView:Px,isString:jx,isNumber:og,isBoolean:Tx,isObject:Js,isPlainObject:qr,isEmptyObject:Lx,isReadableStream:Bx,isRequest:Wx,isResponse:Ux,isHeaders:Hx,isUndefined:Pi,isDate:$x,isFile:Dx,isBlob:Ox,isRegExp:sw,isFunction:Xe,isStream:Ix,isURLSearchParams:Vx,isTypedArray:Zx,isFileList:Ax,forEach:Ys,merge:lu,extend:Xx,trim:Kx,stripBOM:qx,inherits:Gx,toFlatObject:Qx,kindOf:Ql,kindOfTest:_t,endsWith:Jx,toArray:Yx,forEachEntry:ew,matchAll:tw,isHTMLForm:nw,hasOwnProperty:Zh,hasOwnProp:Zh,reduceDescriptors:cg,freezeMethods:rw,toObjectSet:lw,toCamelCase:iw,noop:ow,toFiniteNumber:aw,findKey:ag,global:jn,isContextDefined:ug,isSpecCompliantForm:uw,toJSONObject:cw,isAsyncFn:hw,isThenable:fw,setImmediate:hg,asap:dw,isIterable:pw};let V=class fg extends Error{static from(e,n,i,s,r,l){const o=new fg(e.message,n||e.code,i,s,r);return o.cause=e,o.name=e.name,l&&Object.assign(o,l),o}constructor(e,n,i,s,r){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),i&&(this.config=i),s&&(this.request=s),r&&(this.response=r,this.status=r.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}};V.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";V.ERR_BAD_OPTION="ERR_BAD_OPTION";V.ECONNABORTED="ECONNABORTED";V.ETIMEDOUT="ETIMEDOUT";V.ERR_NETWORK="ERR_NETWORK";V.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";V.ERR_DEPRECATED="ERR_DEPRECATED";V.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";V.ERR_BAD_REQUEST="ERR_BAD_REQUEST";V.ERR_CANCELED="ERR_CANCELED";V.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";V.ERR_INVALID_URL="ERR_INVALID_URL";const mw=null;function ou(t){return k.isPlainObject(t)||k.isArray(t)}function dg(t){return k.endsWith(t,"[]")?t.slice(0,-2):t}function ef(t,e,n){return t?t.concat(e).map(function(s,r){return s=dg(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function gw(t){return k.isArray(t)&&!t.some(ou)}const vw=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function Yl(t,e,n){if(!k.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,w){return!k.isUndefined(w[m])});const i=n.metaTokens,s=n.visitor||h,r=n.dots,l=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(k.isDate(p))return p.toISOString();if(k.isBoolean(p))return p.toString();if(!a&&k.isBlob(p))throw new V("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(p)||k.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,m,w){let v=p;if(p&&!w&&typeof p=="object"){if(k.endsWith(m,"{}"))m=i?m:m.slice(0,-2),p=JSON.stringify(p);else if(k.isArray(p)&&gw(p)||(k.isFileList(p)||k.endsWith(m,"[]"))&&(v=k.toArray(p)))return m=dg(m),v.forEach(function(x,b){!(k.isUndefined(x)||x===null)&&e.append(l===!0?ef([m],b,r):l===null?m:m+"[]",u(x))}),!1}return ou(p)?!0:(e.append(ef(w,m,r),u(p)),!1)}const c=[],f=Object.assign(vw,{defaultVisitor:h,convertValue:u,isVisitable:ou});function g(p,m){if(!k.isUndefined(p)){if(c.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));c.push(p),k.forEach(p,function(v,y){(!(k.isUndefined(v)||v===null)&&s.call(e,v,k.isString(y)?y.trim():y,m,f))===!0&&g(v,m?m.concat(y):[y])}),c.pop()}}if(!k.isObject(t))throw new TypeError("data must be an object");return g(t),e}function tf(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function yc(t,e){this._pairs=[],t&&Yl(t,this,e)}const pg=yc.prototype;pg.append=function(e,n){this._pairs.push([e,n])};pg.toString=function(e){const n=e?function(i){return e.call(this,i,tf)}:tf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function yw(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function mg(t,e,n){if(!e)return t;const i=n&&n.encode||yw,s=k.isFunction(n)?{serialize:n}:n,r=s&&s.serialize;let l;if(r?l=r(e,s):l=k.isURLSearchParams(e)?e.toString():new yc(e,s).toString(i),l){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class nf{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(i){i!==null&&e(i)})}}const gg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xw=typeof URLSearchParams<"u"?URLSearchParams:yc,ww=typeof FormData<"u"?FormData:null,Sw=typeof Blob<"u"?Blob:null,bw={isBrowser:!0,classes:{URLSearchParams:xw,FormData:ww,Blob:Sw},protocols:["http","https","file","blob","url","data"]},xc=typeof window<"u"&&typeof document<"u",au=typeof navigator=="object"&&navigator||void 0,_w=xc&&(!au||["ReactNative","NativeScript","NS"].indexOf(au.product)<0),Ew=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Cw=xc&&window.location.href||"http://localhost",kw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xc,hasStandardBrowserEnv:_w,hasStandardBrowserWebWorkerEnv:Ew,navigator:au,origin:Cw},Symbol.toStringTag,{value:"Module"})),je={...kw,...bw};function Nw(t,e){return Yl(t,new je.classes.URLSearchParams,{visitor:function(n,i,s,r){return je.isNode&&k.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function zw(t){return k.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Mw(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function vg(t){function e(n,i,s,r){let l=n[r++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),a=r>=n.length;return l=!l&&k.isArray(s)?s.length:l,a?(k.hasOwnProp(s,l)?s[l]=[s[l],i]:s[l]=i,!o):((!s[l]||!k.isObject(s[l]))&&(s[l]=[]),e(n,i,s[l],r)&&k.isArray(s[l])&&(s[l]=Mw(s[l])),!o)}if(k.isFormData(t)&&k.isFunction(t.entries)){const n={};return k.forEachEntry(t,(i,s)=>{e(zw(i),s,n,0)}),n}return null}function Rw(t,e,n){if(k.isString(t))try{return(e||JSON.parse)(t),k.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Zs={transitional:gg,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=k.isObject(e);if(r&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return s?JSON.stringify(vg(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e)||k.isReadableStream(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Nw(e,this.formSerializer).toString();if((o=k.isFileList(e))||i.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Yl(o?{"files[]":e}:e,a&&new a,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),Rw(e)):e}],transformResponse:[function(e){const n=this.transitional||Zs.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(k.isResponse(e)||k.isReadableStream(e))return e;if(e&&k.isString(e)&&(i&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?V.from(o,V.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:je.classes.FormData,Blob:je.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],t=>{Zs.headers[t]={}});const Pw=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jw=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),i=l.substring(s+1).trim(),!(!n||e[n]&&Pw[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},sf=Symbol("internals");function Ji(t){return t&&String(t).trim().toLowerCase()}function Gr(t){return t===!1||t==null?t:k.isArray(t)?t.map(Gr):String(t)}function Tw(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const Lw=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Io(t,e,n,i,s){if(k.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!k.isString(e)){if(k.isString(i))return e.indexOf(i)!==-1;if(k.isRegExp(i))return i.test(e)}}function $w(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function Dw(t,e){const n=k.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,l){return this[i].call(this,e,s,r,l)},configurable:!0})})}let qe=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(o,a,u){const h=Ji(a);if(!h)throw new Error("header name must be a non-empty string");const c=k.findKey(s,h);(!c||s[c]===void 0||u===!0||u===void 0&&s[c]!==!1)&&(s[c||a]=Gr(o))}const l=(o,a)=>k.forEach(o,(u,h)=>r(u,h,a));if(k.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(k.isString(e)&&(e=e.trim())&&!Lw(e))l(jw(e),n);else if(k.isObject(e)&&k.isIterable(e)){let o={},a,u;for(const h of e){if(!k.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[u=h[0]]=(a=o[u])?k.isArray(a)?[...a,h[1]]:[a,h[1]]:h[1]}l(o,n)}else e!=null&&r(n,e,i);return this}get(e,n){if(e=Ji(e),e){const i=k.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return Tw(s);if(k.isFunction(n))return n.call(this,s,i);if(k.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ji(e),e){const i=k.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Io(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(l){if(l=Ji(l),l){const o=k.findKey(i,l);o&&(!n||Io(i,i[o],o,n))&&(delete i[o],s=!0)}}return k.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||Io(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return k.forEach(this,(s,r)=>{const l=k.findKey(i,r);if(l){n[l]=Gr(s),delete n[r];return}const o=e?$w(r):String(r).trim();o!==r&&delete n[r],n[o]=Gr(s),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return k.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&k.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[sf]=this[sf]={accessors:{}}).accessors,s=this.prototype;function r(l){const o=Ji(l);i[o]||(Dw(s,l),i[o]=!0)}return k.isArray(e)?e.forEach(r):r(e),this}};qe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(qe.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});k.freezeMethods(qe);function Fo(t,e){const n=this||Zs,i=e||n,s=qe.from(i.headers);let r=i.data;return k.forEach(t,function(o){r=o.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function yg(t){return!!(t&&t.__CANCEL__)}let er=class extends V{constructor(e,n,i){super(e??"canceled",V.ERR_CANCELED,n,i),this.name="CanceledError",this.__CANCEL__=!0}};function xg(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new V("Request failed with status code "+n.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ow(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Aw(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,l;return e=e!==void 0?e:1e3,function(a){const u=Date.now(),h=i[r];l||(l=u),n[s]=a,i[s]=u;let c=r,f=0;for(;c!==s;)f+=n[c++],c=c%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),u-l<e)return;const g=h&&u-h;return g?Math.round(f*1e3/g):void 0}}function Iw(t,e){let n=0,i=1e3/e,s,r;const l=(u,h=Date.now())=>{n=h,s=null,r&&(clearTimeout(r),r=null),t(...u)};return[(...u)=>{const h=Date.now(),c=h-n;c>=i?l(u,h):(s=u,r||(r=setTimeout(()=>{r=null,l(s)},i-c)))},()=>s&&l(s)]}const El=(t,e,n=3)=>{let i=0;const s=Aw(50,250);return Iw(r=>{const l=r.loaded,o=r.lengthComputable?r.total:void 0,a=l-i,u=s(a),h=l<=o;i=l;const c={loaded:l,total:o,progress:o?l/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&h?(o-l)/u:void 0,event:r,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(c)},n)},rf=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},lf=t=>(...e)=>k.asap(()=>t(...e)),Fw=je.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,je.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(je.origin),je.navigator&&/(msie|trident)/i.test(je.navigator.userAgent)):()=>!0,Vw=je.hasStandardBrowserEnv?{write(t,e,n,i,s,r,l){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];k.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),k.isString(i)&&o.push(`path=${i}`),k.isString(s)&&o.push(`domain=${s}`),r===!0&&o.push("secure"),k.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Bw(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ww(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wg(t,e,n){let i=!Bw(e);return t&&(i||n==!1)?Ww(t,e):e}const of=t=>t instanceof qe?{...t}:t;function Un(t,e){e=e||{};const n={};function i(u,h,c,f){return k.isPlainObject(u)&&k.isPlainObject(h)?k.merge.call({caseless:f},u,h):k.isPlainObject(h)?k.merge({},h):k.isArray(h)?h.slice():h}function s(u,h,c,f){if(k.isUndefined(h)){if(!k.isUndefined(u))return i(void 0,u,c,f)}else return i(u,h,c,f)}function r(u,h){if(!k.isUndefined(h))return i(void 0,h)}function l(u,h){if(k.isUndefined(h)){if(!k.isUndefined(u))return i(void 0,u)}else return i(void 0,h)}function o(u,h,c){if(c in e)return i(u,h);if(c in t)return i(void 0,u)}const a={url:r,method:r,data:r,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(u,h,c)=>s(of(u),of(h),c,!0)};return k.forEach(Object.keys({...t,...e}),function(h){const c=a[h]||s,f=c(t[h],e[h],h);k.isUndefined(f)&&c!==o||(n[h]=f)}),n}const Sg=t=>{const e=Un({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:l,auth:o}=e;if(e.headers=l=qe.from(l),e.url=mg(wg(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),k.isFormData(n)){if(je.hasStandardBrowserEnv||je.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(k.isFunction(n.getHeaders)){const a=n.getHeaders(),u=["content-type","content-length"];Object.entries(a).forEach(([h,c])=>{u.includes(h.toLowerCase())&&l.set(h,c)})}}if(je.hasStandardBrowserEnv&&(i&&k.isFunction(i)&&(i=i(e)),i||i!==!1&&Fw(e.url))){const a=s&&r&&Vw.read(r);a&&l.set(s,a)}return e},Uw=typeof XMLHttpRequest<"u",Hw=Uw&&function(t){return new Promise(function(n,i){const s=Sg(t);let r=s.data;const l=qe.from(s.headers).normalize();let{responseType:o,onUploadProgress:a,onDownloadProgress:u}=s,h,c,f,g,p;function m(){g&&g(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function v(){if(!w)return;const x=qe.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:t,request:w};xg(function(C){n(C),m()},function(C){i(C),m()},_),w=null}"onloadend"in w?w.onloadend=v:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(v)},w.onabort=function(){w&&(i(new V("Request aborted",V.ECONNABORTED,t,w)),w=null)},w.onerror=function(b){const _=b&&b.message?b.message:"Network Error",N=new V(_,V.ERR_NETWORK,t,w);N.event=b||null,i(N),w=null},w.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||gg;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),i(new V(b,_.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,t,w)),w=null},r===void 0&&l.setContentType(null),"setRequestHeader"in w&&k.forEach(l.toJSON(),function(b,_){w.setRequestHeader(_,b)}),k.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),o&&o!=="json"&&(w.responseType=s.responseType),u&&([f,p]=El(u,!0),w.addEventListener("progress",f)),a&&w.upload&&([c,g]=El(a),w.upload.addEventListener("progress",c),w.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(h=x=>{w&&(i(!x||x.type?new er(null,t,w):x),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const y=Ow(s.url);if(y&&je.protocols.indexOf(y)===-1){i(new V("Unsupported protocol "+y+":",V.ERR_BAD_REQUEST,t));return}w.send(r||null)})},Kw=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const r=function(u){if(!s){s=!0,o();const h=u instanceof Error?u:this.reason;i.abort(h instanceof V?h:new er(h instanceof Error?h.message:h))}};let l=e&&setTimeout(()=>{l=null,r(new V(`timeout of ${e}ms exceeded`,V.ETIMEDOUT))},e);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),t=null)};t.forEach(u=>u.addEventListener("abort",r));const{signal:a}=i;return a.unsubscribe=()=>k.asap(o),a}},Xw=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},qw=async function*(t,e){for await(const n of Gw(t))yield*Xw(n,e)},Gw=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},af=(t,e,n,i)=>{const s=qw(t,e);let r=0,l,o=a=>{l||(l=!0,i&&i(a))};return new ReadableStream({async pull(a){try{const{done:u,value:h}=await s.next();if(u){o(),a.close();return}let c=h.byteLength;if(n){let f=r+=c;n(f)}a.enqueue(new Uint8Array(h))}catch(u){throw o(u),u}},cancel(a){return o(a),s.return()}},{highWaterMark:2})},uf=64*1024,{isFunction:_r}=k,Qw=(({Request:t,Response:e})=>({Request:t,Response:e}))(k.global),{ReadableStream:cf,TextEncoder:hf}=k.global,ff=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Jw=t=>{t=k.merge.call({skipUndefined:!0},Qw,t);const{fetch:e,Request:n,Response:i}=t,s=e?_r(e):typeof fetch=="function",r=_r(n),l=_r(i);if(!s)return!1;const o=s&&_r(cf),a=s&&(typeof hf=="function"?(p=>m=>p.encode(m))(new hf):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=r&&o&&ff(()=>{let p=!1;const m=new n(je.origin,{body:new cf,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!m}),h=l&&o&&ff(()=>k.isReadableStream(new i("").body)),c={stream:h&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!c[p]&&(c[p]=(m,w)=>{let v=m&&m[p];if(v)return v.call(m);throw new V(`Response type '${p}' is not supported`,V.ERR_NOT_SUPPORT,w)})});const f=async p=>{if(p==null)return 0;if(k.isBlob(p))return p.size;if(k.isSpecCompliantForm(p))return(await new n(je.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(k.isArrayBufferView(p)||k.isArrayBuffer(p))return p.byteLength;if(k.isURLSearchParams(p)&&(p=p+""),k.isString(p))return(await a(p)).byteLength},g=async(p,m)=>{const w=k.toFiniteNumber(p.getContentLength());return w??f(m)};return async p=>{let{url:m,method:w,data:v,signal:y,cancelToken:x,timeout:b,onDownloadProgress:_,onUploadProgress:N,responseType:C,headers:E,withCredentials:L="same-origin",fetchOptions:P}=Sg(p),F=e||fetch;C=C?(C+"").toLowerCase():"text";let K=Kw([y,x&&x.toAbortSignal()],b),re=null;const Q=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let ee;try{if(N&&u&&w!=="get"&&w!=="head"&&(ee=await g(E,v))!==0){let W=new n(m,{method:"POST",body:v,duplex:"half"}),J;if(k.isFormData(v)&&(J=W.headers.get("content-type"))&&E.setContentType(J),W.body){const[j,D]=rf(ee,El(lf(N)));v=af(W.body,uf,j,D)}}k.isString(L)||(L=L?"include":"omit");const q=r&&"credentials"in n.prototype,Le={...P,signal:K,method:w.toUpperCase(),headers:E.normalize().toJSON(),body:v,duplex:"half",credentials:q?L:void 0};re=r&&new n(m,Le);let R=await(r?F(re,P):F(m,Le));const O=h&&(C==="stream"||C==="response");if(h&&(_||O&&Q)){const W={};["status","statusText","headers"].forEach(B=>{W[B]=R[B]});const J=k.toFiniteNumber(R.headers.get("content-length")),[j,D]=_&&rf(J,El(lf(_),!0))||[];R=new i(af(R.body,uf,j,()=>{D&&D(),Q&&Q()}),W)}C=C||"text";let I=await c[k.findKey(c,C)||"text"](R,p);return!O&&Q&&Q(),await new Promise((W,J)=>{xg(W,J,{data:I,headers:qe.from(R.headers),status:R.status,statusText:R.statusText,config:p,request:re})})}catch(q){throw Q&&Q(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,p,re),{cause:q.cause||q}):V.from(q,q&&q.code,p,re)}}},Yw=new Map,bg=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:s}=e,r=[i,s,n];let l=r.length,o=l,a,u,h=Yw;for(;o--;)a=r[o],u=h.get(a),u===void 0&&h.set(a,u=o?new Map:Jw(e)),h=u;return u};bg();const wc={http:mw,xhr:Hw,fetch:{get:bg}};k.forEach(wc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const df=t=>`- ${t}`,Zw=t=>k.isFunction(t)||t===null||t===!1;function e1(t,e){t=k.isArray(t)?t:[t];const{length:n}=t;let i,s;const r={};for(let l=0;l<n;l++){i=t[l];let o;if(s=i,!Zw(i)&&(s=wc[(o=String(i)).toLowerCase()],s===void 0))throw new V(`Unknown adapter '${o}'`);if(s&&(k.isFunction(s)||(s=s.get(e))))break;r[o||"#"+l]=s}if(!s){const l=Object.entries(r).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?l.length>1?`since :
`+l.map(df).join(`
`):" "+df(l[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s}const _g={getAdapter:e1,adapters:wc};function Vo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new er(null,t)}function pf(t){return Vo(t),t.headers=qe.from(t.headers),t.data=Fo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_g.getAdapter(t.adapter||Zs.adapter,t)(t).then(function(i){return Vo(t),i.data=Fo.call(t,t.transformResponse,i),i.headers=qe.from(i.headers),i},function(i){return yg(i)||(Vo(t),i&&i.response&&(i.response.data=Fo.call(t,t.transformResponse,i.response),i.response.headers=qe.from(i.response.headers))),Promise.reject(i)})}const Eg="1.13.4",Zl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Zl[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const mf={};Zl.transitional=function(e,n,i){function s(r,l){return"[Axios v"+Eg+"] Transitional option '"+r+"'"+l+(i?". "+i:"")}return(r,l,o)=>{if(e===!1)throw new V(s(l," has been removed"+(n?" in "+n:"")),V.ERR_DEPRECATED);return n&&!mf[l]&&(mf[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,l,o):!0}};Zl.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function t1(t,e,n){if(typeof t!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],l=e[r];if(l){const o=t[r],a=o===void 0||l(o,r,t);if(a!==!0)throw new V("option "+r+" must be "+a,V.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new V("Unknown option "+r,V.ERR_BAD_OPTION)}}const Qr={assertOptions:t1,validators:Zl},zt=Qr.validators;let Dn=class{constructor(e){this.defaults=e||{},this.interceptors={request:new nf,response:new nf}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Un(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&Qr.assertOptions(i,{silentJSONParsing:zt.transitional(zt.boolean),forcedJSONParsing:zt.transitional(zt.boolean),clarifyTimeoutError:zt.transitional(zt.boolean)},!1),s!=null&&(k.isFunction(s)?n.paramsSerializer={serialize:s}:Qr.assertOptions(s,{encode:zt.function,serialize:zt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Qr.assertOptions(n,{baseUrl:zt.spelling("baseURL"),withXsrfToken:zt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=r&&k.merge(r.common,r[n.method]);r&&k.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=qe.concat(l,r);const o=[];let a=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(a=a&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let h,c=0,f;if(!a){const p=[pf.bind(this),void 0];for(p.unshift(...o),p.push(...u),f=p.length,h=Promise.resolve(n);c<f;)h=h.then(p[c++],p[c++]);return h}f=o.length;let g=n;for(;c<f;){const p=o[c++],m=o[c++];try{g=p(g)}catch(w){m.call(this,w);break}}try{h=pf.call(this,g)}catch(p){return Promise.reject(p)}for(c=0,f=u.length;c<f;)h=h.then(u[c++],u[c++]);return h}getUri(e){e=Un(this.defaults,e);const n=wg(e.baseURL,e.url,e.allowAbsoluteUrls);return mg(n,e.params,e.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(e){Dn.prototype[e]=function(n,i){return this.request(Un(i||{},{method:e,url:n,data:(i||{}).data}))}});k.forEach(["post","put","patch"],function(e){function n(i){return function(r,l,o){return this.request(Un(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:l}))}}Dn.prototype[e]=n(),Dn.prototype[e+"Form"]=n(!0)});let n1=class Cg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const l=new Promise(o=>{i.subscribe(o),r=o}).then(s);return l.cancel=function(){i.unsubscribe(r)},l},e(function(r,l,o){i.reason||(i.reason=new er(r,l,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Cg(function(s){e=s}),cancel:e}}};function i1(t){return function(n){return t.apply(null,n)}}function s1(t){return k.isObject(t)&&t.isAxiosError===!0}const uu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(uu).forEach(([t,e])=>{uu[e]=t});function kg(t){const e=new Dn(t),n=sg(Dn.prototype.request,e);return k.extend(n,Dn.prototype,e,{allOwnKeys:!0}),k.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return kg(Un(t,s))},n}const he=kg(Zs);he.Axios=Dn;he.CanceledError=er;he.CancelToken=n1;he.isCancel=yg;he.VERSION=Eg;he.toFormData=Yl;he.AxiosError=V;he.Cancel=he.CanceledError;he.all=function(e){return Promise.all(e)};he.spread=i1;he.isAxiosError=s1;he.mergeConfig=Un;he.AxiosHeaders=qe;he.formToJSON=t=>vg(k.isHTMLForm(t)?new FormData(t):t);he.getAdapter=_g.getAdapter;he.HttpStatusCode=uu;he.default=he;const{Axios:rC,AxiosError:lC,CanceledError:oC,isCancel:aC,CancelToken:uC,VERSION:cC,all:hC,Cancel:fC,isAxiosError:dC,spread:pC,toFormData:mC,AxiosHeaders:gC,HttpStatusCode:vC,formToJSON:yC,getAdapter:xC,mergeConfig:wC}=he,Qe=he.create({baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json"}});async function gf(t,e){const{data:n}=await Qe.get(`/news/${t}`,{params:e});return n}async function r1(t){const{data:e}=await Qe.get(`/fundamentals/${t}`);return e}async function l1(t){const{data:e}=await Qe.get(`/ownership/${t}`);return e}async function o1(t){const{data:e}=await Qe.get(`/insider/${t}`);return e}async function a1(t,e){const{data:n}=await Qe.get("/macro/calendar",{params:t,signal:e==null?void 0:e.signal});return n}async function u1(t,e,n){const{data:i}=await Qe.get(`/macro/reaction/${t}/${e}`,{signal:n==null?void 0:n.signal,params:(n==null?void 0:n.periods)!=null?{periods:n.periods}:void 0});return i}async function c1(t){const{data:e}=await Qe.post(`/analyze/${t}`);return e}async function h1(t){const{data:e}=await Qe.post("/query",{text:t});return e}async function f1(){const{data:t}=await Qe.get("/watchlist");return t}async function Ng(t,e){const{data:n}=await Qe.post("/watchlist",{symbol:t,group:e});return n}async function zg(t){await Qe.delete(`/watchlist/${t}`)}async function d1(t,e){const{data:n}=await Qe.get(`/ticker/${t}`,{params:{period:e,include_history:!0}});return n}async function p1(t,e){const{data:n}=await Qe.get(`/analyze/${t}`,{signal:e==null?void 0:e.signal});return n}async function m1(t,e){const n=t?`/scan/${t}`:"/scan",{data:i}=await Qe.get(n,{signal:e==null?void 0:e.signal});return i}async function g1(t,e){if(kx(t))switch(t.type){case"analyze":return e(t.symbol),await c1(t.symbol);case"watch_add":return await Ng(t.symbol);case"watch_remove":return await zg(t.symbol),{action:"watch_removed",symbol:t.symbol};default:return e(t.symbol),{action:"ticker_set",symbol:t.symbol}}return Nx(t)?await m1(t.preset):zx(t)?{action:"macro_focus"}:Mx(t)?await h1(t.text):{action:"unknown"}}function v1(){const{setActiveTicker:t}=Ul(),[e,n]=S.useState(null),[i,s]=S.useState(!1),[r,l]=S.useState(null),o=S.useRef([]),a=S.useRef(-1),u=S.useCallback(g=>{const p=g.trim();if(p.length===0||i)return;const m=_x(p),w=o.current;(w.length===0||w[w.length-1]!==p)&&(w.push(p),w.length>yx&&w.shift()),a.current=w.length,s(!0),l(null),g1(m,t).then(v=>{n({command:m,data:v,error:null,timestamp:Date.now()})}).catch(()=>{n({command:m,data:null,error:"Command execution failed",timestamp:Date.now()}),l("Command execution failed")}).finally(()=>{s(!1)})},[i,t]),h=S.useCallback(()=>{const g=o.current;if(g.length===0)return null;const p=a.current,m=p>0?p-1:0;return a.current=m,g[m]??null},[]),c=S.useCallback(()=>{const g=o.current;if(g.length===0)return null;const p=a.current;if(p>=g.length-1)return a.current=g.length,null;const m=p+1;return a.current=m,g[m]??null},[]),f=S.useCallback(()=>{n(null),l(null)},[]);return{result:e,loading:i,error:r,execute:u,historyBack:h,historyForward:c,clearResult:f}}const Bo="command-suggestions-listbox";function y1({listboxId:t,suggestions:e,selectedIndex:n,onSelect:i}){return e.length===0?null:d.jsx("ul",{id:t,role:"listbox",className:"absolute left-0 right-0 top-full mt-1 z-50 bg-terminal-panel border border-terminal-border rounded shadow-lg max-h-60 overflow-y-auto",children:e.map((s,r)=>d.jsxs("li",{id:`${t}-option-${r}`,role:"option","aria-selected":r===n,className:`
            px-3 py-1.5 cursor-pointer flex items-center gap-2 font-mono text-sm
            ${r===n?"bg-terminal-border":"hover:bg-terminal-border/50"}
          `,onMouseDown:l=>{l.preventDefault(),i(s)},children:[d.jsx("span",{className:`shrink-0 ${Cx(s.type)}`,children:s.label}),d.jsx("span",{className:"text-text-muted text-xs truncate",children:s.description})]},`${s.type}-${s.value}`))})}function x1({result:t,onDismiss:e}){const n=t.error!==null;return S.useEffect(()=>{const i=setTimeout(e,3e4);return()=>clearTimeout(i)},[e]),d.jsxs("div",{className:"mt-1 bg-terminal-panel border border-terminal-border rounded p-3 text-sm font-mono animate-slide-down",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{className:n?"text-accent-red":"text-accent-green",children:n?"Error":"Result"}),d.jsx("button",{type:"button",onClick:e,className:"text-text-muted hover:text-text-primary text-xs","aria-label":"Dismiss result",children:"[ESC]"})]}),d.jsx("div",{className:"text-text-secondary whitespace-pre-wrap break-words max-h-40 overflow-y-auto",children:n?t.error:JSON.stringify(t.data,null,2)})]})}function w1(){const{activeTicker:t}=Ul(),{result:e,loading:n,execute:i,historyBack:s,historyForward:r,clearResult:l}=v1(),[o,a]=S.useState(""),[u,h]=S.useState(!1),[c,f]=S.useState(-1),g=S.useRef(null),p=S.useRef(null),m=u?Ex(o,t):[];S.useEffect(()=>{function C(E){p.current&&!p.current.contains(E.target)&&h(!1)}return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),S.useEffect(()=>{f(-1)},[o]);const w=S.useCallback(C=>{var L;const E=C.value.trim();a(""),h(!1),f(-1),E.length>0&&i(E),(L=g.current)==null||L.focus()},[i]),v=S.useCallback(()=>{const C=o.trim();C.length!==0&&(a(""),h(!1),f(-1),i(C))},[o,i]),y=S.useCallback(C=>{switch(C.key){case"Enter":{C.preventDefault(),c>=0&&c<m.length?w(m[c]):v();break}case"ArrowDown":{if(C.preventDefault(),u&&m.length>0)f(E=>E<m.length-1?E+1:0);else{const E=r();a(E!==null?E:"")}break}case"ArrowUp":{if(C.preventDefault(),u&&m.length>0)f(E=>E>0?E-1:m.length-1);else{const E=s();E!==null&&a(E)}break}case"Escape":{C.preventDefault(),u?(h(!1),f(-1)):e&&l();break}case"Tab":{if(u&&c>=0&&c<m.length){C.preventDefault();const E=m[c];a(E.value),h(!1),f(-1)}break}}},[u,m,c,w,v,s,r,e,l]),x=S.useCallback(C=>{const E=C.target.value;a(E),h(E.trim().length>0)},[]),b=S.useCallback(()=>{o.trim().length>0&&h(!0)},[o]),_=c>=0?`${Bo}-option-${c}`:void 0,N=n?"Processing...":null;return d.jsxs("div",{ref:p,className:"relative",children:[d.jsxs("div",{className:`
          bg-terminal-panel border rounded p-2 flex items-center gap-2
          transition-colors duration-150
          ${n?"border-accent-amber":"border-terminal-border focus-within:border-accent-amber"}
        `,children:[d.jsx("span",{className:`
            font-mono text-sm shrink-0
            ${n?"text-accent-amber animate-pulse":"text-accent-green"}
          `,"aria-hidden":"true",children:">"}),d.jsx("input",{ref:g,type:"text",role:"combobox","aria-expanded":u&&m.length>0,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-controls":Bo,"aria-activedescendant":_,placeholder:"Enter command or ticker...",className:"flex-1 bg-transparent text-text-primary font-mono text-sm outline-none placeholder-text-muted min-w-0",value:o,readOnly:n,maxLength:500,onChange:x,onKeyDown:y,onFocus:b}),N&&d.jsx("span",{className:"text-accent-amber font-mono text-xs shrink-0 animate-pulse",children:N})]}),u&&m.length>0&&d.jsx(y1,{listboxId:Bo,suggestions:m,selectedIndex:c,onSelect:w}),e&&!n&&d.jsx(x1,{result:e,onDismiss:l})]})}function ie(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function On(t,e){return t.width===e.width&&t.height===e.height}var S1=function(){function t(e){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var n=this,i={next:e};return this._observers.push(i),{unsubscribe:function(){n._observers=n._observers.filter(function(s){return s!==i})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(n){return n.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function b1(t){return new S1(t)}var _1=function(){function t(e,n,i){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=ie({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=n??function(r){return r},this._allowResizeObserver=(s=i==null?void 0:i.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,n;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(n=this._devicePixelRatioObservable)===null||n===void 0||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return ie({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=ie(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var n=this.bitmapSize;On(n,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(n,e))},t.prototype._emitBitmapSizeChanged=function(e,n){var i=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(i,e,n)})},t.prototype._suggestNewBitmapSize=function(e){var n=this._suggestedBitmapSize,i=ie(this._transformBitmapSize(e,this._canvasElementClientSize)),s=On(this.bitmapSize,i)?null:i;n===null&&s===null||n!==null&&s!==null&&On(n,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(n,s))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,n){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(i,e,n)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}C1().then(function(n){return n?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var n=vf(this._canvasElement);if(n===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=b1(n),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,n;if(this._canvasElement!==null){var i=vf(this._canvasElement);if(i!==null){var s=(n=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&n!==void 0?n:i.devicePixelRatio,r=this._canvasElement.getClientRects(),l=r[0]!==void 0?k1(r[0],s):ie({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(l)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var i=n.find(function(l){return l.target===e._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var s=i.devicePixelContentBoxSize[0],r=ie({width:s.inlineSize,height:s.blockSize});e._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function E1(t,e){return new _1(t,e.transform,e.options)}function vf(t){return t.ownerDocument.defaultView}function C1(){return new Promise(function(t){var e=new ResizeObserver(function(n){t(n.every(function(i){return"devicePixelContentBoxSize"in i})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function k1(t,e){return ie({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var N1=function(){function t(e,n,i){if(n.width===0||n.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function Hn(t,e){var n=t.canvasElementClientSize;if(n.width===0||n.height===0)return null;var i=t.bitmapSize;if(i.width===0||i.height===0)return null;var s=t.canvasElement.getContext("2d",e);return s===null?null:new N1(s,n,i)}/*!
 * @license
 * TradingView Lightweight Charts v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const z1={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},M1={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},R1={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},P1={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},j1={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},T1={color:"#26a69a",base:0},Mg={color:"#2196f3"},Rg={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var yf,xf;function Kn(t,e){const n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function Pg(t,e,n,i){t.beginPath();const s=t.lineWidth%2?.5:0;t.moveTo(n,e+s),t.lineTo(i,e+s),t.stroke()}function yn(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function Oe(t){if(t===void 0)throw new Error("Value is undefined");return t}function z(t){if(t===null)throw new Error("Value is null");return t}function pi(t){return z(Oe(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(yf||(yf={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(xf||(xf={}));const wf={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function rt(t){return t<0?0:t>255?255:Math.round(t)||0}function jg(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const L1=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,$1=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,D1=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,O1=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function Is(t){(t=t.toLowerCase())in wf&&(t=wf[t]);{const e=O1.exec(t)||D1.exec(t);if(e)return[rt(parseInt(e[1],10)),rt(parseInt(e[2],10)),rt(parseInt(e[3],10)),jg(e.length<5?1:parseFloat(e[4]))]}{const e=$1.exec(t);if(e)return[rt(parseInt(e[1],16)),rt(parseInt(e[2],16)),rt(parseInt(e[3],16)),1]}{const e=L1.exec(t);if(e)return[rt(17*parseInt(e[1],16)),rt(17*parseInt(e[2],16)),rt(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function Tg(t){return .199*t[0]+.687*t[1]+.114*t[2]}function eo(t){const e=Is(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:Tg(e)>160?"black":"white"}}class ve{constructor(){this.h=[]}l(e,n,i){const s={o:e,_:n,u:i===!0};this.h.push(s)}v(e){const n=this.h.findIndex(i=>e===i.o);n>-1&&this.h.splice(n,1)}p(e){this.h=this.h.filter(n=>n._!==e)}m(e,n,i){const s=[...this.h];this.h=this.h.filter(r=>!r.u),s.forEach(r=>r.o(e,n,i))}M(){return this.h.length>0}S(){this.h=[]}}function St(t,...e){for(const n of e)for(const i in n)n[i]!==void 0&&Object.prototype.hasOwnProperty.call(n,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof n[i]!="object"||t[i]===void 0||Array.isArray(n[i])?t[i]=n[i]:St(t[i],n[i]));return t}function jt(t){return typeof t=="number"&&isFinite(t)}function Fs(t){return typeof t=="number"&&t%1==0}function tr(t){return typeof t=="string"}function Er(t){return typeof t=="boolean"}function Vt(t){const e=t;if(!e||typeof e!="object")return e;let n,i,s;for(i in n=Array.isArray(e)?[]:{},e)e.hasOwnProperty(i)&&(s=e[i],n[i]=s&&typeof s=="object"?Vt(s):s);return n}function A1(t){return t!==null}function Vs(t){return t===null?void 0:t}const Sc="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function ji(t,e,n){return e===void 0&&(e=Sc),`${n=n!==void 0?`${n} `:""}${t}px ${e}`}class I1{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,n=this.j(),i=this.H();return e.P===n&&e.D===i||(e.P=n,e.D=i,e.R=ji(n,i),e.L=2.5/12*n,e.B=e.L,e.A=n/12*e.T,e.I=n/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class bc{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,n,i){this.Y.forEach(s=>{s.X(e,n,i)})}}class Et{X(e,n,i){e.useBitmapCoordinateSpace(s=>this.K(s,n,i))}}class F1 extends Et{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.G===null||this.G.tt===null)return;const s=this.G.tt,r=this.G,l=Math.max(1,Math.floor(n))%2/2,o=a=>{e.beginPath();for(let u=s.to-1;u>=s.from;--u){const h=r.it[u],c=Math.round(h.nt*n)+l,f=h.st*i,g=a*i+l;e.moveTo(c,f),e.arc(c,f,g,0,2*Math.PI)}e.fill()};r.et>0&&(e.fillStyle=r.rt,o(r.ht+r.et)),e.fillStyle=r.lt,o(r.ht)}}function V1(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const B1={from:0,to:1};class W1{constructor(e,n){this.ut=new bc,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=n,this.ut.Z(this.ct)}bt(e){const n=this.F.wt();n.length!==this.ct.length&&(this.dt=n.map(V1),this.ct=this.dt.map(i=>{const s=new F1;return s.J(i),s}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,n=this.F.wt(),i=this.vt.xt(),s=this.F.St();n.forEach((r,l)=>{var o;const a=this.dt[l],u=r.kt(i);if(e||u===null||!r.yt())return void(a.tt=null);const h=z(r.Ct());a.lt=u.Tt,a.ht=u.ht,a.et=u.Pt,a.it[0]._t=u._t,a.it[0].st=r.Dt().Rt(u._t,h.Vt),a.rt=(o=u.Ot)!==null&&o!==void 0?o:this.F.Bt(a.it[0].st/r.Dt().At()),a.it[0].ot=i,a.it[0].nt=s.It(i),a.tt=B1})}}class U1 extends Et{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.zt===null)return;const r=this.zt.Lt.yt,l=this.zt.Et.yt;if(!r&&!l)return;const o=Math.round(this.zt.nt*i),a=Math.round(this.zt.st*s);e.lineCap="butt",r&&o>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*i),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,Kn(e,this.zt.Lt.Nt),function(u,h,c,f){u.beginPath();const g=u.lineWidth%2?.5:0;u.moveTo(h+g,c),u.lineTo(h+g,f),u.stroke()}(e,o,0,n.height)),l&&a>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*s),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,Kn(e,this.zt.Et.Nt),Pg(e,a,0,n.width))}}class H1{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new U1(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),n=z(this.jt.Ht()),i=n.$t().W().crosshair,s=this.Ft;if(i.mode===2)return s.Et.yt=!1,void(s.Lt.yt=!1);s.Et.yt=e&&this.jt.Ut(n),s.Lt.yt=e&&this.jt.qt(),s.Et.et=i.horzLine.width,s.Et.Nt=i.horzLine.style,s.Et.V=i.horzLine.color,s.Lt.et=i.vertLine.width,s.Lt.Nt=i.vertLine.style,s.Lt.V=i.vertLine.color,s.nt=this.jt.Yt(),s.st=this.jt.Zt()}}function K1(t,e,n,i,s,r){t.fillRect(e+r,n,i-2*r,r),t.fillRect(e+r,n+s-r,i-2*r,r),t.fillRect(e,n,r,s),t.fillRect(e+i-r,n,r,s)}function to(t,e,n,i,s,r){t.save(),t.globalCompositeOperation="copy",t.fillStyle=r,t.fillRect(e,n,i,s),t.restore()}function Sf(t,e,n,i,s,r){t.beginPath(),t.roundRect?t.roundRect(e,n,i,s,r):(t.lineTo(e+i-r[1],n),r[1]!==0&&t.arcTo(e+i,n,e+i,n+r[1],r[1]),t.lineTo(e+i,n+s-r[2]),r[2]!==0&&t.arcTo(e+i,n+s,e+i-r[2],n+s,r[2]),t.lineTo(e+r[3],n+s),r[3]!==0&&t.arcTo(e,n+s,e,n+s-r[3],r[3]),t.lineTo(e,n+r[0]),r[0]!==0&&t.arcTo(e,n,e+r[0],n,r[0]))}function bf(t,e,n,i,s,r,l=0,o=[0,0,0,0],a=""){if(t.save(),!l||!a||a===r)return Sf(t,e,n,i,s,o),t.fillStyle=r,t.fill(),void t.restore();const u=l/2;var h;Sf(t,e+u,n+u,i-l,s-l,(h=-u,o.map(c=>c===0?c:c+h))),r!=="transparent"&&(t.fillStyle=r,t.fill()),a!=="transparent"&&(t.lineWidth=l,t.strokeStyle=a,t.closePath(),t.stroke()),t.restore()}function Lg(t,e,n,i,s,r,l){t.save(),t.globalCompositeOperation="copy";const o=t.createLinearGradient(0,0,0,s);o.addColorStop(0,r),o.addColorStop(1,l),t.fillStyle=o,t.fillRect(e,n,i,s),t.restore()}class _f{constructor(e,n){this.J(e,n)}J(e,n){this.zt=e,this.Xt=n}At(e,n){return this.zt.yt?e.P+e.L+e.B:0}X(e,n,i,s){if(!this.zt.yt||this.zt.Kt.length===0)return;const r=this.zt.V,l=this.Xt.t,o=e.useBitmapCoordinateSpace(a=>{const u=a.context;u.font=n.R;const h=this.Gt(a,n,i,s),c=h.Jt;return h.Qt?bf(u,c.ti,c.ii,c.ni,c.si,l,c.ei,[c.ht,0,0,c.ht],l):bf(u,c.ri,c.ii,c.ni,c.si,l,c.ei,[0,c.ht,c.ht,0],l),this.zt.hi&&(u.fillStyle=r,u.fillRect(c.ri,c.li,c.ai-c.ri,c.oi)),this.zt._i&&(u.fillStyle=n.O,u.fillRect(h.Qt?c.ui-c.ei:0,c.ii,c.ei,c.ci-c.ii)),h});e.useMediaCoordinateSpace(({context:a})=>{const u=o.di;a.font=n.R,a.textAlign=o.Qt?"right":"left",a.textBaseline="middle",a.fillStyle=r,a.fillText(this.zt.Kt,u.fi,(u.ii+u.ci)/2+u.pi)})}Gt(e,n,i,s){var r;const{context:l,bitmapSize:o,mediaSize:a,horizontalPixelRatio:u,verticalPixelRatio:h}=e,c=this.zt.hi||!this.zt.mi?n.T:0,f=this.zt.bi?n.C:0,g=n.L+this.Xt.wi,p=n.B+this.Xt.gi,m=n.A,w=n.I,v=this.zt.Kt,y=n.P,x=i.Mi(l,v),b=Math.ceil(i.xi(l,v)),_=y+g+p,N=n.C+m+w+b+c,C=Math.max(1,Math.floor(h));let E=Math.round(_*h);E%2!=C%2&&(E+=1);const L=f>0?Math.max(1,Math.floor(f*u)):0,P=Math.round(N*u),F=Math.round(c*u),K=(r=this.Xt.Si)!==null&&r!==void 0?r:this.Xt.ki,re=Math.round(K*h)-Math.floor(.5*h),Q=Math.floor(re+C/2-E/2),ee=Q+E,q=s==="right",Le=q?a.width-f:f,R=q?o.width-L:L;let O,I,W;return q?(O=R-P,I=R-F,W=Le-c-m-f):(O=R+P,I=R+F,W=Le+c+m),{Qt:q,Jt:{ii:Q,li:re,ci:ee,ni:P,si:E,ht:2*u,ei:L,ti:O,ri:R,ai:I,oi:C,ui:o.width},di:{ii:Q/h,ci:ee/h,fi:W,pi:x}}}}class no{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||_f)(this.Ci,this.yi),this.Ri=new(e||_f)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,n=!1){return Math.max(this.Pi.At(e,n),this.Ri.At(e,n))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class X1 extends no{constructor(e,n,i){super(),this.jt=e,this.Li=n,this.Ei=i}zi(e,n,i){if(e.yt=!1,this.jt.W().mode===2)return;const s=this.jt.W().horzLine;if(!s.labelVisible)return;const r=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||r===null)return;const l=eo(s.labelBackgroundColor);i.t=l.t,e.V=l.i;const o=2/12*this.Li.P();i.wi=o,i.gi=o;const a=this.Ei(this.Li);i.ki=a.ki,e.Kt=this.Li.Fi(a._t,r),e.yt=!0}}const q1=/[1-9]/g;class $g{constructor(){this.zt=null}J(e){this.zt=e}X(e,n){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const i=e.useMediaCoordinateSpace(({context:f})=>(f.font=n.R,Math.round(n.Wi.xi(f,z(this.zt).Kt,q1))));if(i<=0)return;const s=n.ji,r=i+2*s,l=r/2,o=this.zt.Hi;let a=this.zt.ki,u=Math.floor(a-l)+.5;u<0?(a+=Math.abs(0-u),u=Math.floor(a-l)+.5):u+r>o&&(a-=Math.abs(o-(u+r)),u=Math.floor(a-l)+.5);const h=u+r,c=Math.ceil(0+n.C+n.T+n.L+n.P+n.B);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:g,verticalPixelRatio:p})=>{const m=z(this.zt);f.fillStyle=m.t;const w=Math.round(u*g),v=Math.round(0*p),y=Math.round(h*g),x=Math.round(c*p),b=Math.round(2*g);if(f.beginPath(),f.moveTo(w,v),f.lineTo(w,x-b),f.arcTo(w,x,w+b,x,b),f.lineTo(y-b,x),f.arcTo(y,x,y,x-b,b),f.lineTo(y,v),f.fill(),m.hi){const _=Math.round(m.ki*g),N=v,C=Math.round((N+n.T)*p);f.fillStyle=m.V;const E=Math.max(1,Math.floor(g)),L=Math.floor(.5*g);f.fillRect(_-L,N,E,C-N)}}),e.useMediaCoordinateSpace(({context:f})=>{const g=z(this.zt),p=0+n.C+n.T+n.L+n.P/2;f.font=n.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=g.V;const m=n.Wi.Mi(f,"Apr0");f.translate(u+s,p+m),f.fillText(g.Kt,0,0)})}}class G1{constructor(e,n,i){this.ft=!0,this.Wt=new $g,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=n,this.Ei=i}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const n=this.vt.W().vertLine;if(!n.labelVisible)return;const i=this.$i.St();if(i.Ni())return;e.Hi=i.Hi();const s=this.Ei();if(s===null)return;e.ki=s.ki;const r=i.Ui(this.vt.xt());e.Kt=i.qi(z(r)),e.yt=!0;const l=eo(n.labelBackgroundColor);e.t=l.t,e.V=l.i,e.hi=i.W().ticksVisible}}class _c{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var cu;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"})(cu||(cu={}));class Q1 extends _c{constructor(e,n){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=n,this.dn=new W1(e,this),this.fn=((s,r)=>l=>{const o=r(),a=s();if(l===z(this.tn).vn())return{_t:a,ki:o};{const u=z(l.Ct());return{_t:l.pn(o,u),ki:o}}})(()=>this.nn,()=>this.an);const i=((s,r)=>()=>{const l=this.$i.St().mn(s()),o=r();return l&&Number.isFinite(o)?{ot:l,ki:o}:null})(()=>this.sn,()=>this.Yt());this.bn=new G1(this,e,i),this.wn=new H1(this)}W(){return this.cn}gn(e,n){this._n=e,this.un=n}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,n,i){this.hn||(this.hn=!0),this.en=!0,this.yn(e,n,i)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,n){this.en&&this.tn===e||this.rn.clear();const i=[];return this.tn===e&&i.push(this.Dn(this.rn,n,this.fn)),i}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,n,i){this.Bn(e,n,i)&&this.Vn()}Bn(e,n,i){const s=this.ln,r=this.an,l=this.nn,o=this.sn,a=this.tn,u=this.On(i);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=i;const h=u!==null?u.Ct():null;return u!==null&&h!==null?(this.nn=n,this.an=u.Rt(n,h)):(this.nn=NaN,this.an=NaN),s!==this.ln||r!==this.an||o!==this.sn||l!==this.nn||a!==this.tn}Tn(){const e=this.$i.wt().map(i=>i.In().An()).filter(A1),n=e.length===0?null:Math.max(...e);this.sn=n!==null?n:NaN}Dn(e,n,i){let s=e.get(n);return s===void 0&&(s=new X1(this,n,i),e.set(n,s)),s}}function io(t){return t==="left"||t==="right"}class Ce{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,n){const i=function(s,r){return s===void 0?r:{Fn:Math.max(s.Fn,r.Fn),Wn:s.Wn||r.Wn}}(this.zn.get(e),n);this.zn.set(e,i)}jn(){return this.En}Hn(e){const n=this.zn.get(e);return n===void 0?{Fn:this.En}:{Fn:Math.max(this.En,n.Fn),Wn:n.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const n of e.Ln)this.ns(n);this.En=Math.max(this.En,e.En),e.zn.forEach((n,i)=>{this.Nn(i,n)})}static ss(){return new Ce(2)}static es(){return new Ce(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(n=>n.qn===5);e!==-1&&this.Ln.splice(e,1)}}const Ef=".";function Bt(t,e){if(!jt(t))return"n/a";if(!Fs(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class so{constructor(e,n){if(n||(n=1),jt(e)&&Fs(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=n,this.hs()}format(e){const n=e<0?"":"";return e=Math.abs(e),n+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const n=this.Li/this.rs;let i=Math.floor(e),s="";const r=this._s!==void 0?this._s:NaN;if(n>1){let l=+(Math.round(e*n)-i*n).toFixed(this._s);l>=n&&(l-=n,i+=1),s=Ef+Bt(+l.toFixed(this._s)*this.rs,r)}else i=Math.round(i*n)/n,r>0&&(s=Ef+Bt(0,r));return i.toFixed(0)+s}}class Dg extends so{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class J1{constructor(e){this.us=e}format(e){let n="";return e<0&&(n="-",e=-e),e<995?n+this.cs(e):e<999995?n+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),n+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),n+this.cs(e/1e9)+"B")}cs(e){let n;const i=Math.pow(10,this.us);return n=(e=Math.round(e*i)/i)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),n.replace(/(\.[1-9]*)0+$/,(s,r)=>r)}}function Og(t,e,n,i,s,r,l){if(e.length===0||i.from>=e.length||i.to<=0)return;const{context:o,horizontalPixelRatio:a,verticalPixelRatio:u}=t,h=e[i.from];let c=r(t,h),f=h;if(i.to-i.from<2){const g=s/2;o.beginPath();const p={nt:h.nt-g,st:h.st},m={nt:h.nt+g,st:h.st};o.moveTo(p.nt*a,p.st*u),o.lineTo(m.nt*a,m.st*u),l(t,c,p,m)}else{const g=(m,w)=>{l(t,c,f,w),o.beginPath(),c=m,f=w};let p=f;o.beginPath(),o.moveTo(h.nt*a,h.st*u);for(let m=i.from+1;m<i.to;++m){p=e[m];const w=r(t,p);switch(n){case 0:o.lineTo(p.nt*a,p.st*u);break;case 1:o.lineTo(p.nt*a,e[m-1].st*u),w!==c&&(g(w,p),o.lineTo(p.nt*a,e[m-1].st*u)),o.lineTo(p.nt*a,p.st*u);break;case 2:{const[v,y]=Y1(e,m-1,m);o.bezierCurveTo(v.nt*a,v.st*u,y.nt*a,y.st*u,p.nt*a,p.st*u);break}}n!==1&&w!==c&&(g(w,p),o.moveTo(p.nt*a,p.st*u))}(f!==p||f===p&&n===1)&&l(t,c,f,p)}}const Cf=6;function Wo(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function kf(t,e){return{nt:t.nt/e,st:t.st/e}}function Y1(t,e,n){const i=Math.max(0,e-1),s=Math.min(t.length-1,n+1);var r,l;return[(r=t[e],l=kf(Wo(t[n],t[i]),Cf),{nt:r.nt+l.nt,st:r.st+l.st}),Wo(t[n],kf(Wo(t[s],t[e]),Cf))]}function Z1(t,e,n,i,s){const{context:r,horizontalPixelRatio:l,verticalPixelRatio:o}=e;r.lineTo(s.nt*l,t*o),r.lineTo(i.nt*l,t*o),r.closePath(),r.fillStyle=n,r.fill()}class Ag extends Et{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var n;if(this.G===null)return;const{it:i,tt:s,ds:r,et:l,Nt:o,fs:a}=this.G,u=(n=this.G.vs)!==null&&n!==void 0?n:this.G.ps?0:e.mediaSize.height;if(s===null)return;const h=e.context;h.lineCap="butt",h.lineJoin="round",h.lineWidth=l,Kn(h,o),h.lineWidth=1,Og(e,i,a,s,r,this.bs.bind(this),Z1.bind(null,u))}}function hu(t,e,n){return Math.min(Math.max(t,e),n)}function Cr(t,e,n){return e-t<=n}function Ig(t){const e=Math.ceil(t);return e%2==0?e-1:e}class Ec{ws(e,n){const i=this.gs,{Ms:s,xs:r,Ss:l,ks:o,ys:a,vs:u}=n;if(this.Cs===void 0||i===void 0||i.Ms!==s||i.xs!==r||i.Ss!==l||i.ks!==o||i.vs!==u||i.ys!==a){const h=e.context.createLinearGradient(0,0,0,a);if(h.addColorStop(0,s),u!=null){const c=hu(u*e.verticalPixelRatio/a,0,1);h.addColorStop(c,r),h.addColorStop(c,l)}h.addColorStop(1,o),this.Cs=h,this.gs=n}return this.Cs}}class eS extends Ag{constructor(){super(...arguments),this.Ts=new Ec}bs(e,n){return this.Ts.ws(e,{Ms:n.Ps,xs:"",Ss:"",ks:n.Rs,ys:e.bitmapSize.height})}}function tS(t,e){const n=t.context;n.strokeStyle=e,n.stroke()}class Fg extends Et{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:n,tt:i,ds:s,fs:r,et:l,Nt:o,Ds:a}=this.G;if(i===null)return;const u=e.context;u.lineCap="butt",u.lineWidth=l*e.verticalPixelRatio,Kn(u,o),u.lineJoin="round";const h=this.Vs.bind(this);r!==void 0&&Og(e,n,r,i,s,h,tS),a&&function(c,f,g,p,m){const{horizontalPixelRatio:w,verticalPixelRatio:v,context:y}=c;let x=null;const b=Math.max(1,Math.floor(w))%2/2,_=g*v+b;for(let N=p.to-1;N>=p.from;--N){const C=f[N];if(C){const E=m(c,C);E!==x&&(y.beginPath(),x!==null&&y.fill(),y.fillStyle=E,x=E);const L=Math.round(C.nt*w)+b,P=C.st*v;y.moveTo(L,P),y.arc(L,P,_,0,2*Math.PI)}}y.fill()}(e,n,a,i,h)}}class Vg extends Fg{Vs(e,n){return n.lt}}function Bg(t,e,n,i,s=0,r=e.length){let l=r-s;for(;0<l;){const o=l>>1,a=s+o;i(e[a],n)===t?(s=a+1,l-=o+1):l=o}return s}const nr=Bg.bind(null,!0),Wg=Bg.bind(null,!1);function nS(t,e){return t.ot<e}function iS(t,e){return e<t.ot}function Ug(t,e,n){const i=e.Os(),s=e.ui(),r=nr(t,i,nS),l=Wg(t,s,iS);if(!n)return{from:r,to:l};let o=r,a=l;return r>0&&r<t.length&&t[r].ot>=i&&(o=r-1),l>0&&l<t.length&&t[l-1].ot<=s&&(a=l+1),{from:o,to:a}}class Cc{constructor(e,n,i){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=n,this.Fs=i}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),n=this.Ns.St();if(this.qs(),n.Ni()||e.Ni())return;const i=n.Xs();if(i===null||this.Es.In().Ks()===0)return;const s=this.Es.Ct();s!==null&&(this.Ls=Ug(this.zs,i,this.Fs),this.Gs(e,n,s.Vt),this.Js())}}class ro extends Cc{constructor(e,n){super(e,n,!0)}Gs(e,n,i){n.Qs(this.zs,Vs(this.Ls)),e.te(this.zs,i,Vs(this.Ls))}ie(e,n){return{ot:e,_t:n,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>{const i=n.Vt[3];return this.se(n.ee,i,e)})}}class sS extends ro{constructor(e,n){super(e,n),this.js=new bc,this.re=new eS,this.he=new Vg,this.js.Z([this.re,this.he])}se(e,n,i){return Object.assign(Object.assign({},this.ie(e,n)),i.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class rS extends Et{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(n),this.ae>=2&&Math.max(1,Math.floor(n))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(n)):this.ae;let s=null;const r=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*n);for(let l=this.zt.tt.from;l<this.zt.tt.to;++l){const o=this.zt.In[l];s!==o.ce&&(e.fillStyle=o.ce,s=o.ce);const a=Math.floor(.5*this.oe),u=Math.round(o.nt*n),h=u-a,c=this.oe,f=h+c-1,g=Math.min(o.de,o.fe),p=Math.max(o.de,o.fe),m=Math.round(g*i)-a,w=Math.round(p*i)+a,v=Math.max(w-m,this.oe);e.fillRect(h,m,c,v);const y=Math.ceil(1.5*this.ae);if(r){if(this.zt.ve){const N=u-y;let C=Math.max(m,Math.round(o.pe*i)-a),E=C+c-1;E>m+v-1&&(E=m+v-1,C=E-c+1),e.fillRect(N,C,h-N,E-C+1)}const x=u+y;let b=Math.max(m,Math.round(o.me*i)-a),_=b+c-1;_>m+v-1&&(_=m+v-1,b=_-c+1),e.fillRect(f+1,b,x-f,_-b+1)}}}_e(e){const n=Math.floor(e);return Math.max(n,Math.floor(function(i,s){return Math.floor(.3*i*s)}(z(this.zt).le,e)))}}class Hg extends Cc{constructor(e,n){super(e,n,!1)}Gs(e,n,i){n.Qs(this.zs,Vs(this.Ls)),e.be(this.zs,i,Vs(this.Ls))}we(e,n,i){return{ot:e,ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>this.se(n.ee,n,e))}}class lS extends Hg{constructor(){super(...arguments),this.js=new rS}se(e,n,i){return Object.assign(Object.assign({},this.we(e,n,i)),i.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class oS extends Ag{constructor(){super(...arguments),this.Ts=new Ec}bs(e,n){const i=this.G;return this.Ts.ws(e,{Ms:n.ke,xs:n.ye,Ss:n.Ce,ks:n.Te,ys:e.bitmapSize.height,vs:i.vs})}}class aS extends Fg{constructor(){super(...arguments),this.Pe=new Ec}Vs(e,n){const i=this.G;return this.Pe.ws(e,{Ms:n.Re,xs:n.Re,Ss:n.De,ks:n.De,ys:e.bitmapSize.height,vs:i.vs})}}class uS extends ro{constructor(e,n){super(e,n),this.js=new bc,this.Ve=new oS,this.Oe=new aS,this.js.Z([this.Ve,this.Oe])}se(e,n,i){return Object.assign(Object.assign({},this.ie(e,n)),i.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const n=this.Es.W(),i=this.Es.Dt().Rt(n.baseValue.price,e.Vt),s=this.Ns.St().le();this.Ve.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineType,vs:i,ps:!1,tt:this.Ls,ds:s}),this.Oe.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineVisible?n.lineType:void 0,Ds:n.pointMarkersVisible?n.pointMarkersRadius||n.lineWidth/2+2:void 0,vs:i,tt:this.Ls,ds:s})}}class cS extends Et{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:n}=e;this.ae=function(r,l){if(r>=2.5&&r<=4)return Math.floor(3*l);const o=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),a=Math.floor(r*o*l),u=Math.floor(r*l),h=Math.min(a,u);return Math.max(Math.floor(l),h)}(this.zt.le,n),this.ae>=2&&Math.floor(n)%2!=this.ae%2&&this.ae--;const i=this.zt.In;this.zt.Be&&this.Ae(e,i,this.zt.tt),this.zt._i&&this.Ie(e,i,this.zt.tt);const s=this.ze(n);(!this.zt._i||this.ae>2*s)&&this.Le(e,i,this.zt.tt)}Ae(e,n,i){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let o="",a=Math.min(Math.floor(r),Math.floor(this.zt.le*r));a=Math.max(Math.floor(r),Math.min(a,this.ae));const u=Math.floor(.5*a);let h=null;for(let c=i.from;c<i.to;c++){const f=n[c];f.Ee!==o&&(s.fillStyle=f.Ee,o=f.Ee);const g=Math.round(Math.min(f.pe,f.me)*l),p=Math.round(Math.max(f.pe,f.me)*l),m=Math.round(f.de*l),w=Math.round(f.fe*l);let v=Math.round(r*f.nt)-u;const y=v+a-1;h!==null&&(v=Math.max(h+1,v),v=Math.min(v,y));const x=y-v+1;s.fillRect(v,m,x,g-m),s.fillRect(v,p+1,x,w-p),h=y}}ze(e){let n=Math.floor(1*e);this.ae<=2*n&&(n=Math.floor(.5*(this.ae-1)));const i=Math.max(Math.floor(e),n);return this.ae<=2*i?Math.max(Math.floor(e),Math.floor(1*e)):i}Ie(e,n,i){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let o="";const a=this.ze(r);let u=null;for(let h=i.from;h<i.to;h++){const c=n[h];c.Ne!==o&&(s.fillStyle=c.Ne,o=c.Ne);let f=Math.round(c.nt*r)-Math.floor(.5*this.ae);const g=f+this.ae-1,p=Math.round(Math.min(c.pe,c.me)*l),m=Math.round(Math.max(c.pe,c.me)*l);if(u!==null&&(f=Math.max(u+1,f),f=Math.min(f,g)),this.zt.le*r>2*a)K1(s,f,p,g-f+1,m-p+1,a);else{const w=g-f+1;s.fillRect(f,p,w,m-p+1)}u=g}}Le(e,n,i){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let o="";const a=this.ze(r);for(let u=i.from;u<i.to;u++){const h=n[u];let c=Math.round(Math.min(h.pe,h.me)*l),f=Math.round(Math.max(h.pe,h.me)*l),g=Math.round(h.nt*r)-Math.floor(.5*this.ae),p=g+this.ae-1;if(h.ce!==o){const m=h.ce;s.fillStyle=m,o=m}this.zt._i&&(g+=a,c+=a,p-=a,f-=a),c>f||s.fillRect(g,c,p-g+1,f-c+1)}}}class hS extends Hg{constructor(){super(...arguments),this.js=new cS}se(e,n,i){return Object.assign(Object.assign({},this.we(e,n,i)),i.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class fS{constructor(e,n){this.Fe=e,this.Li=n}X(e,n,i){this.Fe.draw(e,this.Li,n,i)}}class Uo extends Cc{constructor(e,n,i){super(e,n,!1),this.wn=i,this.js=new fS(this.wn.renderer(),s=>{const r=e.Ct();return r===null?null:e.Dt().Rt(s,r.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>Object.assign(Object.assign({ot:n.ee,nt:NaN},e.$s(n.ee)),{He:n.$e}))}Gs(e,n){n.Qs(this.zs,Vs(this.Ls))}Js(){this.wn.update({bars:this.zs.map(dS),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function dS(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class pS extends Et{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(n);const s=Math.max(1,Math.floor(i)),r=Math.round(this.zt.Ye*i)-Math.floor(s/2),l=r+s;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const a=this.zt.it[o],u=this.Ue[o-this.zt.tt.from],h=Math.round(a.st*i);let c,f;e.fillStyle=a.ce,h<=r?(c=h,f=l):(c=r,f=h-Math.floor(s/2)+s),e.fillRect(u.Os,c,u.ui-u.Os+1,f-c)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const n=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),i=Math.round(this.zt.le*e)-n;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const l=this.zt.it[r],o=Math.round(l.nt*e);let a,u;if(i%2){const h=(i-1)/2;a=o-h,u=o+h}else{const h=i/2;a=o-h,u=o+h-1}this.Ue[r-this.zt.tt.from]={Os:a,ui:u,Ze:o,Xe:l.nt*e,ot:l.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const l=this.Ue[r-this.zt.tt.from],o=this.Ue[r-this.zt.tt.from-1];l.ot===o.ot+1&&l.Os-o.ui!==n+1&&(o.Ze>o.Xe?o.ui=l.Os-n-1:l.Os=o.ui+n+1)}let s=Math.ceil(this.zt.le*e);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const l=this.Ue[r-this.zt.tt.from];l.ui<l.Os&&(l.ui=l.Os);const o=l.ui-l.Os+1;s=Math.min(o,s)}if(n>0&&s<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const l=this.Ue[r-this.zt.tt.from];l.ui-l.Os+1>s&&(l.Ze>l.Xe?l.ui-=1:l.Os+=1)}}}class mS extends ro{constructor(){super(...arguments),this.js=new pS}se(e,n,i){return Object.assign(Object.assign({},this.ie(e,n)),i.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,z(this.Es.Ct()).Vt)};this.js.J(e)}}class gS extends ro{constructor(){super(...arguments),this.js=new Vg}se(e,n,i){return Object.assign(Object.assign({},this.ie(e,n)),i.$s(e))}Js(){const e=this.Es.W(),n={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(n)}}const vS=/[2-9]/g;class Bs{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,n,i){return this.sr(e,n,i).width}Mi(e,n,i){const s=this.sr(e,n,i);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}sr(e,n,i){const s=i||vS,r=String(n).replace(s,"0");if(this.tr.has(r))return Oe(this.tr.get(r)).er;if(this.Ke===this.ir){const o=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(o),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const l=e.measureText(r);return e.restore(),l.width===0&&n.length||(this.tr.set(r,{er:l,rr:this.Ge}),this.Qe[this.Ge]=r,this.Ke++,this.Ge++),l}}class yS{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,n,i){this.hr=e,this.k=n,this.lr=i}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class Kg{constructor(e,n,i){this.ur=e,this.ar=new Bs(50),this.cr=n,this.F=i,this.j=-1,this.Wt=new yS(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const n=e.vr(this.cr)?e.pr():this.cr.Dt();if(n===null)return null;const i=e.mr(n);if(i==="overlay")return null;const s=this.F.br();return s.P!==this.j&&(this.j=s.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),s,i),this.Wt}}class xS extends Et{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,n){var i;if(!(!((i=this.zt)===null||i===void 0)&&i.yt))return null;const{st:s,et:r,gr:l}=this.zt;return n>=s-r-7&&n<=s+r+7?{Mr:this.zt,gr:l}:null}K({context:e,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.zt===null||this.zt.yt===!1)return;const r=Math.round(this.zt.st*s);r<0||r>n.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*i),Kn(e,this.zt.Nt),Pg(e,r,0,n.width))}}class kc{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new xS,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class wS extends kc{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),n=e.Cr().Cr;if(n!==2&&n!==3)return;const i=this.Es.W();if(!i.baseLineVisible||!this.Es.yt())return;const s=this.Es.Ct();s!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(s.Vt,s.Vt),this.Sr.V=i.baseLineColor,this.Sr.et=i.baseLineWidth,this.Sr.Nt=i.baseLineStyle)}}class SS extends Et{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:i}){const s=this.zt;if(s===null)return;const r=Math.max(1,Math.floor(n)),l=r%2/2,o=Math.round(s.Xe.x*n)+l,a=s.Xe.y*i;e.fillStyle=s.Tr,e.beginPath();const u=Math.max(2,1.5*s.Pr)*n;e.arc(o,a,u,0,2*Math.PI,!1),e.fill(),e.fillStyle=s.Rr,e.beginPath(),e.arc(o,a,s.ht*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=r,e.strokeStyle=s.Dr,e.beginPath(),e.arc(o,a,s.ht*n+r/2,0,2*Math.PI,!1),e.stroke()}}const bS=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function Nf(t,e,n,i){return function(s,r){if(s==="transparent")return s;const l=Is(s),o=l[3];return`rgba(${l[0]}, ${l[1]}, ${l[2]}, ${r*o})`}(t,n+(i-n)*e)}function zf(t,e){const n=t%2600/2600;let i;for(const a of bS)if(n>=a.Vr&&n<=a.Or){i=a;break}yn(i!==void 0,"Last price animation internal logic error");const s=(n-i.Vr)/(i.Or-i.Vr);return{Rr:Nf(e,s,i.Ir,i.zr),Dr:Nf(e,s,i.Lr,i.Er),ht:(r=s,l=i.Br,o=i.Ar,l+(o-l)*r)};var r,l,o}class _S{constructor(e){this.Wt=new SS,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),n=this.Wr-e;if(n>0)return void(n<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),n=e.Xs(),i=this.jr.Ct();if(n===null||i===null)return;const s=this.jr.Zr(!0);if(s.Xr||!n.Kr(s.ee))return;const r={x:e.It(s.ee),y:this.jr.Dt().Rt(s._t,i.Vt)},l=s.V,o=this.jr.W().lineWidth,a=zf(this.Gr(),l);this.Wt.J({Tr:l,Pr:o,Rr:a.Rr,Dr:a.Dr,ht:a.ht,Xe:r})}Yr(){const e=this.Wt.$e();if(e!==null){const n=zf(this.Gr(),e.Tr);e.Rr=n.Rr,e.Dr=n.Dr,e.ht=n.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function gs(t,e){return Ig(Math.min(Math.max(t,12),30)*e)}function Ws(t,e){switch(t){case"arrowDown":case"arrowUp":return gs(e,1);case"circle":return gs(e,.8);case"square":return gs(e,.7)}}function Xg(t){return function(e){const n=Math.ceil(e);return n%2!=0?n-1:n}(gs(t,1))}function Mf(t){return Math.max(gs(t,.1),3)}function Rf(t,e,n){return e?t:n?Math.ceil(t/2):0}function qg(t,e,n,i,s){const r=Ws("square",n),l=(r-1)/2,o=t-l,a=e-l;return i>=o&&i<=o+r&&s>=a&&s<=a+r}function Pf(t,e,n,i){const s=(Ws("arrowUp",i)-1)/2*n.Jr,r=(Ig(i/2)-1)/2*n.Jr;e.beginPath(),t?(e.moveTo(n.nt-s,n.st),e.lineTo(n.nt,n.st-s),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+r,n.st),e.lineTo(n.nt+r,n.st+s),e.lineTo(n.nt-r,n.st+s),e.lineTo(n.nt-r,n.st)):(e.moveTo(n.nt-s,n.st),e.lineTo(n.nt,n.st+s),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+r,n.st),e.lineTo(n.nt+r,n.st-s),e.lineTo(n.nt-r,n.st-s),e.lineTo(n.nt-r,n.st)),e.fill()}function ES(t,e,n,i,s,r){return qg(e,n,i,s,r)}class CS extends Et{constructor(){super(...arguments),this.zt=null,this.ar=new Bs,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,n){this.j===e&&this.H===n||(this.j=e,this.H=n,this.Qr=ji(e,n),this.ar.nr())}wr(e,n){if(this.zt===null||this.zt.tt===null)return null;for(let i=this.zt.tt.from;i<this.zt.tt.to;i++){const s=this.zt.it[i];if(NS(s,e,n))return{Mr:s.th,gr:s.gr}}return null}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:i},s,r){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const o=this.zt.it[l];o.Kt!==void 0&&(o.Kt.Hi=this.ar.xi(e,o.Kt.ih),o.Kt.At=this.j,o.Kt.nt=o.nt-o.Kt.Hi/2),kS(o,e,n,i)}}}}function kS(t,e,n,i){e.fillStyle=t.V,t.Kt!==void 0&&function(s,r,l,o,a,u){s.save(),s.scale(a,u),s.fillText(r,l,o),s.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,n,i),function(s,r,l){if(s.Ks!==0){switch(s.nh){case"arrowDown":return void Pf(!1,r,l,s.Ks);case"arrowUp":return void Pf(!0,r,l,s.Ks);case"circle":return void function(o,a,u){const h=(Ws("circle",u)-1)/2;o.beginPath(),o.arc(a.nt,a.st,h*a.Jr,0,2*Math.PI,!1),o.fill()}(r,l,s.Ks);case"square":return void function(o,a,u){const h=Ws("square",u),c=(h-1)*a.Jr/2,f=a.nt-c,g=a.st-c;o.fillRect(f,g,h*a.Jr,h*a.Jr)}(r,l,s.Ks)}s.nh}}(t,e,function(s,r,l){const o=Math.max(1,Math.floor(r))%2/2;return{nt:Math.round(s.nt*r)+o,st:s.st*l,Jr:r}}(t,n,i))}function NS(t,e,n){return!(t.Kt===void 0||!function(i,s,r,l,o,a){const u=l/2;return o>=i&&o<=i+r&&a>=s-u&&a<=s+u}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,n))||function(i,s,r){if(i.Ks===0)return!1;switch(i.nh){case"arrowDown":case"arrowUp":return ES(0,i.nt,i.st,i.Ks,s,r);case"circle":return function(l,o,a,u,h){const c=2+Ws("circle",a)/2,f=l-u,g=o-h;return Math.sqrt(f*f+g*g)<=c}(i.nt,i.st,i.Ks,s,r);case"square":return qg(i.nt,i.st,i.Ks,s,r)}}(t,e,n)}function zS(t,e,n,i,s,r,l,o,a){const u=jt(n)?n:n.Se,h=jt(n)?n:n.Me,c=jt(n)?n:n.xe,f=jt(e.size)?Math.max(e.size,0):1,g=Xg(o.le())*f,p=g/2;switch(t.Ks=g,e.position){case"inBar":return t.st=l.Rt(u,a),void(t.Kt!==void 0&&(t.Kt.st=t.st+p+r+.6*s));case"aboveBar":return t.st=l.Rt(h,a)-p-i.sh,t.Kt!==void 0&&(t.Kt.st=t.st-p-.6*s,i.sh+=1.2*s),void(i.sh+=g+r);case"belowBar":return t.st=l.Rt(c,a)+p+i.eh,t.Kt!==void 0&&(t.Kt.st=t.st+p+r+.6*s,i.eh+=1.2*s),void(i.eh+=g+r)}e.position}class MS{constructor(e,n){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new CS,this.jr=e,this.$i=n,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const n=this.$i.W().layout;return this.Wt._r(n.fontSize,n.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),n=Mf(e),i=1.5*Xg(e)+2*n,s=this.fh();this.ah={above:Rf(i,s.aboveBar,s.inBar),below:Rf(i,s.belowBar,s.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,n)=>(e[n.position]||(e[n.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),n=this.$i.St(),i=this.jr.dh();this.rh&&(this.zt.it=i.map(h=>({ot:h.time,nt:0,st:0,Ks:0,nh:h.shape,V:h.color,th:h.th,gr:h.id,Kt:void 0})),this.rh=!1);const s=this.$i.W().layout;this.zt.tt=null;const r=n.Xs();if(r===null)return;const l=this.jr.Ct();if(l===null||this.zt.it.length===0)return;let o=NaN;const a=Mf(n.le()),u={sh:a,eh:a};this.zt.tt=Ug(this.zt.it,r,!0);for(let h=this.zt.tt.from;h<this.zt.tt.to;h++){const c=i[h];c.time!==o&&(u.sh=a,u.eh=a,o=c.time);const f=this.zt.it[h];f.nt=n.It(c.time),c.text!==void 0&&c.text.length>0&&(f.Kt={ih:c.text,nt:0,st:0,Hi:0,At:0});const g=this.jr.ph(c.time);g!==null&&zS(f,c,g,u,s.fontSize,a,e,n,l.Vt)}this.ft=!1}}class RS extends kc{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const n=this.Es.W();if(!n.priceLineVisible||!this.Es.yt())return;const i=this.Es.Zr(n.priceLineSource===0);i.Xr||(e.yt=!0,e.st=i.ki,e.V=this.Es.mh(i.V),e.et=n.priceLineWidth,e.Nt=n.priceLineStyle)}}class PS extends no{constructor(e){super(),this.jt=e}zi(e,n,i){e.yt=!1,n.yt=!1;const s=this.jt;if(!s.yt())return;const r=s.W(),l=r.lastValueVisible,o=s.bh()!=="",a=r.seriesLastValueMode===0,u=s.Zr(!1);if(u.Xr)return;l&&(e.Kt=this.wh(u,l,a),e.yt=e.Kt.length!==0),(o||a)&&(n.Kt=this.gh(u,l,o,a),n.yt=n.Kt.length>0);const h=s.mh(u.V),c=eo(h);i.t=c.t,i.ki=u.ki,n.Ot=s.$t().Bt(u.ki/s.Dt().At()),e.Ot=h,e.V=c.i,n.V=c.i}gh(e,n,i,s){let r="";const l=this.jt.bh();return i&&l.length!==0&&(r+=`${l} `),n&&s&&(r+=this.jt.Dt().Mh()?e.xh:e.Sh),r.trim()}wh(e,n,i){return n?i?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function jf(t,e,n,i){const s=Number.isFinite(e),r=Number.isFinite(n);return s&&r?t(e,n):s||r?s?e:n:i}class Ge{constructor(e,n){this.kh=e,this.yh=n}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new Ge(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new Ge(jf(Math.min,this.Ph(),e.Ph(),-1/0),jf(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!jt(e)||this.yh-this.kh===0)return;const n=.5*(this.yh+this.kh);let i=this.yh-n,s=this.kh-n;i*=e,s*=e,this.yh=n+i,this.kh=n+s}Oh(e){jt(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new Ge(e.minValue,e.maxValue)}}class Cl{constructor(e,n){this.Ih=e,this.zh=n||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new Cl(Ge.Ah(e.priceRange),e.margins)}}class jS extends kc{constructor(e,n){super(e),this.Nh=n}yr(){const e=this.Sr;e.yt=!1;const n=this.Nh.W();if(!this.Es.yt()||!n.lineVisible)return;const i=this.Nh.Fh();i!==null&&(e.yt=!0,e.st=i,e.V=n.color,e.et=n.lineWidth,e.Nt=n.lineStyle,e.gr=this.Nh.W().id)}}class TS extends no{constructor(e,n){super(),this.jr=e,this.Nh=n}zi(e,n,i){e.yt=!1,n.yt=!1;const s=this.Nh.W(),r=s.axisLabelVisible,l=s.title!=="",o=this.jr;if(!r||!o.yt())return;const a=this.Nh.Fh();if(a===null)return;l&&(n.Kt=s.title,n.yt=!0),n.Ot=o.$t().Bt(a/o.Dt().At()),e.Kt=this.Wh(s.price),e.yt=!0;const u=eo(s.axisLabelColor||s.color);i.t=u.t;const h=s.axisLabelTextColor||u.i;e.V=h,n.V=h,i.ki=a}Wh(e){const n=this.jr.Ct();return n===null?"":this.jr.Dt().Fi(e,n.Vt)}}class LS{constructor(e,n){this.jr=e,this.cn=n,this.jh=new jS(e,this),this.ur=new TS(e,this),this.Hh=new Kg(this.ur,e,e.$t())}$h(e){St(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,n=e.Dt();if(e.$t().St().Ni()||n.Ni())return null;const i=e.Ct();return i===null?null:n.Rt(this.cn.price,i.Vt)}}class $S extends _c{constructor(e){super(),this.$i=e}$t(){return this.$i}}const DS={Bar:(t,e,n,i)=>{var s;const r=e.upColor,l=e.downColor,o=z(t(n,i)),a=pi(o.Vt[0])<=pi(o.Vt[3]);return{ce:(s=o.V)!==null&&s!==void 0?s:a?r:l}},Candlestick:(t,e,n,i)=>{var s,r,l;const o=e.upColor,a=e.downColor,u=e.borderUpColor,h=e.borderDownColor,c=e.wickUpColor,f=e.wickDownColor,g=z(t(n,i)),p=pi(g.Vt[0])<=pi(g.Vt[3]);return{ce:(s=g.V)!==null&&s!==void 0?s:p?o:a,Ne:(r=g.Ot)!==null&&r!==void 0?r:p?u:h,Ee:(l=g.Xh)!==null&&l!==void 0?l:p?c:f}},Custom:(t,e,n,i)=>{var s;return{ce:(s=z(t(n,i)).V)!==null&&s!==void 0?s:e.color}},Area:(t,e,n,i)=>{var s,r,l,o;const a=z(t(n,i));return{ce:(s=a.lt)!==null&&s!==void 0?s:e.lineColor,lt:(r=a.lt)!==null&&r!==void 0?r:e.lineColor,Ps:(l=a.Ps)!==null&&l!==void 0?l:e.topColor,Rs:(o=a.Rs)!==null&&o!==void 0?o:e.bottomColor}},Baseline:(t,e,n,i)=>{var s,r,l,o,a,u;const h=z(t(n,i));return{ce:h.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(s=h.Re)!==null&&s!==void 0?s:e.topLineColor,De:(r=h.De)!==null&&r!==void 0?r:e.bottomLineColor,ke:(l=h.ke)!==null&&l!==void 0?l:e.topFillColor1,ye:(o=h.ye)!==null&&o!==void 0?o:e.topFillColor2,Ce:(a=h.Ce)!==null&&a!==void 0?a:e.bottomFillColor1,Te:(u=h.Te)!==null&&u!==void 0?u:e.bottomFillColor2}},Line:(t,e,n,i)=>{var s,r;const l=z(t(n,i));return{ce:(s=l.V)!==null&&s!==void 0?s:e.color,lt:(r=l.V)!==null&&r!==void 0?r:e.color}},Histogram:(t,e,n,i)=>{var s;return{ce:(s=z(t(n,i)).V)!==null&&s!==void 0?s:e.color}}};class OS{constructor(e){this.Kh=(n,i)=>i!==void 0?i.Vt:this.jr.In().Gh(n),this.jr=e,this.Jh=DS[e.Qh()]}$s(e,n){return this.Jh(this.Kh,this.jr.W(),e,n)}}var Tf;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(Tf||(Tf={}));const Jt=30;class AS{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,n=0){const i=this.hl(e,n);return i===null?null:Object.assign(Object.assign({},this.al(i)),{ee:this.rl(i)})}ne(){return this.tl}ol(e,n,i){if(this.Ni())return null;let s=null;for(const r of i)s=kr(s,this._l(e,n,r));return s}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,n){const i=this.ul(e);if(i===null&&n!==0)switch(n){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return i}cl(e){let n=this.fl(e);return n>0&&(n-=1),n!==this.tl.length&&this.rl(n)<e?n:null}dl(e){const n=this.vl(e);return n!==this.tl.length&&e<this.rl(n)?n:null}ul(e){const n=this.fl(e);return n===this.tl.length||e<this.tl[n].ee?null:n}fl(e){return nr(this.tl,e,(n,i)=>n.ee<i)}vl(e){return Wg(this.tl,e,(n,i)=>n.ee>i)}pl(e,n,i){let s=null;for(let r=e;r<n;r++){const l=this.tl[r].Vt[i];Number.isNaN(l)||(s===null?s={ml:l,bl:l}:(l<s.ml&&(s.ml=l),l>s.bl&&(s.bl=l)))}return s}_l(e,n,i){if(this.Ni())return null;let s=null;const r=z(this.el()),l=z(this.An()),o=Math.max(e,r),a=Math.min(n,l),u=Math.ceil(o/Jt)*Jt,h=Math.max(u,Math.floor(a/Jt)*Jt);{const f=this.fl(o),g=this.vl(Math.min(a,u,n));s=kr(s,this.pl(f,g,i))}let c=this.il.get(i);c===void 0&&(c=new Map,this.il.set(i,c));for(let f=Math.max(u+1,o);f<h;f+=Jt){const g=Math.floor(f/Jt);let p=c.get(g);if(p===void 0){const m=this.fl(g*Jt),w=this.vl((g+1)*Jt-1);p=this.pl(m,w,i),c.set(g,p)}s=kr(s,p)}{const f=this.fl(h),g=this.vl(a);s=kr(s,this.pl(f,g,i))}return s}}function kr(t,e){return t===null?e:e===null?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class IS{constructor(e){this.wl=e}X(e,n,i){this.wl.draw(e)}gl(e,n,i){var s,r;(r=(s=this.wl).drawBackground)===null||r===void 0||r.call(s,e)}}class Ho{constructor(e){this.tr=null,this.wn=e}gt(){var e;const n=this.wn.renderer();if(n===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===n)return this.tr.xl;const i=new IS(n);return this.tr={Ml:n,xl:i},i}Sl(){var e,n,i;return(i=(n=(e=this.wn).zOrder)===null||n===void 0?void 0:n.call(e))!==null&&i!==void 0?i:"normal"}}function Gg(t){var e,n,i,s,r;return{Kt:t.text(),ki:t.coordinate(),Si:(e=t.fixedCoordinate)===null||e===void 0?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:(i=(n=t.visible)===null||n===void 0?void 0:n.call(t))===null||i===void 0||i,hi:(r=(s=t.tickVisible)===null||s===void 0?void 0:s.call(t))===null||r===void 0||r}}class FS{constructor(e,n){this.Wt=new $g,this.kl=e,this.yl=n}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},Gg(this.kl))),this.Wt}}class VS extends no{constructor(e,n){super(),this.kl=e,this.Li=n}zi(e,n,i){const s=Gg(this.kl);i.t=s.t,e.V=s.V;const r=2/12*this.Li.P();i.wi=r,i.gi=r,i.ki=s.ki,i.Si=s.Si,e.Kt=s.Kt,e.yt=s.yt,e.hi=s.hi}}class BS{constructor(e,n){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=n}Ol(){return this.Vl}Vn(){var e,n;(n=(e=this.Vl).updateAllViews)===null||n===void 0||n.call(e)}Pn(){var e,n,i,s;const r=(i=(n=(e=this.Vl).paneViews)===null||n===void 0?void 0:n.call(e))!==null&&i!==void 0?i:[];if(((s=this.Cl)===null||s===void 0?void 0:s.Ml)===r)return this.Cl.xl;const l=r.map(o=>new Ho(o));return this.Cl={Ml:r,xl:l},l}Qi(){var e,n,i,s;const r=(i=(n=(e=this.Vl).timeAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&i!==void 0?i:[];if(((s=this.Tl)===null||s===void 0?void 0:s.Ml)===r)return this.Tl.xl;const l=this.jr.$t().St(),o=r.map(a=>new FS(a,l));return this.Tl={Ml:r,xl:o},o}Rn(){var e,n,i,s;const r=(i=(n=(e=this.Vl).priceAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&i!==void 0?i:[];if(((s=this.Pl)===null||s===void 0?void 0:s.Ml)===r)return this.Pl.xl;const l=this.jr.Dt(),o=r.map(a=>new VS(a,l));return this.Pl={Ml:r,xl:o},o}Bl(){var e,n,i,s;const r=(i=(n=(e=this.Vl).priceAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&i!==void 0?i:[];if(((s=this.Rl)===null||s===void 0?void 0:s.Ml)===r)return this.Rl.xl;const l=r.map(o=>new Ho(o));return this.Rl={Ml:r,xl:l},l}Al(){var e,n,i,s;const r=(i=(n=(e=this.Vl).timeAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&i!==void 0?i:[];if(((s=this.Dl)===null||s===void 0?void 0:s.Ml)===r)return this.Dl.xl;const l=r.map(o=>new Ho(o));return this.Dl={Ml:r,xl:l},l}Il(e,n){var i,s,r;return(r=(s=(i=this.Vl).autoscaleInfo)===null||s===void 0?void 0:s.call(i,e,n))!==null&&r!==void 0?r:null}wr(e,n){var i,s,r;return(r=(s=(i=this.Vl).hitTest)===null||s===void 0?void 0:s.call(i,e,n))!==null&&r!==void 0?r:null}}function Ko(t,e,n,i){t.forEach(s=>{e(s).forEach(r=>{r.Sl()===n&&i.push(r)})})}function Xo(t){return t.Pn()}function WS(t){return t.Bl()}function US(t){return t.Al()}class Nc extends $S{constructor(e,n,i,s,r){super(e),this.zt=new AS,this.jh=new RS(this),this.zl=[],this.Ll=new wS(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=n,this.$l=i;const l=new PS(this);this.rn=[l],this.Hh=new Kg(l,this,e),i!=="Area"&&i!=="Line"&&i!=="Baseline"||(this.El=new _S(this)),this.Ul(),this.ql(r)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const n={Xr:!0},i=this.Dt();if(this.$t().St().Ni()||i.Ni()||this.zt.Ni())return n;const s=this.$t().St().Xs(),r=this.Ct();if(s===null||r===null)return n;let l,o;if(e){const c=this.zt.sl();if(c===null)return n;l=c,o=c.ee}else{const c=this.zt.ll(s.ui(),-1);if(c===null||(l=this.zt.Gh(c.ee),l===null))return n;o=c.ee}const a=l.Vt[3],u=this.Us().$s(o,{Vt:l}),h=i.Rt(a,r.Vt);return{Xr:!1,_t:a,Kt:i.Fi(a,r.Vt),xh:i.Yl(a),Sh:i.Zl(a,r.Vt),V:u.ce,ki:h,ee:o}}Us(){return this.Nl!==null||(this.Nl=new OS(this)),this.Nl}W(){return this.cn}$h(e){const n=e.priceScaleId;n!==void 0&&n!==this.cn.priceScaleId&&this.$t().Xl(this,n),St(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,n){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(n&&n.ta?this.El.$r():e.length===0&&this.El.Hr());const i=this.$t().dr(this);this.$t().ia(i),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const n=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(n),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const n=new LS(this,e);return this.zl.push(n),this.$t().Gl(this),n}ra(e){const n=this.zl.indexOf(e);n!==-1&&this.zl.splice(n,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const n=e.Os();return this.zt.ll(n,1)}In(){return this.zt}ph(e){const n=this.zt.Gh(e);return n===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3]}:n.Vt[3]}aa(e){const n=[];Ko(this.Hl,Xo,"top",n);const i=this.El;return i!==null&&i.yt()&&(this.jl===null&&i.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),i.Ur(),n.unshift(i)),n}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const n=this.zl.map(i=>i.qh());return e.push(...n),Ko(this.Hl,Xo,"normal",e),e}ua(){return this.ca(Xo,"bottom")}da(e){return this.ca(WS,e)}fa(e){return this.ca(US,e)}va(e,n){return this.Hl.map(i=>i.wr(e,n)).filter(i=>i!==null)}Ji(e){return[this.Hh,...this.zl.map(n=>n.Yh())]}Rn(e,n){if(n!==this.Yi&&!this._a())return[];const i=[...this.rn];for(const s of this.zl)i.push(s.Zh());return this.Hl.forEach(s=>{i.push(...s.Rn())}),i}Qi(){const e=[];return this.Hl.forEach(n=>{e.push(...n.Qi())}),e}Il(e,n){if(this.cn.autoscaleInfoProvider!==void 0){const i=this.cn.autoscaleInfoProvider(()=>{const s=this.pa(e,n);return s===null?null:s.Bh()});return Cl.Ah(i)}return this.pa(e,n)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const n of this.rn)n.bt();for(const n of this.zl)n.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(n=>n.Vn())}Dt(){return z(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const n=this.zt.Gh(e);return n===null?null:{_t:n.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new BS(e,this))}ya(e){this.Hl=this.Hl.filter(n=>n.Ol()!==e)}Ca(){if(this.wn instanceof Uo)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof Uo)return e=>this.wn.je(e)}_a(){return!io(this.Dt().Pa())}pa(e,n){if(!Fs(e)||!Fs(n)||this.zt.Ni())return null;const i=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],s=this.zt.ol(e,n,i);let r=s!==null?new Ge(s.ml,s.bl):null;if(this.Qh()==="Histogram"){const o=this.cn.base,a=new Ge(o,o);r=r!==null?r.ts(a):a}let l=this.dn.uh();return this.Hl.forEach(o=>{const a=o.Il(e,n);if(a!=null&&a.priceRange){const g=new Ge(a.priceRange.minValue,a.priceRange.maxValue);r=r!==null?r.ts(g):g}var u,h,c,f;a!=null&&a.margins&&(u=l,h=a.margins,l={above:Math.max((c=u==null?void 0:u.above)!==null&&c!==void 0?c:0,h.above),below:Math.max((f=u==null?void 0:u.below)!==null&&f!==void 0?f:0,h.below)})}),new Cl(r,l)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const n=this.cn.crosshairMarkerBackgroundColor;if(n.length!==0)return n}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new J1(this.cn.priceFormat.precision);break;case"percent":this.wa=new Dg(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new so(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const n=z(this.zt.el());this.Wl=this.Fl.map((i,s)=>{const r=z(e.Va(i.time,!0)),l=r<n?1:-1;return{time:z(this.zt.ll(r,l)).ee,position:i.position,shape:i.shape,color:i.color,id:i.id,th:s,text:i.text,size:i.size,originalTime:i.originalTime}})}ql(e){switch(this.dn=new MS(this,this.$t()),this.$l){case"Bar":this.wn=new lS(this,this.$t());break;case"Candlestick":this.wn=new hS(this,this.$t());break;case"Line":this.wn=new gS(this,this.$t());break;case"Custom":this.wn=new Uo(this,this.$t(),Oe(e));break;case"Area":this.wn=new sS(this,this.$t());break;case"Baseline":this.wn=new uS(this,this.$t());break;case"Histogram":this.wn=new mS(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,n){const i=[];return Ko(this.Hl,e,n,i),i}}class HS{constructor(e){this.cn=e}Oa(e,n,i){let s=e;if(this.cn.mode===0)return s;const r=i.vn(),l=r.Ct();if(l===null)return s;const o=r.Rt(e,l),a=i.Ba().filter(h=>h instanceof Nc).reduce((h,c)=>{if(i.vr(c)||!c.yt())return h;const f=c.Dt(),g=c.In();if(f.Ni()||!g.Kr(n))return h;const p=g.Gh(n);if(p===null)return h;const m=pi(c.Ct());return h.concat([f.Rt(p.Vt[3],m.Vt)])},[]);if(a.length===0)return s;a.sort((h,c)=>Math.abs(h-o)-Math.abs(c-o));const u=a[0];return s=r.pn(u,l),s}}class KS extends Et{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.zt===null)return;const r=Math.max(1,Math.floor(i));e.lineWidth=r,function(l,o){l.save(),l.lineWidth%2&&l.translate(.5,.5),o(),l.restore()}(e,()=>{const l=z(this.zt);if(l.Aa){e.strokeStyle=l.Ia,Kn(e,l.za),e.beginPath();for(const o of l.La){const a=Math.round(o.Ea*i);e.moveTo(a,-r),e.lineTo(a,n.height+r)}e.stroke()}if(l.Na){e.strokeStyle=l.Fa,Kn(e,l.Wa),e.beginPath();for(const o of l.ja){const a=Math.round(o.Ea*s);e.moveTo(-r,a),e.lineTo(n.width+r,a)}e.stroke()}})}}class XS{constructor(e){this.Wt=new KS,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,n={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(i=>({Ea:i.coord}))};this.Wt.J(n),this.ft=!1}return this.Wt}}class qS{constructor(e){this.wn=new XS(e)}qh(){return this.wn}}const qo={$a:4,Ua:1e-4};function mi(t,e){const n=100*(t-e)/e;return e<0?-n:n}function GS(t,e){const n=mi(t.Ph(),e),i=mi(t.Rh(),e);return new Ge(n,i)}function vs(t,e){const n=100*(t-e)/e+100;return e<0?-n:n}function QS(t,e){const n=vs(t.Ph(),e),i=vs(t.Rh(),e);return new Ge(n,i)}function kl(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const i=Math.log10(n+e.Ua)+e.$a;return t<0?-i:i}function ys(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const i=Math.pow(10,n-e.$a)-e.Ua;return t<0?-i:i}function Yi(t,e){if(t===null)return null;const n=kl(t.Ph(),e),i=kl(t.Rh(),e);return new Ge(n,i)}function Nr(t,e){if(t===null)return null;const n=ys(t.Ph(),e),i=ys(t.Rh(),e);return new Ge(n,i)}function Go(t){if(t===null)return qo;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return qo;const n=Math.ceil(Math.abs(Math.log10(e))),i=qo.$a+n;return{$a:i,Ua:1/Math.pow(10,i)}}class Qo{constructor(e,n){if(this.qa=e,this.Ya=n,function(i){if(i<0)return!1;for(let s=i;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let i=this.qa;i!==1;){if(i%2==0)this.Za.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),i/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,n,i){const s=this.qa===0?0:1/this.qa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-n)))),l=0,o=this.Ya[0];for(;;){const c=Cr(r,s,1e-14)&&r>s+1e-14,f=Cr(r,i*o,1e-14),g=Cr(r,1,1e-14);if(!(c&&f&&g))break;r/=o,o=this.Ya[++l%this.Ya.length]}if(r<=s+1e-14&&(r=s),r=Math.max(1,r),this.Za.length>0&&(a=r,u=1,h=1e-14,Math.abs(a-u)<h))for(l=0,o=this.Za[0];Cr(r,i*o,1e-14)&&r>s+1e-14;)r/=o,o=this.Za[++l%this.Za.length];var a,u,h;return r}}class Lf{constructor(e,n,i,s){this.Ka=[],this.Li=e,this.qa=n,this.Ga=i,this.Ja=s}Xa(e,n){if(e<n)throw new Error("high < low");const i=this.Li.At(),s=(e-n)*this.Qa()/i,r=new Qo(this.qa,[2,2.5,2]),l=new Qo(this.qa,[2,2,2.5]),o=new Qo(this.qa,[2.5,2,2]),a=[];return a.push(r.Xa(e,n,s),l.Xa(e,n,s),o.Xa(e,n,s)),function(u){if(u.length<1)throw Error("array is empty");let h=u[0];for(let c=1;c<u.length;++c)u[c]<h&&(h=u[c]);return h}(a)}io(){const e=this.Li,n=e.Ct();if(n===null)return void(this.Ka=[]);const i=e.At(),s=this.Ga(i-1,n),r=this.Ga(0,n),l=this.Li.W().entireTextOnly?this.no()/2:0,o=l,a=i-1-l,u=Math.max(s,r),h=Math.min(s,r);if(u===h)return void(this.Ka=[]);let c=this.Xa(u,h),f=u%c;f+=f<0?c:0;const g=u>=h?1:-1;let p=null,m=0;for(let w=u-f;w>h;w-=c){const v=this.Ja(w,n,!0);p!==null&&Math.abs(v-p)<this.Qa()||v<o||v>a||(m<this.Ka.length?(this.Ka[m].Ea=v,this.Ka[m].so=e.eo(w)):this.Ka.push({Ea:v,so:e.eo(w)}),m++,p=v,e.ro()&&(c=this.Xa(w*g,h)))}this.Ka.length=m}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function Qg(t){return t.slice().sort((e,n)=>z(e.Xi())-z(n.Xi()))}var $f;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})($f||($f={}));const Df=new Dg,Of=new so(100,1);class JS{constructor(e,n,i,s){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new ve,this.vo=new ve,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=Of,this.xo=Go(null),this.So=e,this.cn=n,this.ko=i,this.yo=s,this.Co=new Lf(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(St(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const n=Oe(e.scaleMargins.top),i=Oe(e.scaleMargins.bottom);if(n<0||n>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(n+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${n+i}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const n=this.Cr();let i=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),n.Cr===1&&e.Cr!==n.Cr&&(function(r,l){if(r===null)return!1;const o=ys(r.Ph(),l),a=ys(r.Rh(),l);return isFinite(o)&&isFinite(a)}(this.Ih,this.xo)?(i=Nr(this.Ih,this.xo),i!==null&&this.Ao(i)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==n.Cr&&(i=Yi(this.Ih,this.xo),i!==null&&this.Ao(i));const s=n.Cr!==this.cn.mode;s&&(n.Cr===2||this.Mh())&&this.Ra(),s&&(n.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&n.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(n,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,n){const i=this.Ih;(n||i===null&&e!==null||i!==null&&!i.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,n){return this.Mh()?e=mi(e,n):this.Oo()&&(e=vs(e,n)),this.Po(e,n)}te(e,n,i){this.Wo();const s=this.Fo(),r=z(this.Lh()),l=r.Ph(),o=r.Rh(),a=this.Eo()-1,u=this.Bo(),h=a/(o-l),c=i===void 0?0:i.from,f=i===void 0?e.length:i.to,g=this.Ho();for(let p=c;p<f;p++){const m=e[p],w=m._t;if(isNaN(w))continue;let v=w;g!==null&&(v=g(m._t,n));const y=s+h*(v-l),x=u?y:this.ho-1-y;m.st=x}}be(e,n,i){this.Wo();const s=this.Fo(),r=z(this.Lh()),l=r.Ph(),o=r.Rh(),a=this.Eo()-1,u=this.Bo(),h=a/(o-l),c=i===void 0?0:i.from,f=i===void 0?e.length:i.to,g=this.Ho();for(let p=c;p<f;p++){const m=e[p];let w=m.ge,v=m.Me,y=m.xe,x=m.Se;g!==null&&(w=g(m.ge,n),v=g(m.Me,n),y=g(m.xe,n),x=g(m.Se,n));let b=s+h*(w-l),_=u?b:this.ho-1-b;m.pe=_,b=s+h*(v-l),_=u?b:this.ho-1-b,m.de=_,b=s+h*(y-l),_=u?b:this.ho-1-b,m.fe=_,b=s+h*(x-l),_=u?b:this.ho-1-b,m.me=_}}pn(e,n){const i=this.To(e,n);return this.$o(i,n)}$o(e,n){let i=e;return this.Mh()?i=function(s,r){return r<0&&(s=-s),s/100*r+r}(i,n):this.Oo()&&(i=function(s,r){return s-=100,r<0&&(s=-s),s/100*r+r}(i,n)),i}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let n=0;n<this.po.length;n++){const i=this.po[n];i.Xi()===null&&i.Ki(n+1),e.push(i)}return e=Qg(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const n=this.po.indexOf(e);if(n===-1)throw new Error("source is not attached to scale");this.po.splice(n,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const n of this.po){const i=n.Ct();i!==null&&(e===null||i.la<e.la)&&(e=i)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const n=this.Co.Ha();return this.bo={Ha:n,Xo:e},this.fo.m(),n}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=z(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let n=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const i=z(this.ao).Th();n=Math.max(n,.1),i.Vh(n),this.Ao(i)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=z(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const n=z(this.Lh()).Dh()/(this.Eo()-1);let i=e-this.Mo;this.Bo()&&(i*=-1);const s=i*n,r=z(this.ao).Th();r.Oh(s),this.Ao(r,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,n){switch(this.cn.mode){case 2:return this.s_(mi(e,n));case 3:return this.ba().format(vs(e,n));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,z(this.e_()).ba())}Zl(e,n){return e=mi(e,n),this.s_(e,Df)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let n=100;e!==null&&(n=Math.round(1/e.ma())),this.wa=Of,this.Mh()?(this.wa=Df,n=100):this.Oo()?(this.wa=new so(100,1),n=100):e!==null&&(this.wa=e.ba()),this.Co=new Lf(this,n,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,n){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?kl(e,this.xo):e;const i=z(this.Lh()),s=this.Fo()+(this.Eo()-1)*(e-i.Ph())/i.Dh();return this.jo(s)}To(e,n){if(this.Wo(),this.Ni())return 0;const i=this.jo(e),s=z(this.Lh()),r=s.Ph()+s.Dh()*((i-this.Fo())/(this.Eo()-1));return this.ro()?ys(r,this.xo):r}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let n=null;const i=this.r_();let s=0,r=0;for(const a of i){if(!a.yt())continue;const u=a.Ct();if(u===null)continue;const h=a.Il(e.Os(),e.ui());let c=h&&h.Lh();if(c!==null){switch(this.cn.mode){case 1:c=Yi(c,this.xo);break;case 2:c=GS(c,u.Vt);break;case 3:c=QS(c,u.Vt)}if(n=n===null?c:n.ts(z(c)),h!==null){const f=h.Eh();f!==null&&(s=Math.max(s,f.above),r=Math.max(r,f.below))}}}if(s===this.co&&r===this.do||(this.co=s,this.do=r,this.bo=null,this.Do()),n!==null){if(n.Ph()===n.Rh()){const a=this.e_(),u=5*(a===null||this.Mh()||this.Oo()?1:a.ma());this.ro()&&(n=Nr(n,this.xo)),n=new Ge(n.Ph()-u,n.Rh()+u),this.ro()&&(n=Yi(n,this.xo))}if(this.ro()){const a=Nr(n,this.xo),u=Go(a);if(l=u,o=this.xo,l.$a!==o.$a||l.Ua!==o.Ua){const h=this.ao!==null?Nr(this.ao,this.xo):null;this.xo=u,n=Yi(a,u),h!==null&&(this.ao=Yi(h,u))}}this.Ao(n)}else this.Ih===null&&(this.Ao(new Ge(-.5,.5)),this.xo=Go(null));var l,o;this.oo._o=!0}Ho(){return this.Mh()?mi:this.Oo()?vs:this.ro()?e=>kl(e,this.xo):null}a_(e,n,i){return n===void 0?(i===void 0&&(i=this.ba()),i.format(e)):n(e)}Wh(e,n){return this.a_(e,this.yo.priceFormatter,n)}s_(e,n){return this.a_(e,this.yo.percentageFormatter,n)}}class YS{constructor(e,n){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new ve,this.yl=e,this.$i=n,this.d_=new qS(this);const i=n.W();this.f_=this.v_("left",i.leftPriceScale),this.p_=this.v_("right",i.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(i)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const n=Array.from(this.o_.values());for(const i of n){const s=z(i[0].Dt());s.$h(e.overlayPriceScales),e.localization&&s.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?Oe(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(n=>{if(this.vr(n)){const i=n.Dt();i!==null&&i.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const n=e.Dt();return n===null||this.f_!==n&&this.p_!==n}qo(e,n,i){const s=i!==void 0?i:this.C_().y_+1;this.T_(e,n,s)}Zo(e){const n=this.po.indexOf(e);yn(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1);const i=z(e.Dt()).Pa();if(this.o_.has(i)){const r=Oe(this.o_.get(i)),l=r.indexOf(e);l!==-1&&(r.splice(l,1),r.length===0&&this.o_.delete(i))}const s=e.Dt();s&&s.Ba().indexOf(e)>=0&&s.Zo(e),s!==null&&(s.Yo(),this.P_(s)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,n){e.Go(n)}O_(e,n){e.Jo(n),this.k_()}B_(e){e.Qo()}A_(e,n){e.t_(n)}I_(e,n){e.i_(n),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const n=this.yl.Xs();e.Ro({Wn:!0}),n!==null&&e.h_(n),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=Qg(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const n=e.r_();if(n&&n.length>0&&!this.yl.Ni()){const i=this.yl.Xs();i!==null&&e.h_(i)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let n=0,i=0;for(let s=0;s<e.length;s++){const r=e[s].Xi();r!==null&&(r<n&&(n=r),r>i&&(i=r))}return{H_:n,y_:i}}T_(e,n,i){let s=this.w_(n);if(s===null&&(s=this.v_(n,this.$i.W().overlayPriceScales)),this.po.push(e),!io(n)){const r=this.o_.get(n)||[];r.push(e),this.o_.set(n,r)}s.qo(e),e.Gi(s),e.Ki(i),this.P_(s),this.mo=null}m_(e,n,i){n.Cr!==i.Cr&&this.L_(e)}v_(e,n){const i=Object.assign({visible:!0,autoScale:!0},Vt(n)),s=new JS(e,i,this.$i.W().layout,this.$i.W().localization);return s.Lo(this.At()),s}}class ZS{constructor(e,n,i=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=n,this.ir=i}Y_(e){const n=e.time,i=this.q_.cacheKey(n),s=this.tr.get(i);if(s!==void 0)return s.Z_;if(this.Ke===this.ir){const l=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(Oe(l)),this.Je++,this.Ke--}const r=this.U_(e);return this.tr.set(i,{Z_:r,rr:this.Ge}),this.Qe.set(this.Ge,i),this.Ke++,this.Ge++,r}}class xs{constructor(e,n){yn(e<=n,"right should be >= left"),this.X_=e,this.K_=n}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function Af(t,e){return t===null||e===null?t===e:t.Ch(e)}class eb{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,n){this.nu(n),this.tr=null;for(let i=n;i<e.length;++i){const s=e[i];let r=this.J_.get(s.timeWeight);r===void 0&&(r=[],this.J_.set(s.timeWeight,r)),r.push({index:i,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}su(e,n){const i=Math.ceil(n/e);return this.tr!==null&&this.tr.eu===i||(this.tr={Ha:this.ru(i),eu:i}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const n=[];this.J_.forEach((i,s)=>{e<=i[0].index?n.push(s):i.splice(nr(i,e,r=>r.index<e),1/0)});for(const i of n)this.J_.delete(i)}ru(e){let n=[];for(const i of Array.from(this.J_.keys()).sort((s,r)=>r-s)){if(!this.J_.get(i))continue;const s=n;n=[];const r=s.length;let l=0;const o=Oe(this.J_.get(i)),a=o.length;let u=1/0,h=-1/0;for(let c=0;c<a;c++){const f=o[c],g=f.index;for(;l<r;){const p=s[l],m=p.index;if(!(m<g)){u=m;break}l++,n.push(p),h=m,u=1/0}if(u-g>=e&&g-h>=e)n.push(f),h=g;else if(this.Q_)return s}for(;l<r;l++)n.push(s[l])}return n}}class _i{constructor(e){this.hu=e}lu(){return this.hu===null?null:new xs(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new _i(null)}}function tb(t,e){return t.weight>e.weight?t:e}class nb{constructor(e,n,i,s){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new eb,this.du=new Map,this.fu=_i.ou(),this.vu=!0,this.pu=new ve,this.mu=new ve,this.bu=new ve,this.wu=null,this.gu=null,this.Mu=[],this.cn=n,this.yo=i,this.xu=n.rightOffset,this.Su=n.barSpacing,this.$i=e,this.q_=s,this.ku(),this.cu.tu(n.uniformDistribution)}W(){return this.cn}yu(e){St(this.yo,e),this.Cu(),this.ku()}$h(e,n){var i;St(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((i=e.barSpacing)!==null&&i!==void 0?i:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var n,i;return(i=(n=this.uu[e])===null||n===void 0?void 0:n.time)!==null&&i!==void 0?i:null}Ui(e){var n;return(n=this.uu[e])!==null&&n!==void 0?n:null}Va(e,n){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return n?this.uu.length-1:null;const i=nr(this.uu,this.q_.key(e),(s,r)=>this.q_.key(s.time)<r);return this.q_.key(e)<this.q_.key(this.uu[i].time)?n?i:null:i}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const n={from:e.Os(),to:e.ui()};return this.Ou(n)}Ou(e){const n=Math.round(e.from),i=Math.round(e.to),s=z(this.Bu()),r=z(this.Au());return{from:z(this.Ui(Math.max(s,n))),to:z(this.Ui(Math.min(r,i)))}}Iu(e){return{from:z(this.Va(e.from,!0)),to:z(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const n=this.Du(),i=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&i!==0){const s=this.Su*e/i;this.Su=s}if(this.cn.fixLeftEdge&&n!==null&&n.Os()<=0){const s=i-e;this.xu-=Math.round(s/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!Fs(e))return 0;const n=this.Eu()+this.xu-e;return this.__-(n+.5)*this.Su-1}Qs(e,n){const i=this.Eu(),s=n===void 0?0:n.from,r=n===void 0?e.length:n.to;for(let l=s;l<r;l++){const o=e[l].ot,a=i+this.xu-o,u=this.__-(a+.5)*this.Su-1;e[l].nt=u}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,n=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),i=Math.round(n/e),s=z(this.Xs()),r=Math.max(s.Os(),s.Os()-i),l=Math.max(s.ui(),s.ui()-i),o=this.cu.su(e,n),a=this.Bu()+i,u=this.Au()-i,h=this.$u(),c=this.cn.fixLeftEdge||h,f=this.cn.fixRightEdge||h;let g=0;for(const p of o){if(!(r<=p.index&&p.index<=l))continue;let m;g<this.Mu.length?(m=this.Mu[g],m.coord=this.It(p.index),m.label=this.Uu(p),m.weight=p.weight):(m={needAlignCoordinate:!1,coord:this.It(p.index),label:this.Uu(p),weight:p.weight},this.Mu.push(m)),this.Su>n/2&&!h?m.needAlignCoordinate=!1:m.needAlignCoordinate=c&&p.index<=a||f&&p.index>=u,g++}return this.Mu.length=g,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,n){const i=this.Fu(e),s=this.le(),r=s+n*(s/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(i-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const n=hu(this.__-e,0,this.__),i=hu(this.__-z(this.wo),0,this.__);n!==0&&i!==0&&this.Gn(this.wu.le*n/i)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const n=(this.Mo-e)/this.le();this.xu=z(this.wu).Hu+n,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,n=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.xu,s=performance.now();this.$i.Zn({Qu:r=>(r-s)/n>=1,tc:r=>{const l=(r-s)/n;return l>=1?e:i+(e-i)*l}})}bt(e,n){this.vu=!0,this.uu=e,this.cu.iu(e,n),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const n=e.G_();this.ju(this.__/n),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),n=this.Au();e!==null&&n!==null&&this.rc(new xs(e,n+this.cn.rightOffset))}lc(e){const n=new xs(e.from,e.to);this.rc(n)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:n}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const n=this.ac(e),i=this.Eu()+this.xu-n;return Math.round(1e6*i)/1e6}ju(e){const n=this.Su;this.Su=e,this.zu(),n!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(_i.ou());const e=this.Eu(),n=this.__/this.Su,i=this.xu+e,s=new xs(i-n+1,i);this._c(new _i(s))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const n=.5*this.__;this.Su>n&&(this.Su=n,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const n=this.dc();this.xu>n&&(this.xu=n,this.vu=!0)}cc(){const e=this.Bu(),n=this._u;return e===null||n===null?null:e-n-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let n=this.du.get(e.weight);return n===void 0&&(n=new ZS(i=>this.fc(i),this.q_),this.du.set(e.weight,n)),n.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const n=this.fu;this.fu=e,Af(n.lu(),this.fu.lu())||this.pu.m(),Af(n.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const n=this.Xs();if(n===null)return;const i=n.Os()-e;if(i<0){const s=this.xu-i-1;this.Jn(s)}this.zu()}Pu(){this.Lu(),this.zu()}}class ib{X(e,n,i){e.useMediaCoordinateSpace(s=>this.K(s,n,i))}gl(e,n,i){e.useMediaCoordinateSpace(s=>this.vc(s,n,i))}vc(e,n,i){}}class sb extends ib{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:n,mediaSize:i}=e;let s=0;for(const l of this.zt.bc){if(l.Kt.length===0)continue;n.font=l.R;const o=this.wc(n,l.Kt);o>i.width?l.Zu=i.width/o:l.Zu=1,s+=l.gc*l.Zu}let r=0;switch(this.zt.Mc){case"top":r=0;break;case"center":r=Math.max((i.height-s)/2,0);break;case"bottom":r=Math.max(i.height-s,0)}n.fillStyle=this.zt.V;for(const l of this.zt.bc){n.save();let o=0;switch(this.zt.xc){case"left":n.textAlign="left",o=l.gc/2;break;case"center":n.textAlign="center",o=i.width/2;break;case"right":n.textAlign="right",o=i.width-1-l.gc/2}n.translate(o,r),n.textBaseline="top",n.font=l.R,n.scale(l.Zu,l.Zu),n.fillText(l.Kt,0,l.Sc),n.restore(),r+=l.gc*l.Zu}}wc(e,n){const i=this.kc(e.font);let s=i.get(n);return s===void 0&&(s=e.measureText(n).width,i.set(n,s)),s}kc(e){let n=this.mc.get(e);return n===void 0&&(n=new Map,this.mc.set(e,n)),n}}class rb{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new sb(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),n=this.Ft;n.yt=e.visible,n.yt&&(n.V=e.color,n.xc=e.horzAlign,n.Mc=e.vertAlign,n.bc=[{Kt:e.text,R:ji(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class lb extends _c{constructor(e,n){super(),this.cn=n,this.wn=new rb(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var If,Ff,Vf,fu,Bf;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(If||(If={}));class ob{constructor(e,n,i){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new ve,this.Rc=new ve,this.Dc=null,this.Vc=e,this.cn=n,this.q_=i,this.Oc=new I1(this),this.yl=new nb(this,n.timeScale,this.cn.localization,i),this.vt=new Q1(this,n.crosshair),this.Bc=new HS(n.crosshair),this.Ac=new lb(this,n.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(Ce.es())}Uh(){this.Nc(Ce.ss())}oa(){this.Nc(new Ce(1))}Gl(e){const n=this.Fc(e);this.Nc(n)}Wc(){return this.Tc}jc(e){const n=this.Tc;this.Tc=e,n!==null&&this.Gl(n.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){St(this.cn,e),this.yc.forEach(n=>n.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,n){if(e==="left")return void this.$h({leftPriceScale:n});if(e==="right")return void this.$h({rightPriceScale:n});const i=this.Uc(e);i!==null&&(i.Dt.$h(n),this.Pc.m())}Uc(e){for(const n of this.yc){const i=n.w_(e);if(i!==null)return{Ht:n,Dt:i}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,n){e.Lo(n),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(n=>n.S_(e)),this.Wu()}Ic(e){const n=new YS(this.yl,this);e!==void 0?this.yc.splice(e,0,n):this.yc.push(n);const i=e===void 0?this.yc.length-1:e,s=Ce.es();return s.Nn(i,{Fn:0,Wn:!0}),this.Nc(s),n}V_(e,n,i){e.V_(n,i)}O_(e,n,i){e.O_(n,i),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,n){e.B_(n),this.Nc(this.Gc(e,2))}A_(e,n,i){n.Vo()||e.A_(n,i)}I_(e,n,i){n.Vo()||(e.I_(n,i),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,n){n.Vo()||(e.z_(n),this.Nc(this.Gc(e,2)))}E_(e,n){e.E_(n),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,n){const i=this.St();if(i.Ni()||n===0)return;const s=i.Hi();e=Math.max(1,Math.min(e,s)),i.Zu(e,n),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,n,i,s,r){this.vt.gn(e,n);let l=NaN,o=this.yl.Nu(e);const a=this.yl.Xs();a!==null&&(o=Math.min(Math.max(a.Os(),o),a.ui()));const u=s.vn(),h=u.Ct();h!==null&&(l=u.pn(n,h)),l=this.Bc.Oa(l,o,s),this.vt.kn(o,l,s),this.oa(),r||this.Rc.m(this.vt.xt(),{x:e,y:n},i)}ad(e,n,i){const s=i.vn(),r=s.Ct(),l=s.Rt(e,z(r)),o=this.yl.Va(n,!0),a=this.yl.It(z(o));this.ld(a,l,null,i,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const n=this.vt.xn(),i=this.vt.Sn();this.ld(n,i,null,e)}this.vt.Vn()}_d(e,n,i){const s=this.yl.mn(0);n!==void 0&&i!==void 0&&this.yl.bt(n,i);const r=this.yl.mn(0),l=this.yl.Eu(),o=this.yl.Xs();if(o!==null&&s!==null&&r!==null){const a=o.Kr(l),u=this.q_.key(s)>this.q_.key(r),h=e!==null&&e>l&&!u,c=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=a&&(i!==void 0||c)&&this.yl.W().shiftVisibleRangeOnNewBar;if(h&&!f){const g=e-l;this.yl.Jn(this.yl.Hu()-g)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const n=this.yc.find(i=>i.Uo().includes(e));return n===void 0?null:n}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,n,i){const s=this.yc[0],r=this.fd(n,e,s,i);return this.Cc.push(r),this.Cc.length===1?this.Kl():this.Uh(),r}vd(e){const n=this.dr(e),i=this.Cc.indexOf(e);yn(i!==-1,"Series not found"),this.Cc.splice(i,1),z(n).Zo(e),e.S&&e.S()}Xl(e,n){const i=z(this.dr(e));i.Zo(e);const s=this.Uc(n);if(s===null){const r=e.Xi();i.qo(e,n,r)}else{const r=s.Ht===i?e.Xi():void 0;s.Ht.qo(e,n,r)}}hc(){const e=Ce.ss();e.$n(),this.Nc(e)}pd(e){const n=Ce.ss();n.Yn(e),this.Nc(n)}Kn(){const e=Ce.ss();e.Kn(),this.Nc(e)}Gn(e){const n=Ce.ss();n.Gn(e),this.Nc(n)}Jn(e){const n=Ce.ss();n.Jn(e),this.Nc(n)}Zn(e){const n=Ce.ss();n.Zn(e),this.Nc(n)}Un(){const e=Ce.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const n=this.Ec,i=this.zc;if(n===i)return n;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==i||this.Dc.Rs!==n)this.Dc={Ps:i,Rs:n,wd:new Map};else{const r=this.Dc.wd.get(e);if(r!==void 0)return r}const s=function(r,l,o){const[a,u,h,c]=Is(r),[f,g,p,m]=Is(l),w=[rt(a+o*(f-a)),rt(u+o*(g-u)),rt(h+o*(p-h)),jg(c+o*(m-c))];return`rgba(${w[0]}, ${w[1]}, ${w[2]}, ${w[3]})`}(i,n,e/100);return this.Dc.wd.set(e,s),s}Gc(e,n){const i=new Ce(n);if(e!==null){const s=this.yc.indexOf(e);i.Nn(s,{Fn:n})}return i}Fc(e,n){return n===void 0&&(n=2),this.Gc(this.dr(e),n)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(n=>n.j_().qh().bt())}fd(e,n,i,s){const r=new Nc(this,e,n,i,s),l=e.priceScaleId!==void 0?e.priceScaleId:this.md();return i.qo(r,l),io(l)||r.$h(e),r}Lc(e){const n=this.cn.layout;return n.background.type==="gradient"?e===0?n.background.topColor:n.background.bottomColor:n.background.color}}function du(t){return!jt(t)&&!tr(t)}function Jg(t){return jt(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(Ff||(Ff={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(Vf||(Vf={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(fu||(fu={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Bf||(Bf={}));const Wf=t=>t.getUTCFullYear();function ab(t,e,n){return e.replace(/yyyy/g,(i=>Bt(Wf(i),4))(t)).replace(/yy/g,(i=>Bt(Wf(i)%100,2))(t)).replace(/MMMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(t,n)).replace(/MMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(t,n)).replace(/MM/g,(i=>Bt((s=>s.getUTCMonth()+1)(i),2))(t)).replace(/dd/g,(i=>Bt((s=>s.getUTCDate())(i),2))(t))}class Yg{constructor(e="yyyy-MM-dd",n="default"){this.gd=e,this.Md=n}Y_(e){return ab(e,this.gd,this.Md)}}class ub{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",Bt(e.getUTCHours(),2)).replace("%m",Bt(e.getUTCMinutes(),2)).replace("%s",Bt(e.getUTCSeconds(),2))}}const cb={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class hb{constructor(e={}){const n=Object.assign(Object.assign({},cb),e);this.Td=new Yg(n.Sd,n.Cd),this.Pd=new ub(n.kd),this.Rd=n.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function zr(t){return 60*t*60*1e3}function Jo(t){return 60*t*1e3}const Mr=[{Dd:(Uf=1,1e3*Uf),Vd:10},{Dd:Jo(1),Vd:20},{Dd:Jo(5),Vd:21},{Dd:Jo(30),Vd:22},{Dd:zr(1),Vd:30},{Dd:zr(3),Vd:31},{Dd:zr(6),Vd:32},{Dd:zr(12),Vd:33}];var Uf;function Hf(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let n=Mr.length-1;n>=0;--n)if(Math.floor(e.getTime()/Mr[n].Dd)!==Math.floor(t.getTime()/Mr[n].Dd))return Mr[n].Vd;return 0}function Yo(t){let e=t;if(tr(t)&&(e=zc(t)),!du(e))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(n.getTime()/1e3),Bd:e}}function Kf(t){if(!Jg(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function zc(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function Xf(t){tr(t.time)&&(t.time=zc(t.time))}class qf{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(n){n.forEach(Xf)}(e):Xf(e)}createConverterToInternalObj(e){return z(function(n){return n.length===0?null:du(n[0].time)||tr(n[0].time)?Yo:Kf}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const n=e;return n.Bd===void 0?new Date(1e3*n.Od).getTime():new Date(Date.UTC(n.Bd.year,n.Bd.month-1,n.Bd.day)).getTime()}convertHorzItemToInternal(e){return Jg(n=e)?Kf(n):du(n)?Yo(n):Yo(zc(n));var n}updateFormatter(e){if(!this.cn)return;const n=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new hb({Sd:n,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new Yg(n,e.locale)}formatHorzItem(e){const n=e;return this.Ad.Y_(new Date(1e3*n.Od))}formatTickmark(e,n){const i=function(r,l,o){switch(r){case 0:case 10:return l?o?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return l?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),s=this.cn.timeScale;if(s.tickMarkFormatter!==void 0){const r=s.tickMarkFormatter(e.originalTime,i,n.locale);if(r!==null)return r}return function(r,l,o){const a={};switch(l){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}const u=r.Bd===void 0?new Date(1e3*r.Od):new Date(Date.UTC(r.Bd.year,r.Bd.month-1,r.Bd.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(o,a)}(e.time,i,n.locale)}maxTickMarkWeight(e){let n=e.reduce(tb,e[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(e,n){(function(i,s=0){if(i.length===0)return;let r=s===0?null:i[s-1].time.Od,l=r!==null?new Date(1e3*r):null,o=0;for(let a=s;a<i.length;++a){const u=i[a],h=new Date(1e3*u.time.Od);l!==null&&(u.timeWeight=Hf(h,l)),o+=u.time.Od-(r||u.time.Od),r=u.time.Od,l=h}if(s===0&&i.length>1){const a=Math.ceil(o/(i.length-1)),u=new Date(1e3*(i[0].time.Od-a));i[0].timeWeight=Hf(new Date(1e3*i[0].time.Od),u)}})(e,n)}static Id(e){return St({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Ti=typeof window<"u";function Gf(){return!!Ti&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Zo(){return!!Ti&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function pu(t){return t+t%2}function ea(t,e){return t.zd-e.zd}function ta(t,e,n){const i=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(i)*Math.min(Math.abs(i),n)}class fb{constructor(e,n,i,s){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=n,this.qd=i,this.rs=s}Yd(e,n){if(this.Ld!==null){if(this.Ld.ot===n)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:n,zd:e}}Vr(e,n){if(this.Ld===null||this.Ed===null||n-this.Ld.ot>50)return;let i=0;const s=ta(this.Ld,this.Ed,this.Ud),r=ea(this.Ld,this.Ed),l=[s],o=[r];if(i+=r,this.Nd!==null){const u=ta(this.Ed,this.Nd,this.Ud);if(Math.sign(u)===Math.sign(s)){const h=ea(this.Ed,this.Nd);if(l.push(u),o.push(h),i+=h,this.Fd!==null){const c=ta(this.Nd,this.Fd,this.Ud);if(Math.sign(c)===Math.sign(s)){const f=ea(this.Nd,this.Fd);l.push(c),o.push(f),i+=f}}}}let a=0;for(let u=0;u<l.length;++u)a+=o[u]/i*l[u];Math.abs(a)<this.$d||(this.Wd={zd:e,ot:n},this.Hd=a,this.jd=function(u,h){const c=Math.log(h);return Math.log(1*c/-u)/c}(Math.abs(a),this.qd))}tc(e){const n=z(this.Wd),i=e-n.ot;return n.zd+this.Hd*(Math.pow(this.qd,i)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const n=e-z(this.Wd).ot;return Math.min(n,this.jd)}}class db{constructor(e,n){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=n,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return Tg(Is(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function Xn(t,e){const n=z(t.ownerDocument).createElement("canvas");t.appendChild(n);const i=E1(n,{options:{allowResizeObserver:!1},transform:(s,r)=>({width:Math.max(s.width,r.width),height:Math.max(s.height,r.height)})});return i.resizeCanvasElement(e),i}function qn(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function mu(t,e,n,i){t.gl&&t.gl(e,n,i)}function Jr(t,e,n,i){t.X(e,n,i)}function gu(t,e,n,i){const s=t(n,i);for(const r of s){const l=r.gt();l!==null&&e(l)}}function pb(t){Ti&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Mc{constructor(e,n,i){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!Zo(),this.Af=s=>{this.If(s)},this.zf=s=>{if(this.Lf(s)){const r=this.Ef(s);if(++this._f,this.uf&&this._f>1){const{Nf:l}=this.Ff(Mt(s),this.cf);l<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}}else{const r=this.Ef(s);if(++this.hf,this.lf&&this.hf>1){const{Nf:l}=this.Ff(Mt(s),this.af);l<5&&!this.bf&&this.Uf(r,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=n,this.cn=i,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const n=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",n)},this.Zf.addEventListener("mousemove",n),this.Lf(e))return;const i=this.Ef(e);this.Uf(i,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const n=this.Ef(e);this.Uf(n,this.Hf.tv),this.Bf=!0}iv(e){const n=na(e.changedTouches,z(this.Of));if(n===null||(this.Vf=Rr(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const i=this.Ff(Mt(n),z(this.pf)),{nv:s,sv:r,Nf:l}=i;if(this.mf||!(l<5)){if(!this.mf){const o=.5*s,a=r>=o&&!this.cn.ev(),u=o>r&&!this.cn.rv();a||u||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const o=this.Ef(e,n);this.Wf(o,this.Hf.hv),Zn(e)}}}lv(e){if(e.button!==0)return;const n=this.Ff(Mt(e),z(this.vf)),{Nf:i}=n;if(i>=5&&(this.bf=!0,this.Yf()),this.bf){const s=this.Ef(e);this.Uf(s,this.Hf.av)}}Ff(e,n){const i=Math.abs(n.nt-e.nt),s=Math.abs(n.st-e.st);return{nv:i,sv:s,Nf:i+s}}ov(e){let n=na(e.changedTouches,z(this.Of));if(n===null&&e.touches.length===0&&(n=e.changedTouches[0]),n===null)return;this.Of=null,this.Vf=Rr(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const i=this.Ef(e,n);if(this.Wf(i,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:s}=this.Ff(Mt(n),this.cf);s<30&&!this.wf&&this.Wf(i,this.Hf.jf),this.$f()}else this.wf||(this.Wf(i,this.Hf.uv),this.Hf.uv&&Zn(e));this._f===0&&Zn(e),e.touches.length===0&&this.ff&&(this.ff=!1,Zn(e))}If(e){if(e.button!==0)return;const n=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),Gf()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(n,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:i}=this.Ff(Mt(e),this.af);i<5&&!this.bf&&this.Uf(n,this.Hf.qf),this.Yf()}else this.bf||this.Uf(n,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const n=e.changedTouches[0];this.Of=n.identifier,this.Vf=Rr(e);const i=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=Mt(n),this.yf&&(this.yf(),this.yf=null);{const r=this.iv.bind(this),l=this.ov.bind(this);this.yf=()=>{i.removeEventListener("touchmove",r),i.removeEventListener("touchend",l)},i.addEventListener("touchmove",r,{passive:!1}),i.addEventListener("touchend",l,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const s=this.Ef(e,n);this.Wf(s,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=Mt(n))}mv(e){if(e.button!==0)return;const n=this.Zf.ownerDocument.documentElement;Gf()&&n.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=Mt(e),this.kf&&(this.kf(),this.kf=null);{const s=this.lv.bind(this),r=this.If.bind(this);this.kf=()=>{n.removeEventListener("mousemove",s),n.removeEventListener("mouseup",r)},n.addEventListener("mousemove",s),n.addEventListener("mouseup",r)}if(this.Df=!0,this.Lf(e))return;const i=this.Ef(e);this.Uf(i,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=Mt(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,n=i=>{this.Hf.wv&&(i.composed&&this.Zf.contains(i.composedPath()[0])||i.target&&this.Zf.contains(i.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",n)},this.gf=()=>{e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0})}Zo()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),pb(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const n=Qf(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,n),Zn(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const n=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-n.left+(e[1].clientX-n.left))/2,st:(e[0].clientY-n.top+(e[1].clientY-n.top))/2},this.Tf=Qf(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const n=this.Ef(e);this.Uf(n,this.Hf.Pv),this.Bf=!Zo()}vv(e){const n=na(e.touches,z(this.Of));if(n===null)return;const i=this.Ef(e,n);this.Wf(i,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:Rr(e)<this.Vf+500}Wf(e,n){n&&n.call(this.Hf,e)}Uf(e,n){n&&n.call(this.Hf,e)}Ef(e,n){const i=n||e,s=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-s.left,localY:i.clientY-s.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:i.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&Zn(e)}}}}function Qf(t,e){const n=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(n*n+i*i)}function Zn(t){t.cancelable&&t.preventDefault()}function Mt(t){return{nt:t.pageX,st:t.pageY}}function Rr(t){return t.timeStamp||performance.now()}function na(t,e){for(let n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}function Pr(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function mb(t,e,n){for(const i of t){const s=i.gt();if(s!==null&&s.wr){const r=s.wr(e,n);if(r!==null)return{Bv:i,Iv:r}}}return null}function ia(t,e){return n=>{var i,s,r,l;return((s=(i=n.Dt())===null||i===void 0?void 0:i.Pa())!==null&&s!==void 0?s:"")!==e?[]:(l=(r=n.da)===null||r===void 0?void 0:r.call(n,t))!==null&&l!==void 0?l:[]}}function Jf(t,e,n,i){if(!t.length)return;let s=0;const r=n/2,l=t[0].At(i,!0);let o=e===1?r-(t[0].Vi()-l/2):t[0].Vi()-l/2-r;o=Math.max(0,o);for(let a=1;a<t.length;a++){const u=t[a],h=t[a-1],c=h.At(i,!1),f=u.Vi(),g=h.Vi();if(e===1?f>g-c:f<g+c){const p=g-c*e;u.Oi(p);const m=p-e*c/2;if((e===1?m<0:m>n)&&o>0){const w=e===1?-1-m:m-n,v=Math.min(w,o);for(let y=s;y<t.length;y++)t[y].Oi(t[y].Vi()+e*v);o-=v}}else s=a,o=e===1?g-c-f:f-(g+c)}}class Yf{constructor(e,n,i,s){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new Bs(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=n,this.ko=n.layout,this.Oc=i,this.qv=s==="left",this.Yv=ia("normal",s),this.Zv=ia("top",s),this.Xv=ia("bottom",s),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=Xn(this.Kv,ie({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=Xn(this.Kv,ie({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const l=this.Jv.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0";const o={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new Mc(this.Jv.canvasElement,o,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),qn(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),qn(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const n=this.ap(),i=z(this.Gv.canvasElement.getContext("2d"));i.save();const s=this.Li.Ha();i.font=this._p(),s.length>0&&(e=Math.max(this.Fv.xi(i,s[0].so),this.Fv.xi(i,s[s.length-1].so)));const r=this.up();for(let u=r.length;u--;){const h=this.Fv.xi(i,r[u].Kt());h>e&&(e=h)}const l=this.Li.Ct();if(l!==null&&this.Ev!==null&&(o=this.cn.crosshair).mode!==2&&o.horzLine.visible&&o.horzLine.labelVisible){const u=this.Li.pn(1,l),h=this.Li.pn(this.Ev.height-2,l);e=Math.max(e,this.Fv.xi(i,this.Li.Fi(Math.floor(Math.min(u,h))+.11111111111111,l)),this.Fv.xi(i,this.Li.Fi(Math.ceil(Math.max(u,h))-.11111111111111,l)))}var o;i.restore();const a=e||34;return pu(Math.ceil(n.C+n.T+n.A+n.I+5+a))}cp(e){this.Ev!==null&&On(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return z(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,z(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const i=Hn(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s)}),this.tn.bp(i,this.Xv),this.wp(i),this.tn.bp(i,this.Yv),this.gp(i))}this.Jv.applySuggestedBitmapSize();const n=Hn(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.Mp(n),this.tn.bp(n,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,n,i){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,n,i)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!0,n.V_(i,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),i=this.tn.fp(),s=this.Li;n.O_(i,s,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp(),i=this.Li;this.Nv&&(this.Nv=!1,e.B_(n,i))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!1,n.B_(i,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],n=this.Li===null?void 0:this.Li;return(i=>{for(let s=0;s<i.length;++s){const r=i[s].Rn(this.tn.fp(),n);for(let l=0;l<r.length;l++)e.push(r[l])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:n}){const{width:i,height:s}=n,r=this.tn.fp().$t(),l=r.q(),o=r.bd();l===o?to(e,0,0,i,s,l):Lg(e,0,0,i,s,l,o)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:i}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const s=Math.max(1,Math.floor(this.ap().C*i));let r;r=this.qv?n.width-s:0,e.fillRect(r,0,s,n.height)}wp(e){if(this.Ev===null||this.Li===null)return;const n=this.Li.Ha(),i=this.Li.W(),s=this.ap(),r=this.qv?this.Ev.width-s.T:0;i.borderVisible&&i.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:o,verticalPixelRatio:a})=>{l.fillStyle=i.borderColor;const u=Math.max(1,Math.floor(a)),h=Math.floor(.5*a),c=Math.round(s.T*o);l.beginPath();for(const f of n)l.rect(Math.floor(r*o),Math.round(f.Ea*a)-h,c,u);l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{var o;l.font=this._p(),l.fillStyle=(o=i.textColor)!==null&&o!==void 0?o:this.ko.textColor,l.textAlign=this.qv?"right":"left",l.textBaseline="middle";const a=this.qv?Math.round(r-s.A):Math.round(r+s.T+s.A),u=n.map(h=>this.Fv.Mi(l,h.so));for(let h=n.length;h--;){const c=n[h];l.fillText(c.so,a,c.Ea+u[h])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],n=this.Li.Uo().slice(),i=this.tn.fp(),s=this.ap();this.Li===i.pr()&&this.tn.fp().Uo().forEach(l=>{i.vr(l)&&n.push(l)});const r=this.Li;n.forEach(l=>{l.Rn(i,r).forEach(o=>{o.Oi(null),o.Bi()&&e.push(o)})}),e.forEach(l=>l.Oi(l.ki())),this.Li.W().alignLabels&&this.yp(e,s)}yp(e,n){if(this.Ev===null)return;const i=this.Ev.height/2,s=e.filter(l=>l.ki()<=i),r=e.filter(l=>l.ki()>i);s.sort((l,o)=>o.ki()-l.ki()),r.sort((l,o)=>l.ki()-o.ki());for(const l of e){const o=Math.floor(l.At(n)/2),a=l.ki();a>-o&&a<o&&l.Oi(o),a>this.Ev.height-o&&a<this.Ev.height+o&&l.Oi(this.Ev.height-o)}Jf(s,1,this.Ev.height,n),Jf(r,-1,this.Ev.height,n)}gp(e){if(this.Ev===null)return;const n=this.up(),i=this.ap(),s=this.qv?"right":"left";n.forEach(r=>{r.Ai()&&r.gt(z(this.Li)).X(e,i,this.Fv,s)})}Mp(e){if(this.Ev===null||this.Li===null)return;const n=this.tn.$v().$t(),i=[],s=this.tn.fp(),r=n.Zc().Rn(s,this.Li);r.length&&i.push(r);const l=this.ap(),o=this.qv?"right":"left";i.forEach(a=>{a.forEach(u=>{u.gt(z(this.Li)).X(e,l,this.Fv,o)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return ji(this.ko.fontSize,this.ko.fontFamily)}}function gb(t,e){var n,i;return(i=(n=t.ua)===null||n===void 0?void 0:n.call(t,e))!==null&&i!==void 0?i:[]}function jr(t,e){var n,i;return(i=(n=t.Pn)===null||n===void 0?void 0:n.call(t,e))!==null&&i!==void 0?i:[]}function vb(t,e){var n,i;return(i=(n=t.Ji)===null||n===void 0?void 0:n.call(t,e))!==null&&i!==void 0?i:[]}function yb(t,e){var n,i;return(i=(n=t.aa)===null||n===void 0?void 0:n.call(t,e))!==null&&i!==void 0?i:[]}class Rc{constructor(e,n){this.Ev=ie({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new ve,this.Op=new ve,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=n,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(i),this.Gv=Xn(i,ie({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jv=Xn(i,ie({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const r=this.Jv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new Mc(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),qn(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),qn(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return z(this.Np)}qp(e){var n,i;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l(Rc.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(n=this.Pp)!==null&&n!==void 0?n:new db(this.Wp,this.Qd),this.Pp.bt()):((i=this.Pp)===null||i===void 0||i.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(z(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(z(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const n=e.localX,i=e.localY;this.Gp(n,i,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var n;if(!this.Np)return;this.Kp();const i=e.localX,s=e.localY;this.Gp(i,s,e);const r=this.wr(i,s);this.Qd.Qp((n=r==null?void 0:r.Lv)!==null&&n!==void 0?n:null),this.$i().jc(r&&{Hc:r.Hc,Iv:r.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const n={x:e.localX,y:e.localY};this.rm(n,n,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,n){if(!this.Qd.W().handleScale.pinch)return;const i=5*(n-this.Bp);this.Bp=n,this.$i().Qc(e.nt,i)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const n=this.$i().Zc();this.Ip!==null&&n.yt()&&(this.Lp={x:n.Yt(),y:n.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const n=e.localX,i=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const s=z(this.Lp),r=s.x+(n-this.Ip.x),l=s.y+(i-this.Ip.y);this.Gp(r,l,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,n){const i=this.Np;return i===null?null:function(s,r,l){const o=s.Uo(),a=function(u,h,c){var f,g;let p,m;for(const y of u){const x=(g=(f=y.va)===null||f===void 0?void 0:f.call(y,h,c))!==null&&g!==void 0?g:[];for(const b of x)w=b.zOrder,(!(v=p==null?void 0:p.zOrder)||w==="top"&&v!=="top"||w==="normal"&&v==="bottom")&&(p=b,m=y)}var w,v;return p&&m?{zv:p,Hc:m}:null}(o,r,l);if((a==null?void 0:a.zv.zOrder)==="top")return Pr(a);for(const u of o){if(a&&a.Hc===u&&a.zv.zOrder!=="bottom"&&!a.zv.isBackground)return Pr(a);const h=mb(u.Pn(s),r,l);if(h!==null)return{Hc:u,Bv:h.Bv,Iv:h.Iv};if(a&&a.Hc===u&&a.zv.zOrder!=="bottom"&&a.zv.isBackground)return Pr(a)}return a!=null&&a.zv?Pr(a):null}(i,e,n)}_m(e,n){z(n==="left"?this.Cp:this.Tp).cp(ie({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){On(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=z(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const n of e.Ba())if(e.vr(n)){const i=n.Dt();i!==null&&e.P_(i),n.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,n,i){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,n,i)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const i=Hn(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.mp(s)}),this.Np&&(this.fm(i,gb),this.vm(i),this.pm(i),this.fm(i,jr),this.fm(i,vb)))}this.Jv.applySuggestedBitmapSize();const n=Hn(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.bm(n),this.fm(n,yb))}wm(){return this.Cp}gm(){return this.Tp}bp(e,n){this.fm(e,n)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,n){const i=n.localX,s=n.localY;e.M()&&e.m(this.$i().St().Nu(i),{x:i,y:s},n)}mp({context:e,bitmapSize:n}){const{width:i,height:s}=n,r=this.$i(),l=r.q(),o=r.bd();l===o?to(e,0,0,i,s,o):Lg(e,0,0,i,s,l,o)}vm(e){const n=z(this.Np).j_().qh().gt();n!==null&&n.X(e,!1)}pm(e){const n=this.$i().Yc();this.Mm(e,jr,mu,n),this.Mm(e,jr,Jr,n)}bm(e){this.Mm(e,jr,Jr,this.$i().Zc())}fm(e,n){const i=z(this.Np).Uo();for(const s of i)this.Mm(e,n,mu,s);for(const s of i)this.Mm(e,n,Jr,s)}Mm(e,n,i,s){const r=z(this.Np),l=r.$t().Wc(),o=l!==null&&l.Hc===s,a=l!==null&&o&&l.Iv!==void 0?l.Iv.Mr:void 0;gu(n,u=>i(u,e,o,a),s,r)}Zp(){if(this.Np===null)return;const e=this.Qd,n=this.Np.R_().W().visible,i=this.Np.D_().W().visible;n||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),i||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const s=e.$t().ud();n&&this.Cp===null&&(this.Cp=new Yf(this,e.W(),s,"left"),this.jp.appendChild(this.Cp.lp())),i&&this.Tp===null&&(this.Tp=new Yf(this,e.W(),s,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,n,i){this.$i().ld(this.Sm(e),this.km(n),i,z(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,n,i){this.Ip=e,this.zp=!1,this.Gp(n.x,n.y,i);const s=this.$i().Zc();this.Lp={x:s.Yt(),y:s.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const n=this.$i(),i=this.fp();if(n.z_(i,i.vn()),this.Rp=null,this.Dp=!1,n.ed(),this.Ep!==null){const s=performance.now(),r=n.St();this.Ep.Vr(r.Hu(),s),this.Ep.Qu(s)||n.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)z(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const n=this.$i(),i=n.St();if(i.Ni())return;const s=this.Qd.W(),r=s.handleScroll,l=s.kineticScroll;if((!r.pressedMouseMove||e.Dv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!e.Dv))return;const o=this.Np.vn(),a=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:a,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&l.touch||!e.Dv&&l.mouse){const u=i.le();this.Ep=new fb(.2/u,7/u,.997,15/u),this.Ep.Yd(i.Hu(),this.Rp.Od)}else this.Ep=null;o.Ni()||n.A_(this.Np,o,e.localY),n.nd(e.localX),this.Dp=!0}this.Dp&&(o.Ni()||n.I_(this.Np,o,e.localY),n.sd(e.localX),this.Ep!==null&&this.Ep.Yd(i.Hu(),a))}}class Zf{constructor(e,n,i,s,r){this.ft=!0,this.Ev=ie({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=i.ud,this.cn=n,this.Tm=s,this.Pm=r,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=Xn(this.Kv,ie({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),qn(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){On(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const n=Hn(this.Gv);n!==null&&n.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i)})}xp(){return this.Gv.bitmapSize}Sp(e,n,i){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,n,i)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const r=Math.floor(this.Oc.W().C*i),l=Math.floor(this.Oc.W().C*s),o=this.qv?n.width-r:0;e.fillRect(o,0,r,l)}mp({context:e,bitmapSize:n}){to(e,0,0,n.width,n.height,this.Pm())}}function Pc(t){return e=>{var n,i;return(i=(n=e.fa)===null||n===void 0?void 0:n.call(e,t))!==null&&i!==void 0?i:[]}}const xb=Pc("normal"),wb=Pc("top"),Sb=Pc("bottom");class bb{constructor(e,n){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=ie({width:0,height:0}),this.Om=new ve,this.Fv=new Bs(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=n,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=Xn(this.Im,ie({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=Xn(this.Im,ie({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const s=this.Jv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new Mc(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),qn(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),qn(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,n,i){On(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(ie({width:n,height:e.height})),this.Dm!==null&&this.Dm.cp(ie({width:i,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,n,i){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,n,i)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const i=Hn(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s),this.$m(i,Sb)}),this.wp(i),this.$m(i,xb)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const n=Hn(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],n),this.$m(n,wb))}$m(e,n){const i=this.Qd.$t().wt();for(const s of i)gu(n,r=>mu(r,e,!1,void 0),s,void 0);for(const s of i)gu(n,r=>Jr(r,e,!1,void 0),s,void 0)}mp({context:e,bitmapSize:n}){to(e,0,0,n.width,n.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:n,verticalPixelRatio:i}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const s=Math.max(1,Math.floor(this.jm().C*i));e.fillRect(0,0,n.width,s)}}wp(e){const n=this.Qd.$t().St(),i=n.Ha();if(!i||i.length===0)return;const s=this.q_.maxTickMarkWeight(i),r=this.jm(),l=n.W();l.borderVisible&&l.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:a,verticalPixelRatio:u})=>{o.strokeStyle=this.qm(),o.fillStyle=this.qm();const h=Math.max(1,Math.floor(a)),c=Math.floor(.5*a);o.beginPath();const f=Math.round(r.T*u);for(let g=i.length;g--;){const p=Math.round(i[g].coord*a);o.rect(p-c,0,h,f)}o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{const a=r.C+r.T+r.L+r.P/2;o.textAlign="center",o.textBaseline="middle",o.fillStyle=this.$(),o.font=this._p();for(const u of i)if(u.weight<s){const h=u.needAlignCoordinate?this.Ym(o,u.coord,u.label):u.coord;o.fillText(u.label,h,a)}this.Qd.W().timeScale.allowBoldLabels&&(o.font=this.Zm());for(const u of i)if(u.weight>=s){const h=u.needAlignCoordinate?this.Ym(o,u.coord,u.label):u.coord;o.fillText(u.label,h,a)}})}Ym(e,n,i){const s=this.Fv.xi(e,i),r=s/2,l=Math.floor(n-r)+.5;return l<0?n+=Math.abs(0-l):l+s>this.Ev.width&&(n-=Math.abs(this.Ev.width-(l+s))),n}Um(e,n){const i=this.jm();for(const s of e)for(const r of s.Qi())r.gt().X(n,i)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return ji(this.j(),this.cn.fontFamily)}Zm(){return ji(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new Bs,Hm:0});const e=this.k,n=this._p();if(e.R!==n){const i=this.j();e.P=i,e.R=n,e.L=3*i/12,e.B=3*i/12,e.ji=9*i/12,e.N=0,e.Hm=4*i/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),n=e.W();n.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),n.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const i={ud:this.Qd.$t().ud()},s=()=>n.leftPriceScale.borderVisible&&e.St().W().borderVisible,r=()=>e.bd();n.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new Zf("left",n,i,s,r),this.Bm.appendChild(this.Rm.lp())),n.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new Zf("right",n,i,s,r),this.Am.appendChild(this.Dm.lp()))}}const _b=!!Ti&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Ti&&(!((sa=navigator==null?void 0:navigator.userAgentData)===null||sa===void 0)&&sa.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var sa;class Eb{constructor(e,n,i){var s;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new ve,this.Op=new ve,this.Rc=new ve,this.ib=null,this.nb=null,this.Jd=e,this.cn=n,this.q_=i,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(s=this.Xd).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),ra(this.cn)&&this.hb(!0),this.$i=new ob(this.Vc.bind(this),this.cn,i),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new bb(this,this.q_),this.sb.appendChild(this.ab.lp());const r=n.autoSize&&this.ob();let l=this.cn.width,o=this.cn.height;if(r||l===0||o===0){const a=e.getBoundingClientRect();l=l||a.width,o=o||a.height}this._b(l,o),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],z(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,n,i=!1){if(this.ho===n&&this.__===e)return;const s=function(o){const a=Math.floor(o.width),u=Math.floor(o.height);return ie({width:a-a%2,height:u-u%2})}(ie({width:e,height:n}));this.ho=s.height,this.__=s.width;const r=this.ho+"px",l=this.__+"px";z(this.Xd).style.height=r,z(this.Xd).style.width=l,this.sb.style.height=r,this.sb.style.width=l,i?this.mb(Ce.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=Ce.es());for(let n=0;n<this.Xm.length;n++)this.Xm[n].vp(e.Hn(n).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const n=ra(this.cn);this.$i.$h(e);const i=ra(this.cn);i!==n&&this.hb(i),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),n=document.createElement("canvas");n.width=e.width,n.height=e.height;const i=z(n.getContext("2d"));return this.gb(i),n}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:z(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return Oe(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let n=0,i=0;const s=this.Xm[0],r=(o,a)=>{let u=0;for(let h=0;h<this.Xm.length;h++){const c=this.Xm[h],f=z(o==="left"?c.wm():c.gm()),g=f.xp();e!==null&&f.Sp(e,a,u),u+=g.height}};this.xb()&&(r("left",0),n+=z(s.wm()).xp().width);for(let o=0;o<this.Xm.length;o++){const a=this.Xm[o],u=a.xp();e!==null&&a.Sp(e,n,i),i+=u.height}n+=s.xp().width,this.Sb()&&(r("right",n),n+=z(s.gm()).xp().width);const l=(o,a,u)=>{z(o==="left"?this.ab.Lm():this.ab.Em()).Sp(z(e),a,u)};if(this.cn.timeScale.visible){const o=this.ab.xp();if(e!==null){let a=0;this.xb()&&(l("left",a,i),a=z(s.wm()).xp().width),this.ab.Sp(e,a,i),a+=o.width,this.Sb()&&l("right",a,i)}i+=o.height}return ie({width:n,height:i})}Pb(){let e=0,n=0,i=0;for(const p of this.Xm)this.xb()&&(n=Math.max(n,z(p.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(i=Math.max(i,z(p.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=p.M_();n=pu(n),i=pu(i);const s=this.__,r=this.ho,l=Math.max(s-n-i,0),o=this.cn.timeScale.visible;let a=o?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var u;a=(u=a)+u%2;const h=0+a,c=r<h?0:r-h,f=c/e;let g=0;for(let p=0;p<this.Xm.length;++p){const m=this.Xm[p];m.qp(this.$i.qc()[p]);let w=0,v=0;v=p===this.Xm.length-1?c-g:Math.round(m.M_()*f),w=Math.max(v,2),g+=w,m.cp(ie({width:l,height:w})),this.xb()&&m._m(n,"left"),this.Sb()&&m._m(i,"right"),m.fp()&&this.$i.Kc(m.fp(),w)}this.ab.Fm(ie({width:o?l:0,height:a}),o?n:0,o?i:0),this.$i.S_(l),this.Gm!==n&&(this.Gm=n),this.Jm!==i&&(this.Jm=i)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return _b?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const n=this.Rb(e),i=n*e.deltaX/100,s=-n*e.deltaY/100;if(e.cancelable&&e.preventDefault(),s!==0&&this.cn.handleScale.mouseWheel){const r=Math.sign(s)*Math.min(1,Math.abs(s)),l=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(l,r)}i!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*i)}mb(e,n){var i;const s=e.jn();s===3&&this.Db(),s!==3&&s!==2||(this.Vb(e),this.Ob(e,n),this.ab.bt(),this.Xm.forEach(r=>{r.Xp()}),((i=this.Qm)===null||i===void 0?void 0:i.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,n),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,n){for(const i of e.Qn())this.ns(i,n)}Vb(e){const n=this.$i.qc();for(let i=0;i<n.length;i++)e.Hn(i).Wn&&n[i].N_()}ns(e,n){const i=this.$i.St();switch(e.qn){case 0:i.hc();break;case 1:i.lc(e.Vt);break;case 2:i.Gn(e.Vt);break;case 3:i.Jn(e.Vt);break;case 4:i.qu();break;case 5:e.Vt.Qu(n)||i.Jn(e.Vt.tc(n))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(n=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const i=this.Qm;this.Qm=null,this.mb(i,n);for(const s of i.Qn())if(s.qn===5&&!s.Vt.Qu(n)){this.$t().Zn(s.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),n=e.length,i=this.Xm.length;for(let s=n;s<i;s++){const r=Oe(this.Xm.pop());this.sb.removeChild(r.lp()),r.lm().p(this),r.am().p(this),r.S()}for(let s=i;s<n;s++){const r=new Rc(this,e[s]);r.lm().l(this.Bb.bind(this),this),r.am().l(this.Ab.bind(this),this),this.Xm.push(r),this.sb.insertBefore(r.lp(),this.ab.lp())}for(let s=0;s<n;s++){const r=e[s],l=this.Xm[s];l.fp()!==r?l.qp(r):l.Up()}this.cb(),this.Pb()}Ib(e,n,i){var s;const r=new Map;e!==null&&this.$i.wt().forEach(h=>{const c=h.In().ll(e);c!==null&&r.set(h,c)});let l;if(e!==null){const h=(s=this.$i.St().Ui(e))===null||s===void 0?void 0:s.originalTime;h!==void 0&&(l=h)}const o=this.$t().Wc(),a=o!==null&&o.Hc instanceof Nc?o.Hc:void 0,u=o!==null&&o.Iv!==void 0?o.Iv.gr:void 0;return{zb:l,ee:e??void 0,Lb:n??void 0,Eb:a,Nb:r,Fb:u,Wb:i??void 0}}Bb(e,n,i){this.Vp.m(()=>this.Ib(e,n,i))}Ab(e,n,i){this.Op.m(()=>this.Ib(e,n,i))}lb(e,n,i){this.Rc.m(()=>this.Ib(e,n,i))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const n=e.find(i=>i.target===this.Jd);n&&this._b(n.contentRect.width,n.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function ra(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function Cb(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function Zg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n}function ed(t,e,n,i){const s=n.value,r={ee:e,ot:t,Vt:[s,s,s,s],zb:i};return n.color!==void 0&&(r.V=n.color),r}function kb(t,e,n,i){const s=n.value,r={ee:e,ot:t,Vt:[s,s,s,s],zb:i};return n.lineColor!==void 0&&(r.lt=n.lineColor),n.topColor!==void 0&&(r.Ps=n.topColor),n.bottomColor!==void 0&&(r.Rs=n.bottomColor),r}function Nb(t,e,n,i){const s=n.value,r={ee:e,ot:t,Vt:[s,s,s,s],zb:i};return n.topLineColor!==void 0&&(r.Re=n.topLineColor),n.bottomLineColor!==void 0&&(r.De=n.bottomLineColor),n.topFillColor1!==void 0&&(r.ke=n.topFillColor1),n.topFillColor2!==void 0&&(r.ye=n.topFillColor2),n.bottomFillColor1!==void 0&&(r.Ce=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(r.Te=n.bottomFillColor2),r}function zb(t,e,n,i){const s={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:i};return n.color!==void 0&&(s.V=n.color),s}function Mb(t,e,n,i){const s={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:i};return n.color!==void 0&&(s.V=n.color),n.borderColor!==void 0&&(s.Ot=n.borderColor),n.wickColor!==void 0&&(s.Xh=n.wickColor),s}function Rb(t,e,n,i,s){const r=Oe(s)(n),l=Math.max(...r),o=Math.min(...r),a=r[r.length-1],u=[a,l,o,a],h=n,{time:c,color:f}=h;return{ee:e,ot:t,Vt:u,zb:i,$e:Zg(h,["time","color"]),V:f}}function Tr(t){return t.Vt!==void 0}function td(t,e){return e.customValues!==void 0&&(t.jb=e.customValues),t}function En(t){return(e,n,i,s,r,l)=>function(o,a){return a?a(o):(u=o).open===void 0&&u.value===void 0;var u}(i,l)?td({ot:e,ee:n,zb:s},i):td(t(e,n,i,s,r),i)}function nd(t){return{Candlestick:En(Mb),Bar:En(zb),Area:En(kb),Baseline:En(Nb),Histogram:En(ed),Line:En(ed),Custom:En(Rb)}[t]}function id(t){return{ee:0,Hb:new Map,la:t}}function sd(t,e){if(t!==void 0&&t.length!==0)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function rd(t){let e;return t.forEach(n=>{e===void 0&&(e=n.zb)}),Oe(e)}class Pb{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,n){let i=this.qb.size!==0,s=!1;const r=this.Yb.get(e);if(r!==void 0)if(this.Yb.size===1)i=!1,s=!0,this.qb.clear();else for(const a of this.Xb)a.pointData.Hb.delete(e)&&(s=!0);let l=[];if(n.length!==0){const a=n.map(g=>g.time),u=this.q_.createConverterToInternalObj(n),h=nd(e.Qh()),c=e.Ca(),f=e.Ta();l=n.map((g,p)=>{const m=u(g.time),w=this.q_.key(m);let v=this.qb.get(w);v===void 0&&(v=id(m),this.qb.set(w,v),s=!0);const y=h(m,v.ee,g,a[p],c,f);return v.Hb.set(e,y),y})}i&&this.Gb(),this.Jb(e,l);let o=-1;if(s){const a=[];this.qb.forEach(u=>{a.push({timeWeight:0,time:u.la,pointData:u,originalTime:rd(u.Hb)})}),a.sort((u,h)=>this.q_.key(u.time)-this.q_.key(h.time)),o=this.Qb(a)}return this.tw(e,o,function(a,u,h){const c=sd(a,h),f=sd(u,h);if(c!==void 0&&f!==void 0)return{ta:c.Ub>=f.Ub&&c.$b>=f.$b}}(this.Yb.get(e),r,this.q_))}vd(e){return this.Kb(e,[])}iw(e,n){const i=n;(function(m){m.zb===void 0&&(m.zb=m.time)})(i),this.q_.preprocessData(n);const s=this.q_.createConverterToInternalObj([n])(n.time),r=this.Zb.get(e);if(r!==void 0&&this.q_.key(s)<this.q_.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${s}`);let l=this.qb.get(this.q_.key(s));const o=l===void 0;l===void 0&&(l=id(s),this.qb.set(this.q_.key(s),l));const a=nd(e.Qh()),u=e.Ca(),h=e.Ta(),c=a(s,l.ee,n,i.zb,u,h);l.Hb.set(e,c),this.nw(e,c);const f={ta:Tr(c)};if(!o)return this.tw(e,-1,f);const g={timeWeight:0,time:l.la,pointData:l,originalTime:rd(l.Hb)},p=nr(this.Xb,this.q_.key(g.time),(m,w)=>this.q_.key(m.time)<w);this.Xb.splice(p,0,g);for(let m=p;m<this.Xb.length;++m)la(this.Xb[m].pointData,m);return this.q_.fillWeightsForPoints(this.Xb,p),this.tw(e,p,f)}nw(e,n){let i=this.Yb.get(e);i===void 0&&(i=[],this.Yb.set(e,i));const s=i.length!==0?i[i.length-1]:null;s===null||this.q_.key(n.ot)>this.q_.key(s.ot)?Tr(n)&&i.push(n):Tr(n)?i[i.length-1]=n:i.splice(-1,1),this.Zb.set(e,n.ot)}Jb(e,n){n.length!==0?(this.Yb.set(e,n.filter(Tr)),this.Zb.set(e,n[n.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let n=-1;for(let i=0;i<this.Xb.length&&i<e.length;++i){const s=this.Xb[i],r=e[i];if(this.q_.key(s.time)!==this.q_.key(r.time)){n=i;break}r.timeWeight=s.timeWeight,la(r.pointData,i)}if(n===-1&&this.Xb.length!==e.length&&(n=Math.min(this.Xb.length,e.length)),n===-1)return-1;for(let i=n;i<e.length;++i)la(e[i].pointData,i);return this.q_.fillWeightsForPoints(e,n),this.Xb=e,n}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(n=>{n.length!==0&&(e=Math.max(e,n[n.length-1].ee))}),e}tw(e,n,i){const s={ew:new Map,St:{Eu:this.sw()}};if(n!==-1)this.Yb.forEach((r,l)=>{s.ew.set(l,{$e:r,rw:l===e?i:void 0})}),this.Yb.has(e)||s.ew.set(e,{$e:[],rw:i}),s.St.hw=this.Xb,s.St.lw=n;else{const r=this.Yb.get(e);s.ew.set(e,{$e:r||[],rw:i})}return s}}function la(t,e){t.ee=e,t.Hb.forEach(n=>{n.ee=e})}function jc(t){const e={value:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function ld(t){const e=jc(t);return t.V!==void 0&&(e.color=t.V),e}function jb(t){const e=jc(t);return t.lt!==void 0&&(e.lineColor=t.lt),t.Ps!==void 0&&(e.topColor=t.Ps),t.Rs!==void 0&&(e.bottomColor=t.Rs),e}function Tb(t){const e=jc(t);return t.Re!==void 0&&(e.topLineColor=t.Re),t.De!==void 0&&(e.bottomLineColor=t.De),t.ke!==void 0&&(e.topFillColor1=t.ke),t.ye!==void 0&&(e.topFillColor2=t.ye),t.Ce!==void 0&&(e.bottomFillColor1=t.Ce),t.Te!==void 0&&(e.bottomFillColor2=t.Te),e}function ev(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function Lb(t){const e=ev(t);return t.V!==void 0&&(e.color=t.V),e}function $b(t){const e=ev(t),{V:n,Ot:i,Xh:s}=t;return n!==void 0&&(e.color=n),i!==void 0&&(e.borderColor=i),s!==void 0&&(e.wickColor=s),e}function vu(t){return{Area:jb,Line:ld,Baseline:Tb,Histogram:ld,Bar:Lb,Candlestick:$b,Custom:Db}[t]}function Db(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const Ob={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Ab={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Ib={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Sc,attributionLogo:!0},oa={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Fb={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},Vb={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Sc,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function od(){return{width:0,height:0,autoSize:!1,layout:Ib,crosshair:Ob,grid:Ab,overlayPriceScales:Object.assign({},oa),leftPriceScale:Object.assign(Object.assign({},oa),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},oa),{visible:!0}),timeScale:Fb,watermark:Vb,localization:{locale:Ti?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Bb{constructor(e,n){this.aw=e,this.ow=n}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return io(this.ow)?this.aw.Mb(this.ow):0}Li(){return z(this.aw.$t().Uc(this.ow)).Dt}}function ad(t,e,n){const i=Zg(t,["time","originalTime"]),s=Object.assign({time:e},i);return n!==void 0&&(s.originalTime=n),s}const Wb={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Ub{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class Hb{constructor(e,n,i,s,r){this.uw=new ve,this.Es=e,this.cw=n,this.dw=i,this.q_=r,this.fw=s}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().Rt(e,n.Vt)}coordinateToPrice(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().pn(e,n.Vt)}barsInLogicalRange(e){if(e===null)return null;const n=new _i(new xs(e.from,e.to)).lu(),i=this.Es.In();if(i.Ni())return null;const s=i.ll(n.Os(),1),r=i.ll(n.ui(),-1),l=z(i.el()),o=z(i.An());if(s!==null&&r!==null&&s.ee>r.ee)return{barsBefore:e.from-l,barsAfter:o-e.to};const a={barsBefore:s===null||s.ee===l?e.from-l:s.ee-l,barsAfter:r===null||r.ee===o?o-e.to:o-r.ee};return s!==null&&r!==null&&(a.from=s.zb,a.to=r.zb),a}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,n){const i=this.Es.In().ll(e,n);return i===null?null:vu(this.seriesType())(i)}data(){const e=vu(this.seriesType());return this.Es.In().ne().map(n=>e(n))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const n=e.map(i=>ad(i,this.q_.convertHorzItemToInternal(i.time),i.time));this.Es.na(n)}markers(){return this.Es.sa().map(e=>ad(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return Vt(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const n=St(Vt(Wb),e),i=this.Es.ea(n);return new Ub(i)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class Kb{constructor(e,n,i){this.ww=new ve,this.mu=new ve,this.Om=new ve,this.$i=e,this.yl=e.St(),this.ab=n,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=i}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,n){n?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const n={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},i=this.yl.Iu(n);this.$i.pd(i)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){yn(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const n=this.$i.St();return n.Ni()?null:n.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const n=this.q_.convertHorzItemToInternal(e),i=this.yl.Va(n,!1);return i===null?null:this.yl.It(i)}coordinateToTime(e){const n=this.$i.St(),i=n.Nu(e),s=n.Ui(i);return s===null?null:s.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},Vt(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function Xb(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(n){if(n>=1)return 0;let i=0;for(;i<8;i++){const s=Math.round(n);if(Math.abs(s-n)<1e-8)return i;n*=10}return i}(e.minMove))}function ud(t){return function(e){if(Er(e.handleScale)){const i=e.handleScale;e.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:s}=e.handleScale;Er(i)&&(e.handleScale.axisPressedMouseMove={time:i,price:i}),Er(s)&&(e.handleScale.axisDoubleClickReset={time:s,price:s})}const n=e.handleScroll;Er(n)&&(e.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})}(t),t}class qb{constructor(e,n,i){this.Sw=new Map,this.kw=new Map,this.yw=new ve,this.Cw=new ve,this.Tw=new ve,this.Pw=new Pb(n);const s=i===void 0?Vt(od()):St(Vt(od()),ud(i));this.q_=n,this.aw=new Eb(e,s,n),this.aw.lm().l(l=>{this.yw.M()&&this.yw.m(this.Rw(l()))},this),this.aw.am().l(l=>{this.Cw.M()&&this.Cw.m(this.Rw(l()))},this),this.aw.Xc().l(l=>{this.Tw.M()&&this.Tw.m(this.Rw(l()))},this);const r=this.aw.$t();this.Dw=new Kb(r,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,n,i){this.autoSizeActive()||this.aw._b(e,n,i)}addCustomSeries(e,n){const i=pi(e),s=Object.assign(Object.assign({},Mg),i.defaultOptions());return this.Vw("Custom",s,n,i)}addAreaSeries(e){return this.Vw("Area",P1,e)}addBaselineSeries(e){return this.Vw("Baseline",j1,e)}addBarSeries(e){return this.Vw("Bar",M1,e)}addCandlestickSeries(e={}){return function(n){n.borderColor!==void 0&&(n.borderUpColor=n.borderColor,n.borderDownColor=n.borderColor),n.wickColor!==void 0&&(n.wickUpColor=n.wickColor,n.wickDownColor=n.wickColor)}(e),this.Vw("Candlestick",z1,e)}addHistogramSeries(e){return this.Vw("Histogram",T1,e)}addLineSeries(e){return this.Vw("Line",R1,e)}removeSeries(e){const n=Oe(this.Sw.get(e)),i=this.Pw.vd(n);this.aw.$t().vd(n),this.Ow(i),this.Sw.delete(e),this.kw.delete(n)}pw(e,n){this.Ow(this.Pw.Kb(e,n))}bw(e,n){this.Ow(this.Pw.iw(e,n))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new Bb(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(ud(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,n,i){const s=this.Sw.get(i);if(s===void 0)return;const r=this.aw.$t().dr(s);r!==null&&this.aw.$t().ad(e,n,r)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,n,i={},s){Xb(i.priceFormat);const r=St(Vt(Rg),Vt(n),i),l=this.aw.$t().dd(e,r,s),o=new Hb(l,this,this,this,this.q_);return this.Sw.set(o,l),this.kw.set(l,o),o}Ow(e){const n=this.aw.$t();n._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((i,s)=>s.J(i.$e,i.rw)),n.Wu()}Bw(e){return Oe(this.kw.get(e))}Rw(e){const n=new Map;e.Nb.forEach((s,r)=>{const l=r.Qh(),o=vu(l)(s);if(l!=="Custom")yn(Cb(o));else{const a=r.Ta();yn(!a||a(o)===!1)}n.set(this.Bw(r),o)});const i=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:i,hoveredObjectId:e.Fb,seriesData:n,sourceEvent:e.Wb}}}function Gb(t,e,n){let i;if(tr(t)){const r=document.getElementById(t);yn(r!==null,`Cannot find element in DOM with id=${t}`),i=r}else i=t;const s=new qb(i,e,n);return e.setOptions(s.options()),s}function Qb(t,e){return Gb(t,new qf,qf.Id(e))}Object.assign(Object.assign({},Rg),Mg);const Jb=["1d","1w","1m","3m","6m","1y","5y"],Yb={"1d":"1D","1w":"1W","1m":"1M","3m":"3M","6m":"6M","1y":"1Y","5y":"5Y"},tv="3m",Zb=9e5,cd=new Map,e_=/^\d{4}-\d{2}-\d{2}/;function t_(t){if(t===null||typeof t!="object")return!1;const e=t;return typeof e.date=="string"&&e_.test(e.date)&&typeof e.open=="number"&&Number.isFinite(e.open)&&typeof e.high=="number"&&Number.isFinite(e.high)&&typeof e.low=="number"&&Number.isFinite(e.low)&&typeof e.close=="number"&&Number.isFinite(e.close)&&typeof e.volume=="number"&&Number.isFinite(e.volume)&&e.volume>=0}function n_(t,e){const n=e??tv,[i,s]=S.useState([]),[r,l]=S.useState(!1),[o,a]=S.useState(null);return S.useEffect(()=>{if(!t){s([]),a(null),l(!1);return}const u=`${t.toUpperCase()}:${n}`,h=cd.get(u),c=Date.now();if(h&&c-h.timestamp<Zb){s(h.bars),a(null),l(!1);return}let f=!1;return l(!0),a(null),d1(t,n).then(g=>{if(f)return;const p=Array.isArray(g.ohlcv)?g.ohlcv.filter(t_):[];cd.set(u,{bars:p,timestamp:Date.now()}),s(p)}).catch(()=>{f||a("Failed to load chart data. Please try again.")}).finally(()=>{f||l(!1)}),()=>{f=!0}},[t,n]),{bars:i,loading:r,error:o}}const Ve={background:"#0a0e17",up:"#22c55e",down:"#ef4444",grid:"#1f2937",text:"#8b8b9e",border:"#1f2937",crosshair:"#4b5563",volumeUp:"rgba(34, 197, 94, 0.3)",volumeDown:"rgba(239, 68, 68, 0.3)"};function i_(t){const e=[],n=[];for(const i of t){const s=i.date;e.push({time:s,open:i.open,high:i.high,low:i.low,close:i.close}),n.push({time:s,value:i.volume,color:i.close>=i.open?Ve.volumeUp:Ve.volumeDown})}return{candles:e,volumes:n}}function s_({symbol:t}){const[e,n]=S.useState(tv),{bars:i,loading:s,error:r}=n_(t,e),l=S.useRef(null),o=S.useRef(null),a=S.useRef(null),u=S.useRef(null),h=S.useRef(null),{subscribe:c,unsubscribe:f,onMessage:g}=Ai();return S.useEffect(()=>{const p=l.current;if(!p)return;let m;try{m=Qb(p,{width:p.clientWidth,height:p.clientHeight,layout:{background:{type:fu.Solid,color:Ve.background},textColor:Ve.text},grid:{vertLines:{color:Ve.grid},horzLines:{color:Ve.grid}},crosshair:{mode:cu.Normal},rightPriceScale:{borderColor:Ve.border},timeScale:{borderColor:Ve.border,timeVisible:!1,secondsVisible:!1}})}catch{return}o.current=m;const w=m.addCandlestickSeries({upColor:Ve.up,downColor:Ve.down,borderUpColor:Ve.up,borderDownColor:Ve.down,wickUpColor:Ve.up,wickDownColor:Ve.down});a.current=w;const v=m.addHistogramSeries({priceFormat:{type:"volume"},priceScaleId:"volume"});m.priceScale("volume").applyOptions({scaleMargins:{top:.8,bottom:0}}),u.current=v;const y=new ResizeObserver(x=>{for(const b of x){const{width:_,height:N}=b.contentRect;m.applyOptions({width:_,height:N})}});return y.observe(p),()=>{y.disconnect(),m.remove(),o.current=null,a.current=null,u.current=null}},[]),S.useEffect(()=>{if(!a.current||!u.current)return;if(i.length===0){a.current.setData([]),u.current.setData([]),h.current=null;return}const{candles:p,volumes:m}=i_(i);a.current.setData(p),u.current.setData(m);const w=p[p.length-1];w&&(h.current={time:w.time,open:w.open,high:w.high,low:w.low,close:w.close}),o.current&&o.current.timeScale().fitContent()},[i]),S.useEffect(()=>{if(!t)return;c($t.PriceUpdates);const p=g("price_update",m=>{if(m.symbol!==t||!h.current||!a.current)return;const w=h.current;w.close=m.price,w.high=Math.max(w.high,m.price),w.low=Math.min(w.low,m.price),a.current.update({time:w.time,open:w.open,high:w.high,low:w.low,close:w.close})});return()=>{p(),f($t.PriceUpdates)}},[t,c,f,g]),d.jsxs("div",{className:"bg-terminal-panel border border-terminal-border rounded p-4 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h3",{className:"text-text-primary font-mono text-sm",children:["Chart  ",t||"No ticker selected"]}),t&&d.jsx("div",{className:"flex gap-1",children:Jb.map(p=>d.jsx("button",{type:"button",onClick:()=>n(p),className:`
                  px-2 py-0.5 text-xs font-mono rounded transition-colors duration-150
                  ${p===e?"bg-amber-500 text-terminal-bg":"text-text-secondary hover:text-text-primary hover:bg-terminal-border"}
                `,children:Yb[p]},p))})]}),d.jsxs("div",{className:"flex-1 min-h-0 relative",children:[s&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:d.jsx("div",{className:"text-text-secondary font-mono text-xs animate-pulse",children:"Loading chart data..."})}),r&&!s&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:d.jsx("p",{className:"text-red-400 font-mono text-xs",children:r})}),!t&&!s&&!r&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("p",{className:"text-text-secondary font-mono text-xs",children:"Enter a ticker symbol to view chart"})}),t&&!s&&!r&&i.length===0&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("p",{className:"text-text-secondary font-mono text-xs",children:"No chart data available"})}),d.jsx("div",{ref:l,className:"w-full h-full","data-testid":"chart-container"})]})]})}const Nl=/^[A-Z]{1,5}$/,r_=50;function l_(){const[t,e]=S.useState([]),[n,i]=S.useState(0),[s,r]=S.useState(r_),[l,o]=S.useState(!0),[a,u]=S.useState(null),[h,c]=S.useState(!1),[f,g]=S.useState(0);S.useEffect(()=>{let v=!1;return o(!0),u(null),f1().then(y=>{v||(e(y.tickers),i(y.count),r(y.max_allowed))}).catch(()=>{v||u("Failed to load watchlist. Please try again.")}).finally(()=>{v||o(!1)}),()=>{v=!0}},[f]);async function p(v,y){var x;if(!h){if(!Nl.test(v)){u("Invalid ticker symbol format.");return}if(n>=s){u("Watchlist is full. Remove a ticker first.");return}c(!0),u(null);try{await Ng(v,y),g(b=>b+1)}catch(b){if(he.isAxiosError(b)){const _=(x=b.response)==null?void 0:x.status;u(_===409?"Ticker already exists in watchlist.":_===400?"Watchlist is full. Remove a ticker first.":"Failed to add ticker. Please try again.")}else u("Failed to add ticker. Please try again.")}finally{c(!1)}}}async function m(v){var y;if(!Nl.test(v)){u("Invalid ticker symbol format.");return}u(null);try{await zg(v),g(x=>x+1)}catch(x){he.isAxiosError(x)&&((y=x.response)==null?void 0:y.status)===404?u("Ticker not found in watchlist."):u("Failed to remove ticker. Please try again.")}}function w(){g(v=>v+1)}return{entries:t,count:n,maxAllowed:s,loading:l,error:a,adding:h,addEntry:p,removeEntry:m,refresh:w}}function o_(t){return t===null?{text:"",colorClass:"text-text-secondary"}:t>0?{text:`+${t.toFixed(2)}%`,colorClass:"text-green-400"}:t<0?{text:`${t.toFixed(2)}%`,colorClass:"text-red-400"}:{text:"0.00%",colorClass:"text-text-secondary"}}function a_(t){if(t===null)return"text-text-secondary";switch(t){case"strong_bullish":case"bullish":return"text-green-400";case"strong_bearish":case"bearish":return"text-red-400";case"neutral":default:return"text-text-secondary"}}function u_({entry:t,isSelected:e,onSelect:n,onRemove:i,priceOverride:s}){const r=(s==null?void 0:s.price)??t.last_price,l=(s==null?void 0:s.changePercent)??t.price_change_percent,o=o_(l),a=a_(t.last_composite_signal);return d.jsxs("li",{className:`
        flex items-center justify-between px-2 py-1 rounded cursor-pointer
        hover:bg-terminal-border transition-colors duration-100
        ${e?"border-l-2 border-amber-500 pl-1.5":""}
      `,onClick:()=>n(t.symbol),onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),n(t.symbol))},role:"button",tabIndex:0,children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("span",{className:"text-text-primary font-mono text-xs font-bold whitespace-nowrap",children:t.symbol}),d.jsx("span",{className:"text-text-secondary font-mono text-xs whitespace-nowrap",children:r!==null?r.toFixed(2):""}),d.jsx("span",{className:`font-mono text-xs whitespace-nowrap ${o.colorClass}`,children:o.text})]}),d.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[t.last_composite_signal!==null&&d.jsxs("span",{className:`font-mono text-xs ${a}`,children:[t.last_composite_signal,t.last_composite_confidence!==null&&d.jsxs("span",{className:"text-text-secondary ml-1",children:[(t.last_composite_confidence*100).toFixed(0),"%"]})]}),d.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),i(t.symbol)},className:"text-text-secondary hover:text-red-400 font-mono text-xs px-1 transition-colors duration-100","aria-label":"Remove ticker",children:""})]})]})}function c_(){const{activeTicker:t,setActiveTicker:e}=Ul(),{entries:n,count:i,maxAllowed:s,loading:r,error:l,adding:o,addEntry:a,removeEntry:u}=l_(),{subscribe:h,unsubscribe:c,onMessage:f}=Ai(),g=S.useRef(new Map),[,p]=S.useReducer(_=>_+1,0),m=S.useRef(null);S.useEffect(()=>{h($t.PriceUpdates);const _=f("price_update",N=>{g.current.set(N.symbol,{price:N.price,changePercent:N.change_percent}),m.current===null&&(m.current=requestAnimationFrame(()=>{m.current=null,p()}))});return()=>{_(),m.current!==null&&(cancelAnimationFrame(m.current),m.current=null),c($t.PriceUpdates)}},[h,c,f]),S.useEffect(()=>{const _=new Set(n.map(N=>N.symbol));for(const N of g.current.keys())_.has(N)||g.current.delete(N)},[n]);const[w,v]=S.useState("");function y(_){v(_.target.value.toUpperCase())}async function x(_){_.preventDefault();const N=w.trim();Nl.test(N)&&(await a(N),v(""))}function b(_){e(_)}return d.jsxs("div",{className:"bg-terminal-panel border border-terminal-border rounded p-4 h-full flex flex-col overflow-hidden",children:[d.jsx("h3",{className:"text-text-primary font-mono text-sm mb-2",children:"Watchlist"}),d.jsxs("form",{onSubmit:x,className:"flex gap-1 mb-2",children:[d.jsx("input",{type:"text",value:w,onChange:y,placeholder:"AAPL",maxLength:5,className:`
            flex-1 min-w-0 px-2 py-1 rounded text-xs font-mono
            bg-terminal-bg border border-terminal-border
            text-text-primary placeholder-text-secondary
            focus:outline-none focus:border-amber-500
          `,disabled:o}),d.jsx("button",{type:"submit",disabled:o||!Nl.test(w.trim()),className:`
            px-2 py-1 rounded text-xs font-mono font-bold
            bg-amber-500 text-terminal-bg
            hover:bg-amber-400 disabled:opacity-40 disabled:cursor-not-allowed
            transition-colors duration-100
          `,children:"+"})]}),d.jsxs("div",{className:"text-text-secondary font-mono text-xs mb-2",children:[i," / ",s]}),l&&d.jsx("p",{className:"text-red-400 font-mono text-xs mb-2",children:l}),r&&d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsx("span",{className:"text-text-secondary font-mono text-xs animate-pulse",children:"Loading watchlist..."})}),!r&&!l&&n.length===0&&d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsx("p",{className:"text-text-secondary font-mono text-xs",children:"Watchlist is empty. Add a ticker above."})}),!r&&n.length>0&&d.jsx("ul",{className:"flex-1 overflow-auto space-y-0.5",children:n.map(_=>d.jsx(u_,{entry:_,isSelected:_.symbol===t,onSelect:b,onRemove:u,priceOverride:g.current.get(_.symbol)},_.symbol))})]})}const hd=20,h_=3e5,f_=5e3,d_=6e4;function p_(t){if(!t)return new Date(0);const e=new Date(t);return Number.isNaN(e.getTime())?new Date(0):e}function fd(t){return t.headline?{id:t.id,headline:t.headline,summary:t.summary||"",source:t.source||"Unknown",url:t.url,imageUrl:t.image_url,publishedAt:p_(t.published_at),category:t.category,relatedTickers:Array.isArray(t.related_tickers)?t.related_tickers:[],sentiment:"neutral",sentimentScore:.5}:null}function dd(t){return[...t].sort((e,n)=>n.publishedAt.getTime()-e.publishedAt.getTime())}function m_(t){const n=Date.now()-t.getTime();if(n<0)return"just now";const i=Math.floor(n/1e3);if(i<60)return"just now";const s=Math.floor(i/60);if(s<60)return`${s}m ago`;const r=Math.floor(s/60);if(r<24)return`${r}h ago`;const l=Math.floor(r/24);return l<14?`${l}d ago`:`${Math.floor(l/7)}w ago`}const aa=new Map;function g_(t){const[e,n]=S.useState([]),[i,s]=S.useState(0),[r,l]=S.useState(!1),[o,a]=S.useState(!1),[u,h]=S.useState(null),c=S.useRef(0),f=S.useRef(0),g=S.useRef(t),p=S.useRef(null);function m(y,x,b){return gf(y,{limit:hd,offset:0}).then(_=>{if(b())return;const N=dd(Array.isArray(_.articles)?_.articles.map(fd).filter(C=>C!==null):[]);aa.set(x,{articles:N,totalCount:_.total_count,timestamp:Date.now()}),n(N),s(_.total_count),f.current=_.total_count,c.current=N.length})}S.useEffect(()=>{if(g.current=t,p.current!==null&&(clearTimeout(p.current),p.current=null),!t){n([]),s(0),f.current=0,h(null),l(!1),a(!1),c.current=0;return}const y=t.toUpperCase(),x=aa.get(y),b=Date.now();if(x&&b-x.timestamp<h_){n(x.articles),s(x.totalCount),f.current=x.totalCount,h(null),l(!1),a(!1),c.current=x.articles.length;return}let _=!1;const N=()=>_;return l(!0),h(null),n([]),s(0),f.current=0,c.current=0,m(t,y,N).catch(()=>{_||(h("Failed to load news. Retrying..."),p.current=setTimeout(()=>{_||(p.current=null,aa.delete(y),h(null),l(!0),m(t,y,N).catch(()=>{_||h("Failed to load news. Please try again later.")}).finally(()=>{_||l(!1)}))},f_))}).finally(()=>{_||l(!1)}),()=>{_=!0,p.current!==null&&(clearTimeout(p.current),p.current=null)}},[t]);const w=S.useCallback(()=>{if(!t||r||o||c.current>=f.current)return;a(!0),h(null);const y=c.current,x=t;gf(t,{limit:hd,offset:y}).then(b=>{if(g.current!==x)return;const _=dd(Array.isArray(b.articles)?b.articles.map(fd).filter(N=>N!==null):[]);n(N=>[...N,..._]),s(b.total_count),f.current=b.total_count,c.current=y+_.length}).catch(()=>{g.current===x&&h("Failed to load more articles. Please try again.")}).finally(()=>{g.current===x&&a(!1)})},[t,r,o]),v=e.length<i;return{articles:e,totalCount:i,hasMore:v,loading:r,loadingMore:o,error:u,loadMore:w}}function v_(t){switch(t){case"bullish":return{bgClass:"bg-accent-green",label:"Bullish"};case"bearish":return{bgClass:"bg-accent-red",label:"Bearish"};case"neutral":default:return{bgClass:"bg-gray-600",label:"Neutral"}}}function y_(){return d.jsx("div",{className:"space-y-3",children:[0,1,2].map(t=>d.jsxs("div",{className:"animate-pulse border border-terminal-border rounded p-3 space-y-2",children:[d.jsx("div",{className:"h-3 bg-terminal-border rounded w-3/4"}),d.jsx("div",{className:"h-2 bg-terminal-border rounded w-1/2"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"h-2 bg-terminal-border rounded w-16"}),d.jsx("div",{className:"h-4 bg-terminal-border rounded w-20"})]})]},t))})}function x_({message:t}){const e=t.includes("Retrying");return d.jsxs("div",{className:"flex-1 flex items-center justify-center flex-col gap-2",children:[d.jsx("p",{className:"text-accent-red font-mono text-xs",children:t}),e&&d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-amber animate-pulse"}),d.jsx("span",{className:"text-text-secondary font-mono text-xs",children:"Retrying..."})]})]})}function w_({symbol:t}){return d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsxs("p",{className:"text-text-secondary font-mono text-xs",children:["No news articles found for ",t]})})}function S_({sentiment:t,score:e}){const n=v_(t);return d.jsxs("span",{className:`${n.bgClass} text-white font-mono text-xs px-1.5 py-0.5 rounded whitespace-nowrap`,children:[n.label," ",e.toFixed(2)]})}function b_({article:t}){const e=t.publishedAt.toLocaleString();return d.jsxs("div",{className:"border border-terminal-border rounded p-3 space-y-1.5",children:[t.url?d.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-text-primary font-mono text-xs font-bold hover:text-amber-400 transition-colors duration-100 block leading-snug",children:t.headline}):d.jsx("span",{className:"text-text-primary font-mono text-xs font-bold block leading-snug",children:t.headline}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsx("span",{className:"text-text-secondary font-mono text-xs",children:t.source}),d.jsx("span",{className:"text-text-secondary font-mono text-xs",title:e,children:m_(t.publishedAt)})]}),d.jsx("div",{children:d.jsx(S_,{sentiment:t.sentiment,score:t.sentimentScore})})]})}function __({onClick:t,loading:e}){return d.jsx("div",{className:"pt-2 shrink-0",children:d.jsx("button",{type:"button",onClick:t,disabled:e,className:`
          w-full px-2 py-1.5 rounded text-xs font-mono font-bold
          bg-terminal-border text-text-primary
          hover:bg-amber-500 hover:text-terminal-bg
          disabled:opacity-40 disabled:cursor-not-allowed
          transition-colors duration-100
        `,children:e?"Loading...":"Load More"})})}function E_({symbol:t}){const{articles:e,hasMore:n,loading:i,loadingMore:s,error:r,loadMore:l}=g_(t),{subscribe:o,unsubscribe:a,onMessage:u}=Ai(),[h,c]=S.useState([]);S.useEffect(()=>{c([])},[t]),S.useEffect(()=>{if(!t)return;o($t.NewsAlerts);const p=u("news_alert",m=>{if(m.symbol!==t)return;const w={id:`ws-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,headline:m.headline,summary:"",source:"Live",url:null,imageUrl:null,publishedAt:new Date(m.timestamp),category:null,relatedTickers:[m.symbol],sentiment:m.sentiment.label,sentimentScore:m.sentiment.score};c(v=>[w,...v].slice(0,50))});return()=>{p(),a($t.NewsAlerts)}},[t,o,a,u]);const f=[...h,...e],[,g]=S.useReducer(p=>p+1,0);return S.useEffect(()=>{if(f.length===0)return;const p=setInterval(g,d_);return()=>clearInterval(p)},[f.length]),d.jsxs("div",{className:"bg-terminal-panel border border-terminal-border rounded p-4 h-full flex flex-col overflow-hidden",children:[d.jsxs("h3",{className:"text-text-primary font-mono text-sm mb-2",children:["News ",t?` ${t}`:""]}),i&&d.jsx(y_,{}),r&&!i&&d.jsx(x_,{message:r}),!i&&!r&&f.length===0&&d.jsx(w_,{symbol:t}),!i&&f.length>0&&d.jsx("div",{className:"flex-1 overflow-auto space-y-2 min-h-0",children:f.map(p=>d.jsx(b_,{article:p},p.id))}),!i&&n&&d.jsx(__,{onClick:l,loading:s})]})}const C_=9e5;function bt(t){return typeof t=="number"&&Number.isFinite(t)}function de(t){return typeof t=="boolean"?null:typeof t=="number"&&Number.isFinite(t)?t:null}function Us(t){if(!bt(t))return"--";const e=t<0?"-":"",n=Math.abs(t);return n>=1e12?`${e}$${(n/1e12).toFixed(2)}T`:n>=1e9?`${e}$${(n/1e9).toFixed(2)}B`:n>=1e6?`${e}$${(n/1e6).toFixed(2)}M`:n>=1e3?`${e}$${(n/1e3).toFixed(2)}K`:`${e}$${n.toFixed(2)}`}function ls(t){return bt(t)?`${(t*100).toFixed(2)}%`:"--"}function nv(t){return bt(t)?t.toFixed(2):"--"}function iv(t){return bt(t)?`${t<0?"-":""}$${Math.abs(t).toFixed(2)}`:"--"}function k_(t){return{period:t.period,filingDate:t.filing_date,filingType:t.filing_type,revenue:de(t.revenue),netIncome:de(t.net_income),epsDiluted:de(t.eps_diluted),grossMargin:de(t.gross_margin),operatingMargin:de(t.operating_margin),netMargin:de(t.net_margin),revenueGrowthYoy:de(t.revenue_growth_yoy),epsGrowthYoy:de(t.eps_growth_yoy),freeCashFlow:de(t.free_cash_flow??null)}}function N_(t){const e=t.ttm!=null?{revenue:de(t.ttm.revenue),netIncome:de(t.ttm.net_income),epsDiluted:de(t.ttm.eps_diluted),grossMargin:de(t.ttm.gross_margin),operatingMargin:de(t.ttm.operating_margin),netMargin:de(t.ttm.net_margin),peRatio:de(t.ttm.pe_ratio),marketCap:de(t.ttm.market_cap),sharesOutstanding:de(t.ttm.shares_outstanding),freeCashFlow:de(t.ttm.free_cash_flow),debtToEquity:de(t.ttm.debt_to_equity),returnOnEquity:de(t.ttm.return_on_equity),dividendYield:de(t.ttm.dividend_yield)}:null,n=Array.isArray(t.quarterly)?t.quarterly.map(k_):[];return{symbol:t.symbol,companyName:t.company_name,ttm:e,quarterly:n,dataSources:{financials:t.data_sources.financials,marketData:t.data_sources.market_data},dataTimestamp:t.data_timestamp}}const pd=new Map;function z_(t){const[e,n]=S.useState(null),[i,s]=S.useState(!0),[r,l]=S.useState(null);return S.useEffect(()=>{if(!t){n(null),l(null),s(!1);return}const o=t.toUpperCase(),a=pd.get(o);if(a&&Date.now()-a.timestamp<C_){n(a.data),l(null),s(!1);return}let u=!1;return s(!0),l(null),r1(o).then(h=>{if(u)return;const c=N_(h);pd.set(o,{data:c,timestamp:Date.now()}),n(c),l(null)}).catch(()=>{u||(n(null),l("Failed to load fundamentals data. Please try again later."))}).finally(()=>{u||s(!1)}),()=>{u=!0}},[t]),{data:e,loading:i,error:r}}function M_(){return d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[0,1,2,3,4,5,6,7].map(t=>d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"h-2 animate-pulse bg-terminal-border rounded w-16"}),d.jsx("div",{className:"h-3 animate-pulse bg-terminal-border rounded w-20"})]},t))}),[0,1,2,3].map(t=>d.jsx("div",{className:"h-4 animate-pulse bg-terminal-border rounded w-full"},`row-${t}`)),[0,1,2].map(t=>d.jsx("div",{className:"h-3 animate-pulse bg-terminal-border rounded w-3/4"},`ratio-${t}`))]})}function R_({message:t}){return d.jsx("p",{className:"text-accent-red text-xs text-center py-4",children:t})}function P_(){return d.jsx("p",{className:"text-text-muted text-xs text-center py-4",children:"No fundamental data available"})}function Yt({label:t,value:e}){return d.jsxs("div",{children:[d.jsx("div",{className:"text-text-muted text-xs",children:t}),d.jsx("div",{className:"text-text-primary font-mono text-sm",children:e})]})}function j_({ttm:t}){return d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[d.jsx(Yt,{label:"Market Cap",value:Us((t==null?void 0:t.marketCap)??null)}),d.jsx(Yt,{label:"P/E Ratio",value:nv((t==null?void 0:t.peRatio)??null)}),d.jsx(Yt,{label:"EPS (TTM)",value:iv((t==null?void 0:t.epsDiluted)??null)}),d.jsx(Yt,{label:"Revenue",value:Us((t==null?void 0:t.revenue)??null)}),d.jsx(Yt,{label:"Gross Margin",value:ls((t==null?void 0:t.grossMargin)??null)}),d.jsx(Yt,{label:"Op. Margin",value:ls((t==null?void 0:t.operatingMargin)??null)}),d.jsx(Yt,{label:"Net Margin",value:ls((t==null?void 0:t.netMargin)??null)}),d.jsx(Yt,{label:"Div. Yield",value:ls((t==null?void 0:t.dividendYield)??null)})]})}function md({value:t}){if(!bt(t))return d.jsx("span",{className:"text-text-muted",children:"--"});const e=(t*100).toFixed(2);let n="text-text-muted";return t>0?n="text-accent-green":t<0&&(n="text-accent-red"),d.jsxs("span",{className:n,children:[e,"%"]})}function T_({quarters:t}){return t.length===0?null:d.jsxs("table",{className:"w-full text-xs font-mono",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-text-muted border-b border-terminal-border",children:[d.jsx("th",{className:"text-left py-1 pr-2 font-normal",children:"Period"}),d.jsx("th",{className:"text-left py-1 pr-2 font-normal",children:"Filing Date"}),d.jsx("th",{className:"text-right py-1 pr-2 font-normal",children:"EPS"}),d.jsx("th",{className:"text-right py-1 pr-2 font-normal",children:"Rev. Growth"}),d.jsx("th",{className:"text-right py-1 font-normal",children:"EPS Growth"})]})}),d.jsx("tbody",{children:t.slice(0,4).map(e=>d.jsxs("tr",{className:"border-b border-terminal-border/30",children:[d.jsx("td",{className:"text-text-primary py-1 pr-2",children:e.period}),d.jsx("td",{className:"text-text-muted py-1 pr-2",children:e.filingDate??"--"}),d.jsx("td",{className:"text-text-primary text-right py-1 pr-2",children:iv(e.epsDiluted)}),d.jsx("td",{className:"text-right py-1 pr-2",children:d.jsx(md,{value:e.revenueGrowthYoy})}),d.jsx("td",{className:"text-right py-1",children:d.jsx(md,{value:e.epsGrowthYoy})})]},e.period))})]})}function ua({label:t,value:e}){return d.jsxs("div",{className:"flex justify-between py-0.5",children:[d.jsx("span",{className:"text-text-muted text-xs",children:t}),d.jsx("span",{className:"text-text-primary font-mono text-xs",children:e})]})}function L_({ttm:t}){return d.jsxs("div",{children:[d.jsx(ua,{label:"Debt/Equity",value:nv((t==null?void 0:t.debtToEquity)??null)}),d.jsx(ua,{label:"ROE",value:ls((t==null?void 0:t.returnOnEquity)??null)}),d.jsx(ua,{label:"FCF",value:Us((t==null?void 0:t.freeCashFlow)??null)})]})}function $_({symbol:t}){const{data:e,loading:n,error:i}=z_(t);return d.jsxs("div",{className:"bg-terminal-panel border border-terminal-border rounded p-4 h-full flex flex-col overflow-hidden",children:[d.jsxs("h3",{className:"text-text-primary font-mono text-sm mb-2",children:["Fundamentals",t?"  "+t:""]}),d.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:n?d.jsx(M_,{}):i?d.jsx(R_,{message:i}):e?d.jsxs(d.Fragment,{children:[d.jsx(j_,{ttm:e.ttm}),d.jsx(T_,{quarters:e.quarterly}),d.jsx(L_,{ttm:e.ttm}),e.dataSources&&d.jsxs("div",{className:"text-text-muted text-xs pt-1 border-t border-terminal-border/30",children:["Data: ",e.dataSources.financials,", ",e.dataSources.marketData]})]}):d.jsx(P_,{})})]})}const D_=9e5,O_={wyckoff:"Wyckoff",elliott_wave:"Elliott Wave",ict_smart_money:"ICT SMC",canslim:"CANSLIM",larry_williams:"Larry Williams",sentiment:"Sentiment"},Li={strong_bullish:{label:"Strong Bull",colorClass:"text-accent-green"},bullish:{label:"Bullish",colorClass:"text-accent-green"},neutral:{label:"Neutral",colorClass:"text-text-muted"},bearish:{label:"Bearish",colorClass:"text-accent-red"},strong_bearish:{label:"Strong Bear",colorClass:"text-accent-red"}},A_={short:"Short",medium:"Med",long:"Long"},I_=new Set(["strong_bullish","bullish","neutral","bearish","strong_bearish"]),F_=new Set(["bullish","bearish","neutral"]),V_=new Set(["short","medium","long"]);function tn(t){return typeof t=="boolean"?null:typeof t=="number"&&Number.isFinite(t)?t:null}function sv(t){return typeof t=="string"&&F_.has(t)?t:"neutral"}function B_(t){return typeof t=="string"&&I_.has(t)?t:"neutral"}function W_(t){return typeof t=="string"&&V_.has(t)?t:"medium"}function U_(t){const e=tn(t.confidence),n=e!==null?Math.max(0,Math.min(1,e)):0,i=typeof t.key_levels=="object"&&t.key_levels!==null&&!Array.isArray(t.key_levels)?t.key_levels:{};return{ticker:t.ticker??"",methodology:t.methodology??"",direction:sv(t.direction),confidence:n,timeframe:W_(t.timeframe),reasoning:t.reasoning??"",keyLevels:i,timestamp:t.timestamp??""}}function ca(t){const e=tn(t.confidence),n=e!==null?Math.max(0,Math.min(1,e)):0;return{direction:sv(t.direction),confidence:n,methodologies:Array.isArray(t.methodologies)?t.methodologies:[]}}const ha={direction:"neutral",confidence:0,methodologies:[]};function H_(t){const e=t.composite,n=tn(e==null?void 0:e.overall_confidence),i=n!==null?Math.max(0,Math.min(1,n)):0,s=tn(e==null?void 0:e.confluence_count),r=s!==null?Math.max(0,Math.round(s)):0,l=typeof(e==null?void 0:e.timeframe_breakdown)=="object"&&e.timeframe_breakdown!==null&&!Array.isArray(e.timeframe_breakdown)?e.timeframe_breakdown:{},o={short:l.short?ca(l.short):{...ha},medium:l.medium?ca(l.medium):{...ha},long:l.long?ca(l.long):{...ha}},a=typeof(e==null?void 0:e.weights_used)=="object"&&e.weights_used!==null&&!Array.isArray(e.weights_used)?e.weights_used:{},u={overallDirection:B_(e==null?void 0:e.overall_direction),overallConfidence:i,confluenceCount:r,timeframeBreakdown:o,tradeThesis:(e==null?void 0:e.trade_thesis)??"",weightsUsed:a,timestamp:(e==null?void 0:e.timestamp)??""},h=Array.isArray(t.signals)?t.signals.map(U_):[],c=t.metadata,f=tn(c==null?void 0:c.analysis_duration_ms),g=f!==null?Math.max(0,Math.round(f)):0,p=tn(c==null?void 0:c.methodologies_requested),m=p!==null?Math.max(0,Math.round(p)):0,w=tn(c==null?void 0:c.methodologies_completed),v=w!==null?Math.max(0,Math.round(w)):0,y=tn(c==null?void 0:c.methodologies_failed),x=y!==null?Math.max(0,Math.round(y)):0,b={analysisDurationMs:g,methodologiesRequested:m,methodologiesCompleted:v,methodologiesFailed:x,failedMethodologies:Array.isArray(c==null?void 0:c.failed_methodologies)?c.failed_methodologies:[],cached:(c==null?void 0:c.cached)===!0,dataSourcesUsed:Array.isArray(c==null?void 0:c.data_sources_used)?c.data_sources_used:[]};return{symbol:t.symbol??"",composite:u,signals:h,metadata:b}}const yu=new Map;function K_(){yu.clear()}function X_(t,e){const[n,i]=S.useState(null),[s,r]=S.useState(!1),[l,o]=S.useState(null);return S.useEffect(()=>{if(!t){i(null),o(null),r(!1);return}const a=t.toUpperCase(),u=yu.get(a);if(u&&Date.now()-u.timestamp<D_){i(u.data),o(null),r(!1);return}let h=!1;const c=new AbortController;return r(!0),o(null),p1(a,{signal:c.signal}).then(f=>{if(h)return;const g=H_(f);yu.set(a,{data:g,timestamp:Date.now()}),i(g),o(null)}).catch(f=>{h||f instanceof DOMException&&f.name==="AbortError"||typeof f=="object"&&f!==null&&"code"in f&&f.code==="ERR_CANCELED"||(i(null),o("Failed to load analysis data. Please try again later."))}).finally(()=>{h||r(!1)}),()=>{h=!0,c.abort()}},[t,e]),{data:n,loading:s,error:l}}function q_(){return d.jsx("div",{className:"flex flex-col gap-2 p-3 bg-terminal-bg font-mono text-sm",children:[0,1,2,3,4,5].map(t=>d.jsx("div",{className:"h-16 animate-pulse bg-terminal-panel rounded"},t))})}function G_({error:t}){return d.jsx("div",{className:"p-3 bg-terminal-bg font-mono text-sm",children:d.jsx("p",{className:"text-accent-red text-sm",children:t})})}function Q_(){return d.jsx("div",{className:"p-3 bg-terminal-bg font-mono text-sm",children:d.jsx("p",{className:"text-text-muted text-sm",children:"No analysis data available"})})}function rv({direction:t}){return t==="bullish"||t==="strong_bullish"?d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"inline-block text-accent-green","aria-label":"Bullish",children:d.jsx("path",{d:"M7 2L12 9H2L7 2Z",fill:"currentColor"})}):t==="bearish"||t==="strong_bearish"?d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"inline-block text-accent-red","aria-label":"Bearish",children:d.jsx("path",{d:"M7 12L2 5H12L7 12Z",fill:"currentColor"})}):d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"inline-block text-text-muted","aria-label":"Neutral",children:d.jsx("rect",{x:"2",y:"6",width:"10",height:"2",rx:"1",fill:"currentColor"})})}const J_=Ut.memo(function({composite:e}){const n=Li[e.overallDirection]??Li.neutral;return d.jsxs("div",{className:"bg-terminal-panel border border-terminal-border rounded p-3",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(rv,{direction:e.overallDirection}),d.jsx("span",{className:`font-bold ${n.colorClass}`,children:n.label}),d.jsxs("span",{className:"text-text-primary",children:[(e.overallConfidence*100).toFixed(0),"%"]}),d.jsxs("span",{className:"ml-auto bg-terminal-border text-text-secondary text-xs px-2 py-0.5 rounded",children:[e.confluenceCount," confluence"]})]}),e.tradeThesis&&d.jsx("p",{className:"text-text-secondary text-xs line-clamp-2 mt-1",children:e.tradeThesis})]})}),Y_=Ut.memo(function({active:e,onChange:n,counts:i}){const r=[{value:"all",label:"All",count:i.short+i.medium+i.long},{value:"short",label:"Short",count:i.short},{value:"medium",label:"Med",count:i.medium},{value:"long",label:"Long",count:i.long}];return d.jsx("div",{className:"flex gap-1",children:r.map(l=>{const o=e===l.value;return d.jsxs("button",{type:"button",onClick:()=>n(l.value),className:`
              px-2 py-1 rounded text-xs font-mono transition-colors duration-100
              ${o?"bg-terminal-border text-text-primary":"text-text-muted hover:text-text-secondary"}
            `,children:[l.label," (",l.count,")"]},l.value)})})});function Z_({confidence:t,direction:e}){const n=Li[e]??Li.neutral,i=Math.max(0,Math.min(100,t*100)),r={"text-accent-green":"bg-accent-green","text-accent-red":"bg-accent-red","text-text-muted":"bg-text-muted"}[n.colorClass]??"bg-text-muted";return d.jsx("div",{className:"w-full h-1.5 bg-terminal-border rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${r}`,style:{width:`${i}%`}})})}function lv({levels:t,depth:e=0}){const n=Object.entries(t);if(n.length===0)return null;const i=n.slice(0,8);return d.jsxs("div",{className:`text-xs ${e>0?"ml-3 mt-0.5":"mt-1"}`,children:[i.map(([s,r])=>d.jsxs("div",{className:"flex gap-1",children:[d.jsxs("span",{className:"text-text-muted shrink-0",children:[s,":"]}),eE(r,e)]},s)),n.length>8&&d.jsxs("span",{className:"text-text-muted",children:["...",n.length-8," more"]})]})}function eE(t,e){return t==null?d.jsx("span",{className:"text-text-muted",children:"--"}):typeof t=="boolean"?d.jsx("span",{className:"text-text-secondary",children:t?"Yes":"No"}):typeof t=="number"?d.jsx("span",{className:"text-text-primary",children:Number.isFinite(t)?t.toFixed(2):"--"}):typeof t=="string"?d.jsx("span",{className:"text-text-secondary",children:t}):Array.isArray(t)?d.jsxs("span",{className:"text-text-muted",children:["[",t.length," items]"]}):typeof t=="object"&&e<2?d.jsx(lv,{levels:t,depth:e+1}):typeof t=="object"?d.jsx("span",{className:"text-text-muted",children:"[object]"}):d.jsx("span",{className:"text-text-muted",children:"--"})}const tE=Ut.memo(function({signal:e}){const n=O_[e.methodology]??e.methodology,i=Li[e.direction]??Li.neutral,s=A_[e.timeframe]??e.timeframe;return d.jsxs("div",{className:"bg-terminal-panel border border-terminal-border rounded p-2",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-text-primary font-bold text-xs",children:n}),d.jsx(rv,{direction:e.direction}),d.jsx("span",{className:`text-xs ${i.colorClass}`,children:i.label}),d.jsx("span",{className:"ml-auto text-text-muted text-xs",children:s})]}),d.jsxs("div",{className:"mb-1",children:[d.jsxs("div",{className:"flex justify-between text-xs mb-0.5",children:[d.jsx("span",{className:"text-text-muted",children:"Confidence"}),d.jsxs("span",{className:"text-text-primary",children:[(e.confidence*100).toFixed(0),"%"]})]}),d.jsx(Z_,{confidence:e.confidence,direction:e.direction})]}),e.reasoning&&d.jsx("p",{className:"text-text-secondary text-xs line-clamp-2 mt-1",children:e.reasoning}),Object.keys(e.keyLevels).length>0&&d.jsx(lv,{levels:e.keyLevels})]})}),nE=Ut.memo(function({metadata:e}){return d.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-text-muted border-t border-terminal-border pt-2 mt-1",children:[d.jsx("span",{children:e.cached?"Cached":`${e.analysisDurationMs}ms`}),d.jsxs("span",{children:[e.methodologiesCompleted,"/",e.methodologiesRequested]}),e.failedMethodologies.length>0&&d.jsxs("span",{className:"text-accent-red",children:["Failed: ",e.failedMethodologies.join(", ")]})]})});function iE({symbol:t}){const[e,n]=S.useState(0),{data:i,loading:s,error:r}=X_(t,e),[l,o]=S.useState("all"),{subscribe:a,unsubscribe:u,onMessage:h}=Ai();S.useEffect(()=>{if(!t)return;a($t.AnalysisProgress);const g=h("analysis_complete",p=>{p.symbol===t&&(K_(),n(m=>m+1))});return()=>{g(),u($t.AnalysisProgress)}},[t,a,u,h]);const c=S.useMemo(()=>i?l==="all"?i.signals:i.signals.filter(g=>g.timeframe===l):[],[i,l]),f=S.useMemo(()=>i?{short:i.signals.filter(g=>g.timeframe==="short").length,medium:i.signals.filter(g=>g.timeframe==="medium").length,long:i.signals.filter(g=>g.timeframe==="long").length}:{short:0,medium:0,long:0},[i]);return t?s?d.jsx(q_,{}):r?d.jsx(G_,{error:r}):!i||i.signals.length===0?d.jsx(Q_,{}):d.jsxs("div",{className:"flex flex-col gap-3 p-3 bg-terminal-bg font-mono text-sm",children:[d.jsx(J_,{composite:i.composite}),d.jsx(Y_,{active:l,onChange:o,counts:f}),d.jsx("div",{className:"flex flex-col gap-2",children:c.map(g=>d.jsx(tE,{signal:g},g.methodology))}),d.jsx(nE,{metadata:i.metadata})]}):null}const sE=3e5,rE=9e5,lE=7,oE=30,aE={cpi:"CPI",core_cpi:"Core CPI",ism_manufacturing:"ISM Mfg",ism_services:"ISM Svc",nfp:"NFP",unemployment:"Unemployment",fomc:"FOMC",gdp:"GDP",ppi:"PPI",retail_sales:"Retail Sales",housing_starts:"Housing Starts",building_permits:"Building Permits",consumer_confidence:"Consumer Conf",durable_goods:"Durable Goods",fed_funds_rate:"Fed Funds"},ov=new Set(["cpi","core_cpi","ism_manufacturing","ism_services","nfp","unemployment","fomc","gdp","ppi","retail_sales","housing_starts","building_permits","consumer_confidence","durable_goods","fed_funds_rate"]),gd={high:{label:"High",colorClass:"text-accent-red"},medium:{label:"Med",colorClass:"text-accent-yellow"},low:{label:"Low",colorClass:"text-text-muted"}},uE=new Set(["high","medium","low"]),cE=new Set(["above","below","inline"]);function ke(t){return typeof t=="boolean"?null:typeof t=="number"&&Number.isFinite(t)?t:null}function hE(t){return typeof t=="string"&&uE.has(t)?t:"low"}function fE(t){return typeof t=="string"&&cE.has(t)?t:"inline"}function dE(t){const e=t.event_type,n=typeof e=="string"&&ov.has(e)?e:null;return{eventName:t.event_name??"",eventType:n,date:t.date??"",time:t.time??"",country:t.country??"US",expected:ke(t.expected),previous:ke(t.previous),actual:ke(t.actual),unit:t.unit??"",importance:hE(t.importance),description:t.description??""}}function pE(t){const e=Array.isArray(t.events)?t.events.map(dE):[],n=typeof t.date_range=="object"&&t.date_range!==null&&!Array.isArray(t.date_range)?{from:t.date_range.from??"",to:t.date_range.to??""}:{from:"",to:""};return{events:e,dateRange:n,dataSource:t.data_source??"",dataTimestamp:t.data_timestamp??""}}function mE(t){return{eventDate:t.event_date??"",eventValue:ke(t.event_value),expected:ke(t.expected),surprise:fE(t.surprise),priceBefore:ke(t.price_before),priceAfter1d:ke(t.price_after_1d),priceAfter5d:ke(t.price_after_5d),return1dPercent:ke(t.return_1d_percent),return5dPercent:ke(t.return_5d_percent),volumeRatio:ke(t.volume_ratio)}}function gE(t){const e=Array.isArray(t.reactions)?t.reactions.map(mE):[],n=t.averages,i=typeof n=="object"&&n!==null&&!Array.isArray(n)?{avgReturn1dOnBeat:ke(n.avg_return_1d_on_beat),avgReturn1dOnMiss:ke(n.avg_return_1d_on_miss),avgReturn5dOnBeat:ke(n.avg_return_5d_on_beat),avgReturn5dOnMiss:ke(n.avg_return_5d_on_miss),avgVolumeRatio:ke(n.avg_volume_ratio)}:{avgReturn1dOnBeat:null,avgReturn1dOnMiss:null,avgReturn5dOnBeat:null,avgReturn5dOnMiss:null,avgVolumeRatio:null},s=ke(t.sample_size),r=s!==null?Math.max(0,Math.round(s)):0;return{symbol:t.symbol??"",eventType:t.event_type??"",reactions:e,averages:i,sampleSize:r,dataSources:Array.isArray(t.data_sources)?t.data_sources:[],dataTimestamp:t.data_timestamp??""}}function fa(t,e){if(t===null)return"--";switch(e){case"percent":return`${t.toFixed(1)}%`;case"index":return t.toFixed(1);case"thousands":return`${t.toFixed(0)}K`;case"millions_usd":return`$${t.toFixed(0)}M`;case"billions_usd":return`$${t.toFixed(1)}B`;default:return t.toFixed(2)}}function vE(t,e){if(e===null)return"--";const n=Math.abs(e).toFixed(2);switch(t){case"above":return`+${n}`;case"below":return`-${n}`;case"inline":return"0.00"}}const vd=new Map,yd=new Map;function xd(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${i}`}function yE(){const[t,e]=S.useState(null),[n,i]=S.useState(!1),[s,r]=S.useState(null);return S.useEffect(()=>{const l=new Date,o=new Date(l);o.setDate(o.getDate()-lE);const a=new Date(l);a.setDate(a.getDate()+oE);const u=xd(o),h=xd(a),c=`${u}:${h}`,f=vd.get(c);if(f&&Date.now()-f.timestamp<sE){e(f.data),r(null),i(!1);return}let g=!1;const p=new AbortController;return i(!0),r(null),a1({from_date:u,to_date:h},{signal:p.signal}).then(m=>{if(g)return;const w=pE(m);vd.set(c,{data:w,timestamp:Date.now()}),e(w),r(null)}).catch(m=>{g||m instanceof DOMException&&m.name==="AbortError"||typeof m=="object"&&m!==null&&"code"in m&&m.code==="ERR_CANCELED"||(e(null),r("Failed to load calendar data. Please try again later."))}).finally(()=>{g||i(!1)}),()=>{g=!0,p.abort()}},[]),{data:t,loading:n,error:s}}function xE(){const[t,e]=S.useState(null),[n,i]=S.useState(!1),[s,r]=S.useState(null),l=S.useRef(null);S.useEffect(()=>()=>{var a;(a=l.current)==null||a.abort()},[]);const o=S.useCallback((a,u)=>{var g;if((g=l.current)==null||g.abort(),l.current=null,!a||!u){e(null),r(null),i(!1);return}const h=`${a.toUpperCase()}:${u}`,c=yd.get(h);if(c&&Date.now()-c.timestamp<rE){e(c.data),r(null),i(!1);return}const f=new AbortController;l.current=f,i(!0),r(null),u1(a,u,{signal:f.signal}).then(p=>{if(f.signal.aborted)return;const m=gE(p);yd.set(h,{data:m,timestamp:Date.now()}),e(m),r(null)}).catch(p=>{f.signal.aborted||p instanceof DOMException&&p.name==="AbortError"||typeof p=="object"&&p!==null&&"code"in p&&p.code==="ERR_CANCELED"||(e(null),r("Failed to load reaction data. Please try again later."))}).finally(()=>{f.signal.aborted||i(!1)})},[]);return{data:t,loading:n,error:s,fetchReaction:o}}function wE(){return d.jsx("div",{className:"flex flex-col gap-2 p-3 bg-terminal-bg font-mono text-sm",children:[0,1,2,3,4].map(t=>d.jsx("div",{className:"h-8 animate-pulse bg-terminal-panel rounded"},t))})}function SE({error:t}){return d.jsx("div",{className:"p-3 bg-terminal-bg font-mono text-sm",children:d.jsx("p",{className:"text-accent-red text-sm",children:t})})}function bE(){return d.jsx("div",{className:"p-3 bg-terminal-bg font-mono text-sm",children:d.jsx("p",{className:"text-text-muted text-xs",children:"No upcoming economic events found"})})}const _E=Ut.memo(function({active:e,onChange:n,counts:i}){const r=[{value:"all",label:"All",count:i.high+i.medium+i.low},{value:"high",label:"High",count:i.high},{value:"medium",label:"Med",count:i.medium},{value:"low",label:"Low",count:i.low}];return d.jsx("div",{className:"flex gap-1",children:r.map(l=>d.jsxs("button",{type:"button",onClick:()=>n(l.value),className:`px-2 py-1 rounded text-xs font-mono transition-colors duration-100 ${e===l.value?"bg-terminal-border text-text-primary":"text-text-muted hover:text-text-secondary"}`,children:[l.label," (",l.count,")"]},l.value))})});function EE({eventType:t}){return t===null?d.jsx("span",{className:"text-text-muted text-xs",children:"Other"}):d.jsx("span",{className:"text-text-secondary text-xs font-bold",children:aE[t]??t})}function CE({direction:t,actual:e,expected:n}){if(e===null||n===null)return d.jsx("span",{className:"text-text-muted text-xs",children:"--"});const i=e-n,s=t==="above"?"text-accent-green":t==="below"?"text-accent-red":"text-text-muted";return d.jsx("span",{className:`text-xs ${s}`,children:vE(t,i)})}function kE({level:t}){const e=gd[t]??gd.low;return d.jsx("span",{className:`text-xs ${e.colorClass}`,children:e.label})}function NE({event:t,isPast:e,isExpanded:n,onToggle:i,symbol:s}){const r=t.eventType!==null&&s!=="",l=t.actual!==null&&t.expected!==null?t.actual>t.expected?"above":t.actual<t.expected?"below":"inline":"inline";return d.jsxs("tr",{className:`border-b border-terminal-border hover:bg-terminal-panel transition-colors duration-100 ${e?"opacity-50":""}`,children:[d.jsx("td",{className:"py-1 px-2 text-xs text-text-muted whitespace-nowrap",children:t.date}),d.jsx("td",{className:"py-1 px-2",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(EE,{eventType:t.eventType}),r&&d.jsx("button",{type:"button",onClick:i,className:"text-text-muted hover:text-text-primary text-xs","aria-label":n?"Collapse reaction data":"Expand reaction data",children:n?"":""})]})}),d.jsx("td",{className:"py-1 px-2 text-xs text-text-primary whitespace-nowrap",children:fa(t.actual,t.unit)}),d.jsx("td",{className:"py-1 px-2 text-xs text-text-muted whitespace-nowrap",children:fa(t.expected,t.unit)}),d.jsx("td",{className:"py-1 px-2 text-xs text-text-muted whitespace-nowrap",children:fa(t.previous,t.unit)}),d.jsx("td",{className:"py-1 px-2",children:d.jsx(CE,{direction:l,actual:t.actual,expected:t.expected})}),d.jsx("td",{className:"py-1 px-2",children:d.jsx(kE,{level:t.importance})})]})}function Lr({value:t,label:e}){const n=t===null?"text-text-muted":t>0?"text-accent-green":t<0?"text-accent-red":"text-text-muted";return d.jsxs("div",{className:"flex flex-col items-center p-1",children:[d.jsx("span",{className:"text-text-muted text-xs",children:e}),d.jsx("span",{className:`text-xs font-bold ${n}`,children:t===null?"--":`${t>0?"+":""}${t.toFixed(2)}%`})]})}function zE({averages:t}){return d.jsxs("div",{className:"grid grid-cols-5 gap-1 bg-terminal-panel rounded p-2",children:[d.jsx(Lr,{value:t.avgReturn1dOnBeat,label:"1D Beat"}),d.jsx(Lr,{value:t.avgReturn1dOnMiss,label:"1D Miss"}),d.jsx(Lr,{value:t.avgReturn5dOnBeat,label:"5D Beat"}),d.jsx(Lr,{value:t.avgReturn5dOnMiss,label:"5D Miss"}),d.jsxs("div",{className:"flex flex-col items-center p-1",children:[d.jsx("span",{className:"text-text-muted text-xs",children:"Vol Ratio"}),d.jsx("span",{className:"text-text-primary text-xs font-bold",children:t.avgVolumeRatio!==null?`${t.avgVolumeRatio.toFixed(1)}x`:"--"})]})]})}const ME=Ut.memo(function({reactionData:e,loading:n,error:i}){return n?d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"py-2 px-4",children:d.jsx("div",{className:"h-12 animate-pulse bg-terminal-panel rounded"})})}):i?d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"py-2 px-4",children:d.jsx("p",{className:"text-accent-red text-xs",children:i})})}):!e||e.reactions.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"py-2 px-4",children:d.jsx("p",{className:"text-text-muted text-xs",children:"No historical reaction data available"})})}):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"py-2 px-4",children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"text-text-muted text-xs",children:["Historical reactions (",e.sampleSize," events)"]}),d.jsx(zE,{averages:e.averages})]})})})}),RE=Ut.memo(function({events:e,symbol:n,expandedEventType:i,onToggleExpand:s,reactionData:r,reactionLoading:l,reactionError:o}){const a=new Date().toISOString().slice(0,10),u="py-1 px-2 text-xs text-text-muted font-normal";return d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-terminal-border",children:[d.jsx("th",{className:u,children:"Date"}),d.jsx("th",{className:u,children:"Event"}),d.jsx("th",{className:u,children:"Actual"}),d.jsx("th",{className:u,children:"Expected"}),d.jsx("th",{className:u,children:"Previous"}),d.jsx("th",{className:u,children:"Surprise"}),d.jsx("th",{className:u,children:"Impact"})]})}),d.jsx("tbody",{children:e.map((h,c)=>{const f=h.date!==""&&h.date<a,g=h.eventType??`other-${c}`,p=i!==null&&h.eventType!==null&&i===h.eventType;return d.jsxs(Ut.Fragment,{children:[d.jsx(NE,{event:h,isPast:f,isExpanded:p,onToggle:()=>{h.eventType!==null&&s(h.eventType)},symbol:n}),p&&d.jsx(ME,{reactionData:r,loading:l,error:o})]},`${h.date}-${g}-${c}`)})})]})})});function PE({symbol:t}){const{data:e,loading:n,error:i}=yE(),{data:s,loading:r,error:l,fetchReaction:o}=xE(),[a,u]=S.useState("all"),[h,c]=S.useState(null),f=S.useMemo(()=>{if(!e)return[];let m=e.events;a!=="all"&&(m=m.filter(x=>x.importance===a));const w=new Date().toISOString().slice(0,10),v=m.filter(x=>x.date>=w),y=m.filter(x=>x.date<w);return v.sort((x,b)=>x.date.localeCompare(b.date)),y.sort((x,b)=>b.date.localeCompare(x.date)),[...v,...y]},[e,a]),g=S.useMemo(()=>e?{high:e.events.filter(m=>m.importance==="high").length,medium:e.events.filter(m=>m.importance==="medium").length,low:e.events.filter(m=>m.importance==="low").length}:{high:0,medium:0,low:0},[e]),p=m=>{h===m?c(null):(c(m),t&&ov.has(m)&&o(t,m))};return d.jsxs("div",{className:"bg-terminal-panel border border-terminal-border rounded p-4 h-full flex flex-col",children:[d.jsx("h3",{className:"text-text-primary font-mono text-sm mb-2",children:"Macro Calendar"}),n&&d.jsx(wE,{}),!n&&i&&d.jsx(SE,{error:i}),!n&&!i&&(!e||f.length===0)&&d.jsx(bE,{}),!n&&!i&&e&&f.length>0&&d.jsxs("div",{className:"flex flex-col gap-2 flex-1 min-h-0",children:[d.jsx(_E,{active:a,onChange:u,counts:g}),d.jsx("div",{className:"flex-1 overflow-auto",children:d.jsx(RE,{events:f,symbol:t,expandedEventType:h,onToggleExpand:p,reactionData:s,reactionLoading:r,reactionError:l})})]})]})}const jE=9e5,TE=9e5,LE={"P-Purchase":{label:"Buy",colorClass:"bg-accent-green"},"S-Sale":{label:"Sell",colorClass:"bg-accent-red"},"M-Exercise":{label:"Exercise",colorClass:"bg-accent-amber"},"G-Gift":{label:"Gift",colorClass:"bg-gray-600"},"A-Grant":{label:"Grant",colorClass:"bg-accent-blue"},"F-Tax":{label:"Tax",colorClass:"bg-gray-600"}};function ae(t){return typeof t=="boolean"?null:typeof t=="number"&&Number.isFinite(t)?t:null}function Tc(t){if(!bt(t))return"--";const e=Math.abs(t);return e>=1e9?`${(t/1e9).toFixed(2)}B`:e>=1e6?`${(t/1e6).toFixed(2)}M`:e>=1e3?`${(t/1e3).toFixed(2)}K`:new Intl.NumberFormat("en-US").format(t)}function $E(t){return bt(t)?`${t>0?"+":""}${t.toFixed(2)}%`:"--"}function DE(t){return{holderName:t.holder_name,cik:t.cik,shares:ae(t.shares)??0,value:ae(t.value)??0,percentOfOutstanding:ae(t.percent_of_outstanding),changeShares:ae(t.change_shares),changePercent:ae(t.change_percent),filingDate:t.filing_date}}function OE(t){return{symbol:t.symbol,filingPeriod:t.filing_period,totalInstitutionalShares:ae(t.total_institutional_shares)??0,totalInstitutionalValue:ae(t.total_institutional_value)??0,institutionalOwnershipPercent:ae(t.institutional_ownership_percent),holders:Array.isArray(t.holders)?t.holders.map(DE):[],quarterOverQuarter:{newPositions:ae(t.quarter_over_quarter.new_positions)??0,increasedPositions:ae(t.quarter_over_quarter.increased_positions)??0,decreasedPositions:ae(t.quarter_over_quarter.decreased_positions)??0,closedPositions:ae(t.quarter_over_quarter.closed_positions)??0,netSharesChange:ae(t.quarter_over_quarter.net_shares_change)??0},dataSource:t.data_source,dataTimestamp:t.data_timestamp,note:t.note??""}}function AE(t){return{insiderName:t.insider_name,title:t.title,transactionType:t.transaction_type,transactionDate:t.transaction_date,shares:ae(t.shares)??0,pricePerShare:ae(t.price_per_share),totalValue:ae(t.total_value),sharesRemaining:ae(t.shares_remaining),filingDate:t.filing_date}}function IE(t){return{symbol:t.symbol,transactions:Array.isArray(t.transactions)?t.transactions.map(AE):[],summary:{periodDays:ae(t.summary.period_days)??0,totalInsiderBuys:ae(t.summary.total_insider_buys)??0,totalInsiderSells:ae(t.summary.total_insider_sells)??0,totalBuyValue:ae(t.summary.total_buy_value)??0,totalSellValue:ae(t.summary.total_sell_value)??0,netActivity:t.summary.net_activity,buySellRatio:ae(t.summary.buy_sell_ratio)??0},dataSource:t.data_source,dataTimestamp:t.data_timestamp}}const wd=new Map;function FE(t){const[e,n]=S.useState(null),[i,s]=S.useState(!0),[r,l]=S.useState(null);return S.useEffect(()=>{if(!t){n(null),l(null),s(!1);return}const o=t.toUpperCase(),a=wd.get(o);if(a&&Date.now()-a.timestamp<jE){n(a.data),l(null),s(!1);return}let u=!1;return s(!0),l(null),l1(o).then(h=>{if(u)return;const c=OE(h);wd.set(o,{data:c,timestamp:Date.now()}),n(c),l(null)}).catch(()=>{u||(n(null),l("Failed to load ownership data. Please try again later."))}).finally(()=>{u||s(!1)}),()=>{u=!0}},[t]),{data:e,loading:i,error:r}}function VE(){return d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"h-4 animate-pulse bg-terminal-border rounded w-48"}),[0,1,2,3,4].map(t=>d.jsx("div",{className:"h-3 animate-pulse bg-terminal-border rounded w-full"},t))]})}function BE({message:t}){return d.jsx("p",{className:"text-accent-red text-xs text-center py-4",children:t})}function Sd(){return d.jsx("p",{className:"text-text-muted text-xs text-center py-4",children:"No institutional ownership data available"})}function WE({value:t}){if(!bt(t))return d.jsx("span",{className:"text-text-muted",children:"--"});let e="text-text-muted";return t>0?e="text-accent-green":t<0&&(e="text-accent-red"),d.jsx("span",{className:e,children:$E(t)})}function UE({symbol:t}){const{data:e,loading:n,error:i}=FE(t);return d.jsxs("div",{className:"bg-terminal-panel border border-terminal-border rounded p-4 h-full flex flex-col overflow-hidden",children:[d.jsx("h3",{className:"text-text-primary font-mono text-sm mb-2",children:"Institutional Ownership"}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:n?d.jsx(VE,{}):i?d.jsx(BE,{message:i}):e?d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-text-muted",children:"Total Institutional Ownership"}),d.jsx("span",{className:"text-text-primary font-mono",children:bt(e.institutionalOwnershipPercent)?`${e.institutionalOwnershipPercent.toFixed(1)}%`:Us(e.totalInstitutionalValue)})]}),e.note&&d.jsx("p",{className:"text-text-muted text-xs italic",children:e.note}),e.holders.length===0?d.jsx(Sd,{}):d.jsxs("table",{className:"w-full text-xs font-mono",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-text-muted border-b border-terminal-border",children:[d.jsx("th",{className:"text-left py-1 pr-2 font-normal",children:"Holder"}),d.jsx("th",{className:"text-right py-1 pr-2 font-normal",children:"Shares"}),d.jsx("th",{className:"text-right py-1 pr-2 font-normal",children:"% Out"}),d.jsx("th",{className:"text-right py-1 pr-2 font-normal",children:"Change"}),d.jsx("th",{className:"text-right py-1 font-normal",children:"Filed"})]})}),d.jsx("tbody",{children:e.holders.slice(0,10).map((s,r)=>d.jsxs("tr",{className:"border-b border-terminal-border/30",children:[d.jsx("td",{className:"text-text-primary py-1 pr-2 truncate max-w-[120px]",children:s.holderName}),d.jsx("td",{className:"text-text-primary text-right py-1 pr-2",children:Tc(s.shares)}),d.jsx("td",{className:"text-text-primary text-right py-1 pr-2",children:bt(s.percentOfOutstanding)?`${s.percentOfOutstanding.toFixed(2)}%`:"--"}),d.jsx("td",{className:"text-right py-1 pr-2",children:d.jsx(WE,{value:s.changePercent})}),d.jsx("td",{className:"text-text-muted text-right py-1",children:s.filingDate??"--"})]},r))})]}),e.filingPeriod&&d.jsxs("div",{className:"text-text-muted text-xs pt-1 border-t border-terminal-border/30",children:["13F data as of: ",e.filingPeriod]})]}):d.jsx(Sd,{})})]})}const bd=new Map;function HE(t){const[e,n]=S.useState(null),[i,s]=S.useState(!0),[r,l]=S.useState(null);return S.useEffect(()=>{if(!t){n(null),l(null),s(!1);return}const o=t.toUpperCase(),a=bd.get(o);if(a&&Date.now()-a.timestamp<TE){n(a.data),l(null),s(!1);return}let u=!1;return s(!0),l(null),o1(o).then(h=>{if(u)return;const c=IE(h);bd.set(o,{data:c,timestamp:Date.now()}),n(c),l(null)}).catch(()=>{u||(n(null),l("Failed to load insider data. Please try again later."))}).finally(()=>{u||s(!1)}),()=>{u=!0}},[t]),{data:e,loading:i,error:r}}function KE(){return d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"h-4 animate-pulse bg-terminal-border rounded w-40"}),[0,1,2,3,4].map(t=>d.jsx("div",{className:"h-3 animate-pulse bg-terminal-border rounded w-full"},t))]})}function XE({message:t}){return d.jsx("p",{className:"text-accent-red text-xs text-center py-4",children:t})}function _d(){return d.jsx("p",{className:"text-text-muted text-xs text-center py-4",children:"No insider activity data available"})}function qE({type:t}){const e=LE[t]??{label:t,colorClass:"bg-gray-600"};return d.jsx("span",{className:`${e.colorClass} text-white text-xs px-1.5 py-0.5 rounded font-mono`,children:e.label})}function GE({netActivity:t,buys:e,sells:n,periodDays:i}){const s=e-n;let r="text-text-muted";return t==="net_buying"?r="text-accent-green":t==="net_selling"&&(r="text-accent-red"),d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsxs("span",{className:"text-text-muted",children:["Net Insider Activity (",i,"d)"]}),d.jsxs("span",{className:`font-mono ${r}`,children:[s>=0?"+":"",Tc(s)," shares"]})]})}function QE({symbol:t}){const{data:e,loading:n,error:i}=HE(t);return d.jsxs("div",{className:"bg-terminal-panel border border-terminal-border rounded p-4 h-full flex flex-col overflow-hidden",children:[d.jsx("h3",{className:"text-text-primary font-mono text-sm mb-2",children:"Insider Activity"}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:n?d.jsx(KE,{}):i?d.jsx(XE,{message:i}):e?d.jsxs("div",{className:"space-y-2",children:[d.jsx(GE,{netActivity:e.summary.netActivity,buys:e.summary.totalInsiderBuys,sells:e.summary.totalInsiderSells,periodDays:e.summary.periodDays}),e.transactions.length===0?d.jsx(_d,{}):d.jsxs("table",{className:"w-full text-xs font-mono",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-text-muted border-b border-terminal-border",children:[d.jsx("th",{className:"text-left py-1 pr-2 font-normal",children:"Insider"}),d.jsx("th",{className:"text-left py-1 pr-2 font-normal",children:"Type"}),d.jsx("th",{className:"text-right py-1 pr-2 font-normal",children:"Shares"}),d.jsx("th",{className:"text-right py-1 pr-2 font-normal",children:"Value"}),d.jsx("th",{className:"text-right py-1 font-normal",children:"Date"})]})}),d.jsx("tbody",{children:e.transactions.map((s,r)=>d.jsxs("tr",{className:"border-b border-terminal-border/30",children:[d.jsxs("td",{className:"text-text-primary py-1 pr-2 truncate max-w-[120px]",children:[d.jsx("div",{children:s.insiderName}),s.title&&d.jsx("div",{className:"text-text-muted text-xs",children:s.title})]}),d.jsx("td",{className:"py-1 pr-2",children:d.jsx(qE,{type:s.transactionType})}),d.jsx("td",{className:"text-text-primary text-right py-1 pr-2",children:Tc(s.shares)}),d.jsx("td",{className:"text-text-primary text-right py-1 pr-2",children:bt(s.totalValue)?Us(s.totalValue):"--"}),d.jsx("td",{className:"text-text-muted text-right py-1",children:s.transactionDate??"--"})]},r))})]}),d.jsxs("div",{className:"text-text-muted text-xs pt-1 border-t border-terminal-border/30",children:["Form 4 data as of: ",e.dataTimestamp]})]}):d.jsx(_d,{})})]})}function JE(t){const e=Math.max(0,Math.floor(t/1e3));if(e<60)return`${e}s`;const n=Math.floor(e/60),i=e%60;return`${n}m ${i}s`}function YE({symbol:t}){const{subscribe:e,unsubscribe:n,onMessage:i}=Ai(),[s,r]=S.useState(()=>new Map),l=S.useRef(new Map),[,o]=S.useState(0),a=S.useRef(null);S.useEffect(()=>{const c=Array.from(s.values()).some(f=>f.completedAt===null);return c&&a.current===null?a.current=setInterval(()=>{o(f=>f+1)},1e3):!c&&a.current!==null&&(clearInterval(a.current),a.current=null),()=>{}},[s]);const u=S.useCallback(c=>{const f=l.current.get(c);f!==void 0&&clearTimeout(f);const g=setTimeout(()=>{l.current.delete(c),r(p=>{const m=new Map(p);return m.delete(c),m})},2e3);l.current.set(c,g)},[]);if(S.useEffect(()=>{e($t.AnalysisProgress);const c=i("analysis_progress",g=>{t!==void 0&&g.symbol!==t||r(p=>{const m=new Map(p),w=p.get(g.symbol);return m.set(g.symbol,{symbol:g.symbol,agent:g.agent,agentNumber:g.agent_number,totalAgents:g.total_agents,status:g.status,message:g.message,startedAt:(w==null?void 0:w.startedAt)??Date.now(),completedAt:null}),m})}),f=i("analysis_complete",g=>{t!==void 0&&g.symbol!==t||(r(p=>{const m=p.get(g.symbol);if(!m)return p;const w=new Map(p);return w.set(g.symbol,{...m,status:"completed",completedAt:Date.now()}),w}),u(g.symbol))});return()=>{c(),f(),n($t.AnalysisProgress)}},[t,e,n,i,u]),S.useEffect(()=>()=>{a.current!==null&&(clearInterval(a.current),a.current=null),l.current.forEach(c=>clearTimeout(c)),l.current.clear()},[]),s.size===0)return null;const h=Array.from(s.values());return d.jsxs("div",{className:"bg-terminal-panel border border-terminal-border rounded p-4","data-testid":"analysis-progress",children:[d.jsx("h3",{className:"text-text-primary font-mono text-sm mb-3",children:"Analysis Progress"}),d.jsx("div",{className:"space-y-3",children:h.map(c=>{const f=c.completedAt!==null,g=c.totalAgents>0?Math.round(c.agentNumber/c.totalAgents*100):0,p=f?c.completedAt-c.startedAt:Date.now()-c.startedAt;return d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-accent-amber font-mono text-xs font-bold",children:c.symbol}),d.jsx("span",{className:"text-text-secondary font-mono text-xs",children:JE(p)})]}),d.jsx("div",{className:"w-full bg-terminal-border rounded-full h-1.5",children:d.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${f?"bg-green-500":"bg-accent-amber"}`,style:{width:`${f?100:g}%`},"data-testid":`progress-bar-${c.symbol}`})}),d.jsx("p",{className:`font-mono text-xs ${f?"text-green-400":"text-text-secondary"}`,children:f?"Analysis complete":`Agent ${c.agentNumber}/${c.totalAgents}: ${c.message}`})]},c.symbol)})})]})}function ZE(t){switch(t){case"connected":return{colorClass:"bg-green-500",label:"Connected"};case"connecting":case"reconnecting":return{colorClass:"bg-amber-500",label:t==="connecting"?"Connecting":"Reconnecting"};case"disconnected":default:return{colorClass:"bg-red-500",label:"Disconnected"}}}function Cn({direction:t="horizontal"}){return d.jsx(ig,{className:`
        ${t==="vertical"?"w-1":"h-1"}
        bg-terminal-border
        hover:bg-accent-blue
        active:bg-accent-blue
        transition-colors
        duration-150
      `})}function eC(){const{activeTicker:t}=Ul(),{status:e}=Ai(),n=ZE(e);return d.jsxs("div",{className:"h-screen w-screen bg-terminal-bg flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"shrink-0 p-2 pb-0 flex items-center gap-2",children:[d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx(w1,{})}),d.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 pr-1","data-testid":"ws-status",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${n.colorClass}`}),d.jsx("span",{className:"text-text-secondary font-mono text-xs",children:n.label})]})]}),d.jsx("div",{className:"shrink-0 px-2",children:d.jsx(YE,{symbol:t})}),d.jsx("div",{className:"flex-1 min-h-0 p-2",children:d.jsxs(rs,{direction:"vertical",autoSaveId:"terminal-vertical",children:[d.jsx(st,{defaultSize:50,minSize:25,children:d.jsxs(rs,{direction:"horizontal",autoSaveId:"terminal-middle",children:[d.jsx(st,{defaultSize:20,minSize:10,maxSize:35,children:d.jsx("div",{className:"h-full overflow-auto",children:d.jsx(c_,{})})}),d.jsx(Cn,{direction:"vertical"}),d.jsx(st,{defaultSize:50,minSize:25,children:d.jsx("div",{className:"h-full overflow-auto",children:d.jsx(s_,{symbol:t})})}),d.jsx(Cn,{direction:"vertical"}),d.jsx(st,{defaultSize:30,minSize:15,children:d.jsx("div",{className:"h-full overflow-auto",children:d.jsx(iE,{symbol:t})})})]})}),d.jsx(Cn,{direction:"horizontal"}),d.jsx(st,{defaultSize:22,minSize:12,children:d.jsxs(rs,{direction:"horizontal",autoSaveId:"terminal-bottom",children:[d.jsx(st,{defaultSize:40,minSize:20,children:d.jsx("div",{className:"h-full overflow-auto",children:d.jsx(E_,{symbol:t})})}),d.jsx(Cn,{direction:"vertical"}),d.jsx(st,{defaultSize:60,minSize:25,children:d.jsx("div",{className:"h-full overflow-auto",children:d.jsx($_,{symbol:t})})})]})}),d.jsx(Cn,{direction:"horizontal"}),d.jsx(st,{defaultSize:18,minSize:10,children:d.jsxs(rs,{direction:"horizontal",autoSaveId:"terminal-ownership",children:[d.jsx(st,{defaultSize:50,minSize:20,children:d.jsx("div",{className:"h-full overflow-auto",children:d.jsx(UE,{symbol:t})})}),d.jsx(Cn,{direction:"vertical"}),d.jsx(st,{defaultSize:50,minSize:20,children:d.jsx("div",{className:"h-full overflow-auto",children:d.jsx(QE,{symbol:t})})})]})}),d.jsx(Cn,{direction:"horizontal"}),d.jsx(st,{defaultSize:10,minSize:5,maxSize:25,children:d.jsx("div",{className:"h-full overflow-auto",children:d.jsx(PE,{symbol:t})})})]})})]})}function tC(){return d.jsx("div",{className:"dark",children:d.jsx(Uy,{children:d.jsx(Iy,{children:d.jsx(eC,{})})})})}Dm(document.getElementById("root")).render(d.jsx(S.StrictMode,{children:d.jsx(tC,{})}));
